var Ps=Object.defineProperty;var Ws=(e,t,n)=>t in e?Ps(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ne=(e,t,n)=>(Ws(e,typeof t!="symbol"?t+"":t,n),n);import{r as a,R as yt}from"./index-BMVQvedj.js";import{_ as Ml}from"./iframe-9FFu--7X.js";import{h as Os,d as Rl,j as $s,v as Ns,_ as Xs,g as Ys,c as sn,r as ro,t as Gs}from"./throttle-7EuXLZa7.js";import{u as Ks,f as ji}from"./flatten-qRvRBp6y.js";import{s as Qt,b as Us}from"./marked.esm-dbrxtycE.js";function El(e="This should not happen"){throw new Error(e)}function Zt(e,t="Assertion failed"){if(!e)return El(t)}function tr(e,t){return El(t??"Hell froze over")}function _s(e,t){try{return e()}catch{return t}}const Zi=Object.prototype.hasOwnProperty;function To(e,t){let n,o;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((o=e.length)===t.length)for(;o--&&To(e[o],t[o]););return o===-1}if(!n||typeof e=="object"){o=0;for(n in e)if(Zi.call(e,n)&&++o&&!Zi.call(t,n)||!(n in t)||!To(e[n],t[n]))return!1;return Object.keys(t).length===o}}return e!==e&&t!==t}const zr=null,Ci=void 0;var Z;(function(e){e.Uri="uri",e.Text="text",e.Image="image",e.RowID="row-id",e.Number="number",e.Bubble="bubble",e.Boolean="boolean",e.Loading="loading",e.Markdown="markdown",e.Drilldown="drilldown",e.Protected="protected",e.Custom="custom"})(Z||(Z={}));var Ji;(function(e){e.HeaderRowID="headerRowID",e.HeaderCode="headerCode",e.HeaderNumber="headerNumber",e.HeaderString="headerString",e.HeaderBoolean="headerBoolean",e.HeaderAudioUri="headerAudioUri",e.HeaderVideoUri="headerVideoUri",e.HeaderEmoji="headerEmoji",e.HeaderImage="headerImage",e.HeaderUri="headerUri",e.HeaderPhone="headerPhone",e.HeaderMarkdown="headerMarkdown",e.HeaderDate="headerDate",e.HeaderTime="headerTime",e.HeaderEmail="headerEmail",e.HeaderReference="headerReference",e.HeaderIfThenElse="headerIfThenElse",e.HeaderSingleValue="headerSingleValue",e.HeaderLookup="headerLookup",e.HeaderTextTemplate="headerTextTemplate",e.HeaderMath="headerMath",e.HeaderRollup="headerRollup",e.HeaderJoinStrings="headerJoinStrings",e.HeaderSplitString="headerSplitString",e.HeaderGeoDistance="headerGeoDistance",e.HeaderArray="headerArray",e.RowOwnerOverlay="rowOwnerOverlay",e.ProtectedColumnOverlay="protectedColumnOverlay"})(Ji||(Ji={}));var Br;(function(e){e.Triangle="triangle",e.Dots="dots"})(Br||(Br={}));function Ir(e){return"width"in e&&typeof e.width=="number"}async function Qi(e){return typeof e=="object"?e:await e()}function Io(e){return!(e.kind===Z.Loading||e.kind===Z.Bubble||e.kind===Z.RowID||e.kind===Z.Protected||e.kind===Z.Drilldown)}function ku(e){return!(e.kind===Z.Loading||e.kind===Z.Bubble||e.kind===Z.RowID||e.kind===Z.Protected||e.kind===Z.Drilldown||e.kind===Z.Boolean||e.kind===Z.Image||e.kind===Z.Custom)}function Do(e){return e.kind===an.Marker||e.kind===an.NewRow}function Zo(e){if(!Io(e)||e.kind===Z.Image)return!1;if(e.kind===Z.Text||e.kind===Z.Number||e.kind===Z.Markdown||e.kind===Z.Uri||e.kind===Z.Custom||e.kind===Z.Boolean)return e.readonly!==!0;tr(e,"A cell was passed with an invalid kind")}function Vs(e){return Os(e,"editor")}function mi(e){return!(e.readonly??!1)}var an;(function(e){e.NewRow="new-row",e.Marker="marker"})(an||(an={}));function qs(e){if(e.length===0)return[];const t=[...e],n=[];t.sort(function(o,r){return o[0]-r[0]}),n.push([...t[0]]);for(const o of t.slice(1)){const r=n[n.length-1];r[1]<o[0]?n.push([...o]):r[1]<o[1]&&(r[1]=o[1])}return n}let el;const Tn=class Tn{constructor(t){Ne(this,"items");this.items=t}offset(t){if(t===0)return this;const n=this.items.map(o=>[o[0]+t,o[1]+t]);return new Tn(n)}add(t){const n=typeof t=="number"?[t,t+1]:t,o=qs([...this.items,n]);return new Tn(o)}remove(t){const n=[...this.items],o=typeof t=="number"?t:t[0],r=typeof t=="number"?t+1:t[1];for(const[i,l]of n.entries()){const[s,c]=l;if(s<=r&&o<=c){const u=[];s<o&&u.push([s,o]),r<c&&u.push([r,c]),n.splice(i,1,...u)}}return new Tn(n)}first(){if(this.items.length!==0)return this.items[0][0]}last(){if(this.items.length!==0)return this.items.slice(-1)[0][1]-1}hasIndex(t){for(let n=0;n<this.items.length;n++){const[o,r]=this.items[n];if(t>=o&&t<r)return!0}return!1}hasAll(t){for(let n=t[0];n<t[1];n++)if(!this.hasIndex(n))return!1;return!0}some(t){for(const n of this)if(t(n))return!0;return!1}equals(t){if(t===this)return!0;if(t.items.length!==this.items.length)return!1;for(let n=0;n<this.items.length;n++){const o=t.items[n],r=this.items[n];if(o[0]!==r[0]||o[1]!==r[1])return!1}return!0}toArray(){const t=[];for(const[n,o]of this.items)for(let r=n;r<o;r++)t.push(r);return t}get length(){let t=0;for(const[n,o]of this.items)t+=o-n;return t}*[Symbol.iterator](){for(const[t,n]of this.items)for(let o=t;o<n;o++)yield o}};Ne(Tn,"empty",()=>el??(el=new Tn([]))),Ne(Tn,"fromSingleSelection",t=>Tn.empty().add(t));let rt=Tn;const js=Qt("div")({name:"ImageOverlayEditorStyle",class:"gdg-i2iowwq",propsAsIs:!1});function Ot(e,t,n,o,r=!1){const i=a.useRef();i.current=t,a.useEffect(()=>{if(n===null||n.addEventListener===void 0)return;const l=n,s=c=>{var u;(u=i.current)==null||u.call(l,c)};return l.addEventListener(e,s,{passive:o,capture:r}),()=>{l.removeEventListener(e,s,{capture:r})}},[e,n,o,r])}function oo(e,t){return e===void 0?void 0:t}const Zs=Math.PI;function tl(e){return e*Zs/180}const Il=(e,t,n)=>({x1:e-n/2,y1:t-n/2,x2:e+n/2,y2:t+n/2}),Dl=(e,t,n,o,r)=>{switch(e){case"left":return Math.floor(t)+o+r/2;case"center":return Math.floor(t+n/2);case"right":return Math.floor(t+n)-o-r/2}},Fl=(e,t,n)=>Math.min(e,t-n*2),Hl=(e,t,n)=>n.x1<=e&&e<=n.x2&&n.y1<=t&&t<=n.y2,xi=e=>{const t=e.fgColor??"currentColor";return a.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M12.7073 7.05029C7.87391 11.8837 10.4544 9.30322 6.03024 13.7273C5.77392 13.9836 5.58981 14.3071 5.50189 14.6587L4.52521 18.5655C4.38789 19.1148 4.88543 19.6123 5.43472 19.475L9.34146 18.4983C9.69313 18.4104 10.0143 18.2286 10.2706 17.9722L16.9499 11.2929",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",vectorEffect:"non-scaling-stroke"}),a.createElement("path",{d:"M20.4854 4.92901L19.0712 3.5148C18.2901 2.73375 17.0238 2.73375 16.2428 3.5148L14.475 5.28257C15.5326 7.71912 16.4736 8.6278 18.7176 9.52521L20.4854 7.75744C21.2665 6.97639 21.2665 5.71006 20.4854 4.92901Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",vectorEffect:"non-scaling-stroke"}))},Js=e=>{const t=e.fgColor??"currentColor";return a.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M19 6L10.3802 17L5.34071 11.8758",vectorEffect:"non-scaling-stroke",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))};function Qs(e,t,n){const[o,r]=a.useState(e),i=a.useRef(!0);a.useEffect(()=>()=>{i.current=!1},[]);const l=a.useRef(Rl(s=>{i.current&&r(s)},n));return a.useLayoutEffect(()=>{i.current&&l.current(()=>e())},t),o}const ea="֑-߿יִ-﷽ﹰ-ﻼ",ta="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",na=new RegExp("^[^"+ta+"]*["+ea+"]");function ki(e){return na.test(e)?"rtl":"not-rtl"}let Dr;function wi(){if(typeof document>"u")return 0;if(Dr!==void 0)return Dr;const e=document.createElement("p");e.style.width="100%",e.style.height="200px";const t=document.createElement("div");t.id="testScrollbar",t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.append(e),document.body.append(t);const n=e.offsetWidth;t.style.overflow="scroll";let o=e.offsetWidth;return n===o&&(o=t.clientWidth),t.remove(),Dr=n-o,Dr}const no=Symbol();function oa(e){const t=a.useRef([no,e]);t.current[1]!==e&&(t.current[0]=e),t.current[1]=e;const[n,o]=a.useState(e),[,r]=a.useState(),i=a.useCallback(s=>{const c=t.current[0];c!==no&&(s=typeof s=="function"?s(c):s,s===c)||(c!==no&&r({}),o(u=>typeof s=="function"?s(c===no?u:c):s),t.current[0]=no)},[]),l=a.useCallback(()=>{t.current[0]=no,r({})},[]);return[t.current[0]===no?n:t.current[0],i,l]}function Tl(e){if(e.length===0)return"";let t=0,n=0;for(const o of e){if(n+=o.length,n>1e4)break;t++}return e.slice(0,t).join(", ")}function ra(e){const t=a.useRef(e);return To(e,t.current)||(t.current=e),t.current}const ia=e=>{const{urls:t,canWrite:n,onEditClick:o,renderImage:r}=e,i=t.filter(s=>s!=="");if(i.length===0)return null;const l=i.length>1;return a.createElement(js,{"data-testid":"GDG-default-image-overlay-editor"},a.createElement($s.Carousel,{showArrows:l,showThumbs:!1,swipeable:l,emulateTouch:l,infiniteLoop:l},i.map(s=>{const c=(r==null?void 0:r(s))??a.createElement("img",{draggable:!1,src:s});return a.createElement("div",{className:"gdg-centering-container",key:s},c)})),n&&o&&a.createElement("button",{className:"gdg-edit-icon",onClick:o},a.createElement(xi,null)))},la=Qt("div")({name:"MarkdownContainer",class:"gdg-mnuv029",propsAsIs:!1});class sa extends yt.PureComponent{constructor(){super(...arguments);Ne(this,"targetElement",null);Ne(this,"containerRefHook",n=>{this.targetElement=n,this.renderMarkdownIntoDiv()})}renderMarkdownIntoDiv(){const{targetElement:n,props:o}=this;if(n===null)return;const{contents:r,createNode:i}=o,l=Us(r),s=document.createRange();s.selectNodeContents(n),s.deleteContents();let c=i==null?void 0:i(l);if(c===void 0){const f=document.createElement("template");f.innerHTML=l,c=f.content}n.append(c);const u=n.getElementsByTagName("a");for(const f of u)f.target="_blank",f.rel="noreferrer noopener"}render(){return this.renderMarkdownIntoDiv(),yt.createElement(la,{ref:this.containerRefHook})}}const aa=Qt("textarea")({name:"InputBox",class:"gdg-izpuzkl",propsAsIs:!1}),ca=Qt("div")({name:"ShadowBox",class:"gdg-s69h75o",propsAsIs:!1}),da=Qt("div")({name:"GrowingEntryStyle",class:"gdg-g1y0xocz",propsAsIs:!1});let nl=0;const $r=e=>{const{placeholder:t,value:n,onKeyDown:o,highlight:r,altNewline:i,validatedSelection:l,...s}=e,{onChange:c,className:u}=s,f=a.useRef(null),m=n??"";Zt(c!==void 0,"GrowingEntry must be a controlled input area");const[w]=a.useState(()=>"input-box-"+(nl=(nl+1)%1e7));a.useEffect(()=>{const h=f.current;if(h===null||h.disabled)return;const y=m.toString().length;h.focus(),h.setSelectionRange(r?0:y,y)},[]),a.useLayoutEffect(()=>{var h;if(l!==void 0){const y=typeof l=="number"?[l,null]:l;(h=f.current)==null||h.setSelectionRange(y[0],y[1])}},[l]);const g=a.useCallback(h=>{h.key==="Enter"&&h.shiftKey&&i===!0||o==null||o(h)},[i,o]);return a.createElement(da,{className:"gdg-growing-entry"},a.createElement(ca,{className:u},m+`
`),a.createElement(aa,{...s,className:(u??"")+" gdg-input",id:w,ref:f,onKeyDown:g,value:m,placeholder:t,dir:"auto"}))},ai={};let Kn=null;function ua(){const e=document.createElement("div");return e.style.opacity="0",e.style.pointerEvents="none",e.style.position="fixed",document.body.append(e),e}function Ao(e){const t=e.toLowerCase().trim();if(ai[t]!==void 0)return ai[t];Kn=Kn||ua(),Kn.style.color="#000",Kn.style.color=t;const n=getComputedStyle(Kn).color;Kn.style.color="#fff",Kn.style.color=t;const o=getComputedStyle(Kn).color;if(o!==n)return[0,0,0,1];let r=o.replace(/[^\d.,]/g,"").split(",").map(Number.parseFloat);return r.length<4&&r.push(1),r=r.map(i=>Number.isNaN(i)?0:i),ai[t]=r,r}function io(e,t){const[n,o,r]=Ao(e);return`rgba(${n}, ${o}, ${r}, ${t})`}const ol=new Map;function rl(e,t){const n=`${e}-${t}`,o=ol.get(n);if(o!==void 0)return o;const r=Jt(e,t);return ol.set(n,r),r}function Jt(e,t){if(t===void 0)return e;const[n,o,r,i]=Ao(e);if(i===1)return e;const[l,s,c,u]=Ao(t),f=i+u*(1-i),m=(i*n+u*l*(1-i))/f,w=(i*o+u*s*(1-i))/f,g=(i*r+u*c*(1-i))/f;return`rgba(${m}, ${w}, ${g}, ${f})`}function Su(e,t,n){if(n<=0)return e;if(n>=1)return t;const o=[...Ao(e)];o[0]=o[0]*o[3],o[1]=o[1]*o[3],o[2]=o[2]*o[3];const r=[...Ao(t)];r[0]=r[0]*r[3],r[1]=r[1]*r[3],r[2]=r[2]*r[3];const i=n,l=1-n,s=o[3]*l+r[3]*i,c=Math.floor((o[0]*l+r[0]*i)/s),u=Math.floor((o[1]*l+r[1]*i)/s),f=Math.floor((o[2]*l+r[2]*i)/s);return`rgba(${c}, ${u}, ${f}, ${s})`}function Mu(e){if(e==="transparent")return 0;function t(i){const l=i/255;return l<=.04045?l/12.92:Math.pow((l+.055)/1.055,2.4)}const[n,o,r]=Ao(e);return .2126*t(n)+.7152*t(o)+.0722*t(r)}function fa(e,t){return yt.useMemo(()=>e.map((n,o)=>({group:n.group,grow:n.grow,hasMenu:n.hasMenu,icon:n.icon,id:n.id,menuIcon:n.menuIcon,overlayIcon:n.overlayIcon,sourceIndex:o,sticky:o<t,indicatorIcon:n.indicatorIcon,style:n.style,themeOverride:n.themeOverride,title:n.title,trailingRowOptions:n.trailingRowOptions,width:n.width,growOffset:n.growOffset,rowMarker:n.rowMarker,rowMarkerChecked:n.rowMarkerChecked})),[e,t])}function ha(e,t){const[n,o]=t;if(e.columns.hasIndex(n)||e.rows.hasIndex(o))return!0;if(e.current!==void 0){if(Jo(e.current.cell,t))return!0;const r=[e.current.range,...e.current.rangeStack];for(const i of r)if(n>=i.x&&n<i.x+i.width&&o>=i.y&&o<i.y+i.height)return!0}return!1}function nr(e,t){return(e??"")===(t??"")}function ga(e,t,n){return n.current===void 0||e[1]!==n.current.cell[1]?!1:t.span===void 0?n.current.cell[0]===e[0]:n.current.cell[0]>=t.span[0]&&n.current.cell[0]<=t.span[1]}function Al(e,t){const[n,o]=e;return n>=t.x&&n<t.x+t.width&&o>=t.y&&o<t.y+t.height}function Jo(e,t){return(e==null?void 0:e[0])===(t==null?void 0:t[0])&&(e==null?void 0:e[1])===(t==null?void 0:t[1])}function zl(e){return[e.x+e.width-1,e.y+e.height-1]}function il(e,t,n){const o=n.x,r=n.x+n.width-1,i=n.y,l=n.y+n.height-1,[s,c]=e;if(c<i||c>l)return!1;if(t.span===void 0)return s>=o&&s<=r;const[u,f]=t.span;return u>=o&&u<=r||f>=o&&u<=r||u<o&&f>r}function ma(e,t,n,o){let r=0;if(n.current===void 0)return r;const i=n.current.range;(o||i.height*i.width>1)&&il(e,t,i)&&r++;for(const l of n.current.rangeStack)il(e,t,l)&&r++;return r}function Bl(e,t){let n=e;if(t!==void 0){let o=[...e];const r=n[t.src];t.src>t.dest?(o.splice(t.src,1),o.splice(t.dest,0,r)):(o.splice(t.dest+1,0,r),o.splice(t.src,1)),o=o.map((i,l)=>({...i,sticky:e[l].sticky})),n=o}return n}function zo(e,t){let n=0;const o=Bl(e,t);for(let r=0;r<o.length;r++){const i=o[r];if(i.sticky)n+=i.width;else break}return n}function lo(e,t,n){if(typeof n=="number")return t*n;{let o=0;for(let r=e-t;r<e;r++)o+=n(r);return o}}function yi(e,t,n,o,r){const i=Bl(e,o),l=[];for(const u of i)if(u.sticky)l.push(u);else break;if(l.length>0)for(const u of l)n-=u.width;let s=t,c=r??0;for(;c<=n&&s<i.length;)c+=i[s].width,s++;for(let u=t;u<s;u++){const f=i[u];f.sticky||l.push(f)}return l}function wa(e,t,n){let o=0;for(const r of t){const i=r.sticky?o:o+(n??0);if(e<=i+r.width)return r.sourceIndex;o+=r.width}return-1}function ya(e,t,n,o,r,i,l,s,c,u){const f=o+r;if(n&&e<=r)return-2;if(e<=f)return-1;let m=t;for(let h=0;h<u;h++){const y=i-1-h,b=typeof l=="number"?l:l(y);if(m-=b,e>=m)return y}const w=i-u,g=e-(c??0);if(typeof l=="number"){const h=Math.floor((g-f)/l)+s;return h>=w?void 0:h}else{let h=f;for(let y=s;y<w;y++){const b=l(y);if(g<=h+b)return y;h+=b}return}}let Ar=0,Qo={};const ba=typeof window>"u";async function pa(){var e;ba||((e=document==null?void 0:document.fonts)==null?void 0:e.ready)===void 0||(await document.fonts.ready,Ar=0,Qo={},Ns())}pa();function Ll(e,t,n,o){return`${e}_${o??(t==null?void 0:t.font)}_${n}`}function Bo(e,t,n,o="middle"){const r=Ll(e,t,o,n);let i=Qo[r];return i===void 0&&(i=t.measureText(e),Qo[r]=i,Ar++),Ar>1e4&&(Qo={},Ar=0),i}function Pl(e,t){const n=Ll(e,void 0,"middle",t);return Qo[n]}function qn(e,t){return typeof t!="string"&&(t=t.baseFontFull),va(e,t)}function ll(e,t){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZ";e.save(),e.textBaseline=t;const o=e.measureText(n);return e.restore(),o}const sl=[];function va(e,t){for(const i of sl)if(i.key===t)return i.val;const n=ll(e,"alphabetic"),r=-(ll(e,"middle").actualBoundingBoxDescent-n.actualBoundingBoxDescent)+n.actualBoundingBoxAscent/2;return sl.push({key:t,val:r}),r}function Ca(e,t,n,o,r,i){const{ctx:l,rect:s,theme:c}=e;let u=Number.MAX_SAFE_INTEGER;const f=500;if(t!==void 0&&(u=n-t,u<f)){const m=1-u/f;l.globalAlpha=m,l.fillStyle=c.bgSearchResult,l.fillRect(s.x+1,s.y+1,s.width-(r?2:1),s.height-(i?2:1)),l.globalAlpha=1,o!==void 0&&(o.fillStyle=c.bgSearchResult)}return u<f}function rr(e,t,n){const{ctx:o,theme:r}=e,i=t??{},l=n??r.textDark;return l!==i.fillStyle&&(o.fillStyle=l,i.fillStyle=l),i}function Ru(e,t,n){const{rect:o,ctx:r,theme:i}=e;r.fillStyle=i.textDark,Mn({ctx:r,rect:o,theme:i},t,n)}function Wl(e,t,n,o,r,i,l,s,c){c==="right"?e.fillText(t,n+r-(s.cellHorizontalPadding+.5),o+i/2+l):c==="center"?e.fillText(t,n+r/2,o+i/2+l):e.fillText(t,n+s.cellHorizontalPadding+.5,o+i/2+l)}function Ol(e,t){const n=Bo("ABCi09jgqpy",e,t);return n.actualBoundingBoxAscent+n.actualBoundingBoxDescent}function xa(e,t){e.includes(`
`)&&(e=e.split(/\r?\n/,1)[0]);const n=t/4;return e.length>n&&(e=e.slice(0,n)),e}function ka(e,t,n,o,r,i,l,s,c,u){const f=s.baseFontFull,m=Xs(e,t,f,r-s.cellHorizontalPadding*2,u??!1),w=Ol(e,f),g=s.lineHeight*w,h=w+g*(m.length-1),y=h+s.cellVerticalPadding>i;y&&(e.save(),e.rect(n,o,r,i),e.clip());const b=o+i/2-h/2;let x=Math.max(o+s.cellVerticalPadding,b);for(const C of m)if(Wl(e,C,n,x,r,w,l,s,c),x+=g,x>o+i)break;y&&e.restore()}function Mn(e,t,n,o,r){const{ctx:i,rect:l,theme:s}=e,{x:c,y:u,width:f,height:m}=l;o=o??!1,o||(t=xa(t,f));const w=qn(i,s),g=ki(t)==="rtl";if(n===void 0&&g&&(n="right"),g&&(i.direction="rtl"),t.length>0){let h=!1;n==="right"?(i.textAlign="right",h=!0):n!==void 0&&n!=="left"&&(i.textAlign=n,h=!0),o?ka(i,t,c,u,f,m,w,s,n,r):Wl(i,t,c,u,f,m,w,s,n),h&&(i.textAlign="start"),g&&(i.direction="inherit")}}function Rn(e,t,n,o,r,i){typeof i=="number"&&(i={tl:i,tr:i,br:i,bl:i}),i={tl:Math.max(0,Math.min(i.tl,r/2,o/2)),tr:Math.max(0,Math.min(i.tr,r/2,o/2)),bl:Math.max(0,Math.min(i.bl,r/2,o/2)),br:Math.max(0,Math.min(i.br,r/2,o/2))},e.moveTo(t+i.tl,n),e.arcTo(t+o,n,t+o,n+i.tr,i.tr),e.arcTo(t+o,n+r,t+o-i.br,n+r,i.br),e.arcTo(t,n+r,t,n+r-i.bl,i.bl),e.arcTo(t,n,t+i.tl,n,i.tl)}function Sa(e,t,n){e.arc(t,n-1.25*3.5,1.25,0,2*Math.PI,!1),e.arc(t,n,1.25,0,2*Math.PI,!1),e.arc(t,n+1.25*3.5,1.25,0,2*Math.PI,!1)}function Ma(e,t,n){const o=function(s,c){const u=c.x-s.x,f=c.y-s.y,m=Math.sqrt(u*u+f*f),w=u/m,g=f/m;return{x:u,y:c.y-s.y,len:m,nx:w,ny:g,ang:Math.atan2(g,w)}};let r;const i=t.length;let l=t[i-1];for(let s=0;s<i;s++){let c=t[s%i];const u=t[(s+1)%i],f=o(c,l),m=o(c,u),w=f.nx*m.ny-f.ny*m.nx,g=f.nx*m.nx-f.ny*-m.ny;let h=Math.asin(w<-1?-1:w>1?1:w),y=1,b=!1;g<0?h<0?h=Math.PI+h:(h=Math.PI-h,y=-1,b=!0):h>0&&(y=-1,b=!0),r=c.radius!==void 0?c.radius:n;const x=h/2;let C=Math.abs(Math.cos(x)*r/Math.sin(x)),z;C>Math.min(f.len/2,m.len/2)?(C=Math.min(f.len/2,m.len/2),z=Math.abs(C*Math.sin(x)/Math.cos(x))):z=r;let X=c.x+m.nx*C,Y=c.y+m.ny*C;X+=-m.ny*z*y,Y+=m.nx*z*y,e.arc(X,Y,z,f.ang+Math.PI/2*y,m.ang-Math.PI/2*y,b),l=c,c=u}e.closePath()}function bi(e,t,n,o,r,i,l,s,c,u,f,m,w,g,h){const y={x:0,y:i+u,width:0,height:0};if(e>=g.length||t>=f||t<-2||e<0)return y;const b=i-r;if(e>=m){const x=l>e?-1:1,C=zo(g);y.x+=C+c;for(let z=l;z!==e;z+=x)y.x+=g[x===1?z:z-1].width*x}else for(let x=0;x<e;x++)y.x+=g[x].width;if(y.width=g[e].width+1,t===-1)y.y=r,y.height=b;else if(t===-2){y.y=0,y.height=r;let x=e;const C=g[e].group,z=g[e].sticky;for(;x>0&&nr(g[x-1].group,C)&&g[x-1].sticky===z;){const Y=g[x-1];y.x-=Y.width,y.width+=Y.width,x--}let X=e;for(;X+1<g.length&&nr(g[X+1].group,C)&&g[X+1].sticky===z;){const Y=g[X+1];y.width+=Y.width,X++}if(!z){const Y=zo(g),F=y.x-Y;F<0&&(y.x-=F,y.width+=F),y.x+y.width>n&&(y.width=n-y.x)}}else if(t>=f-w){let x=f-t;for(y.y=o;x>0;){const C=t+x-1;y.height=typeof h=="number"?h:h(C),y.y-=y.height,x--}y.height+=1}else{const x=s>t?-1:1;if(typeof h=="number"){const C=t-s;y.y+=C*h}else for(let C=s;C!==t;C+=x)y.y+=h(C)*x;y.height=(typeof h=="number"?h:h(t))+1}return y}const Si=1<<21;function wn(e,t){return(t+2)*Si+e}function $l(e){return e%Si}function Mi(e){return Math.floor(e/Si)-2}function Ri(e){const t=$l(e),n=Mi(e);return[t,n]}class Nl{constructor(){Ne(this,"visibleWindow",{x:0,y:0,width:0,height:0});Ne(this,"freezeCols",0);Ne(this,"freezeRows",[]);Ne(this,"isInWindow",t=>{const n=$l(t),o=Mi(t),r=this.visibleWindow,i=n>=r.x&&n<=r.x+r.width||n<this.freezeCols,l=o>=r.y&&o<=r.y+r.height||this.freezeRows.includes(o);return i&&l})}setWindow(t,n,o){this.visibleWindow.x===t.x&&this.visibleWindow.y===t.y&&this.visibleWindow.width===t.width&&this.visibleWindow.height===t.height&&this.freezeCols===n&&To(this.freezeRows,o)||(this.visibleWindow=t,this.freezeCols=n,this.freezeRows=o,this.clearOutOfWindow())}}class Ra extends Nl{constructor(){super(...arguments);Ne(this,"cache",new Map);Ne(this,"setValue",(n,o)=>{this.cache.set(wn(n[0],n[1]),o)});Ne(this,"getValue",n=>this.cache.get(wn(n[0],n[1])));Ne(this,"clearOutOfWindow",()=>{for(const[n]of this.cache.entries())this.isInWindow(n)||this.cache.delete(n)})}}class er{constructor(t=[]){Ne(this,"cells");this.cells=new Set(t.map(n=>wn(n[0],n[1])))}add(t){this.cells.add(wn(t[0],t[1]))}has(t){return t===void 0?!1:this.cells.has(wn(t[0],t[1]))}remove(t){this.cells.delete(wn(t[0],t[1]))}clear(){this.cells.clear()}get size(){return this.cells.size}hasHeader(){for(const t of this.cells)if(Mi(t)<0)return!0;return!1}hasItemInRectangle(t){for(let n=t.y;n<t.y+t.height;n++)for(let o=t.x;o<t.x+t.width;o++)if(this.cells.has(wn(o,n)))return!0;return!1}hasItemInRegion(t){for(const n of t)if(this.hasItemInRectangle(n))return!0;return!1}*values(){for(const t of this.cells)yield Ri(t)}}function Ea(e){return{"--gdg-accent-color":e.accentColor,"--gdg-accent-fg":e.accentFg,"--gdg-accent-light":e.accentLight,"--gdg-text-dark":e.textDark,"--gdg-text-medium":e.textMedium,"--gdg-text-light":e.textLight,"--gdg-text-bubble":e.textBubble,"--gdg-bg-icon-header":e.bgIconHeader,"--gdg-fg-icon-header":e.fgIconHeader,"--gdg-text-header":e.textHeader,"--gdg-text-group-header":e.textGroupHeader??e.textHeader,"--gdg-text-header-selected":e.textHeaderSelected,"--gdg-bg-cell":e.bgCell,"--gdg-bg-cell-medium":e.bgCellMedium,"--gdg-bg-header":e.bgHeader,"--gdg-bg-header-has-focus":e.bgHeaderHasFocus,"--gdg-bg-header-hovered":e.bgHeaderHovered,"--gdg-bg-bubble":e.bgBubble,"--gdg-bg-bubble-selected":e.bgBubbleSelected,"--gdg-bg-search-result":e.bgSearchResult,"--gdg-border-color":e.borderColor,"--gdg-horizontal-border-color":e.horizontalBorderColor??e.borderColor,"--gdg-drilldown-border":e.drilldownBorder,"--gdg-link-color":e.linkColor,"--gdg-cell-horizontal-padding":`${e.cellHorizontalPadding}px`,"--gdg-cell-vertical-padding":`${e.cellVerticalPadding}px`,"--gdg-header-font-style":e.headerFontStyle,"--gdg-base-font-style":e.baseFontStyle,"--gdg-marker-font-style":e.markerFontStyle,"--gdg-font-family":e.fontFamily,"--gdg-editor-font-size":e.editorFontSize,...e.resizeIndicatorColor===void 0?{}:{"--gdg-resize-indicator-color":e.resizeIndicatorColor},...e.headerBottomBorderColor===void 0?{}:{"--gdg-header-bottom-border-color":e.headerBottomBorderColor},...e.roundingRadius===void 0?{}:{"--gdg-rounding-radius":`${e.roundingRadius}px`}}}const Xl={accentColor:"#4F5DFF",accentFg:"#FFFFFF",accentLight:"rgba(62, 116, 253, 0.1)",textDark:"#313139",textMedium:"#737383",textLight:"#B2B2C0",textBubble:"#313139",bgIconHeader:"#737383",fgIconHeader:"#FFFFFF",textHeader:"#313139",textGroupHeader:"#313139BB",textHeaderSelected:"#FFFFFF",bgCell:"#FFFFFF",bgCellMedium:"#FAFAFB",bgHeader:"#F7F7F8",bgHeaderHasFocus:"#E9E9EB",bgHeaderHovered:"#EFEFF1",bgBubble:"#EDEDF3",bgBubbleSelected:"#FFFFFF",bgSearchResult:"#fff9e3",borderColor:"rgba(115, 116, 131, 0.16)",drilldownBorder:"rgba(0, 0, 0, 0)",linkColor:"#353fb5",cellHorizontalPadding:8,cellVerticalPadding:3,headerIconSize:18,headerFontStyle:"600 13px",baseFontStyle:"13px",markerFontStyle:"9px",fontFamily:"Inter, Roboto, -apple-system, BlinkMacSystemFont, avenir next, avenir, segoe ui, helvetica neue, helvetica, Ubuntu, noto, arial, sans-serif",editorFontSize:"13px",lineHeight:1.4};function Yl(){return Xl}const Gl=yt.createContext(Xl);function Eu(){return yt.useContext(Gl)}function Vn(e,...t){const n={...e};for(const o of t)if(o!==void 0)for(const r in o)o.hasOwnProperty(r)&&(r==="bgCell"?n[r]=Jt(o[r],n[r]):n[r]=o[r]);return(n.headerFontFull===void 0||e.fontFamily!==n.fontFamily||e.headerFontStyle!==n.headerFontStyle)&&(n.headerFontFull=`${n.headerFontStyle} ${n.fontFamily}`),(n.baseFontFull===void 0||e.fontFamily!==n.fontFamily||e.baseFontStyle!==n.baseFontStyle)&&(n.baseFontFull=`${n.baseFontStyle} ${n.fontFamily}`),(n.markerFontFull===void 0||e.fontFamily!==n.fontFamily||e.markerFontStyle!==n.markerFontStyle)&&(n.markerFontFull=`${n.markerFontStyle} ${n.fontFamily}`),n}const pi=150;function Ia(e,t,n,o){var i;const r=o(t);return((i=r==null?void 0:r.measure)==null?void 0:i.call(r,e,t,n))??pi}function Kl(e,t,n,o,r,i,l,s,c){let u=0;const f=r===void 0?[]:r.map(w=>{const g=Ia(e,w[o],t,c);return u=Math.max(u,g),g});if(f.length>5&&s){u=0;let w=0;for(const h of f)w+=h;const g=w/f.length;for(let h=0;h<f.length;h++)f[h]>=g*2?f[h]=0:u=Math.max(u,f[h])}u=Math.max(u,e.measureText(n.title).width+16+(n.icon===void 0?0:28));const m=Math.max(Math.ceil(i),Math.min(Math.floor(l),Math.ceil(u)));return{...n,width:m}}function Da(e,t,n,o,r,i,l,s,c){const u=a.useRef(t),f=a.useRef(n),m=a.useRef(l);u.current=t,f.current=n,m.current=l;const[w,g]=a.useMemo(()=>{if(typeof window>"u")return[null,null];const C=document.createElement("canvas");return C.style.display="none",C.style.opacity="0",C.style.position="fixed",[C,C.getContext("2d",{alpha:!1})]},[]);a.useLayoutEffect(()=>(w&&document.documentElement.append(w),()=>{w==null||w.remove()}),[w]);const h=a.useRef({}),y=a.useRef(),[b,x]=a.useState();return a.useLayoutEffect(()=>{const C=f.current;if(C===void 0||e.every(Ir))return;let z=Math.max(1,10-Math.floor(e.length/1e4)),X=0;z<u.current&&z>1&&(z--,X=1);const Y={x:0,y:0,width:e.length,height:Math.min(u.current,z)},F={x:0,y:u.current-1,width:e.length,height:1};(async()=>{const K=C(Y,c.signal),S=X>0?C(F,c.signal):void 0;let O;typeof K=="object"?O=K:O=await Qi(K),S!==void 0&&(typeof S=="object"?O=[...O,...S]:O=[...O,...await Qi(S)]),y.current=e,x(O)})()},[c.signal,e]),a.useMemo(()=>{let z=e.every(Ir)?e:g===null?e.map(H=>Ir(H)?H:{...H,width:pi}):(g.font=m.current.baseFontFull,e.map((H,K)=>{if(Ir(H))return H;if(h.current[H.id]!==void 0)return{...H,width:h.current[H.id]};if(b===void 0||y.current!==e||H.id===void 0)return{...H,width:pi};const S=Kl(g,l,H,K,b,r,i,!0,s);return h.current[H.id]=S.width,S})),X=0,Y=0;const F=[];for(const[H,K]of z.entries())X+=K.width,K.grow!==void 0&&K.grow>0&&(Y+=K.grow,F.push(H));if(X<o&&F.length>0){const H=[...z],K=o-X;let S=K;for(let O=0;O<F.length;O++){const P=F[O],A=(z[P].grow??0)/Y,R=O===F.length-1?S:Math.min(S,Math.floor(K*A));H[P]={...z[P],growOffset:R,width:z[P].width+R},S-=R}z=H}return{sizedColumns:z,nonGrowWidth:X}},[o,e,g,b,l,r,i,s])}const st='<svg width="20" height="20" fill="none" xmlns="http://www.w3.org/2000/svg">',Fa=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${st}<rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/><path d="M15.75 4h-1.5a.25.25 0 0 0-.177.074L9.308 8.838a3.75 3.75 0 1 0 1.854 1.854l1.155-1.157.967.322a.5.5 0 0 0 .65-.55l-.18-1.208.363-.363.727.331a.5.5 0 0 0 .69-.59l-.254-.904.647-.647A.25.25 0 0 0 16 5.75v-1.5a.25.25 0 0 0-.25-.25zM7.5 13.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0z" fill="${t}"/></svg>`},Ha=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${st}<rect x="2" y="2" width="16" height="16" rx="4" fill="${n}"/><path d="m12.223 13.314 3.052-2.826a.65.65 0 0 0 0-.984l-3.052-2.822c-.27-.25-.634-.242-.865.022-.232.263-.206.636.056.882l2.601 2.41-2.601 2.41c-.262.245-.288.619-.056.882.231.263.595.277.865.026Zm-4.444.005c.266.25.634.241.866-.027.231-.263.206-.636-.06-.882L5.983 10l2.602-2.405c.266-.25.291-.62.06-.887-.232-.263-.596-.272-.866-.022L4.723 9.51a.653.653 0 0 0 0 .983l3.056 2.827Z" fill="${t}"/></svg>`},Ta=e=>{const t=e.fgColor,n=e.bgColor;return`${st}
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${n}"/>
    <path d="M6.52 12.78H5.51V8.74l-1.33.47v-.87l2.29-.83h.05v5.27zm5.2 0H8.15v-.69l1.7-1.83a6.38 6.38 0 0 0 .34-.4c.09-.11.16-.22.22-.32s.1-.19.12-.27a.9.9 0 0 0 0-.56.63.63 0 0 0-.15-.23.58.58 0 0 0-.22-.15.75.75 0 0 0-.29-.05c-.27 0-.48.08-.62.23a.95.95 0 0 0-.2.65H8.03c0-.24.04-.46.13-.67a1.67 1.67 0 0 1 .97-.91c.23-.1.49-.14.77-.14.26 0 .5.04.7.11.21.08.38.18.52.32.14.13.25.3.32.48a1.74 1.74 0 0 1 .03 1.13 2.05 2.05 0 0 1-.24.47 4.16 4.16 0 0 1-.35.47l-.47.5-1 1.05h2.32v.8zm1.8-3.08h.55c.28 0 .48-.06.61-.2a.76.76 0 0 0 .2-.55.8.8 0 0 0-.05-.28.56.56 0 0 0-.13-.22.6.6 0 0 0-.23-.15.93.93 0 0 0-.32-.05.92.92 0 0 0-.29.05.72.72 0 0 0-.23.12.57.57 0 0 0-.21.46H12.4a1.3 1.3 0 0 1 .5-1.04c.15-.13.33-.23.54-.3a2.48 2.48 0 0 1 1.4 0c.2.06.4.15.55.28.15.13.27.28.36.47.08.19.13.4.13.65a1.15 1.15 0 0 1-.2.65 1.36 1.36 0 0 1-.58.49c.15.05.28.12.38.2a1.14 1.14 0 0 1 .43.62c.03.13.05.26.05.4 0 .25-.05.47-.14.66a1.42 1.42 0 0 1-.4.49c-.16.13-.35.23-.58.3a2.51 2.51 0 0 1-.73.1c-.22 0-.44-.03-.65-.09a1.8 1.8 0 0 1-.57-.28 1.43 1.43 0 0 1-.4-.47 1.41 1.41 0 0 1-.15-.66h1a.66.66 0 0 0 .22.5.87.87 0 0 0 .58.2c.25 0 .45-.07.6-.2a.71.71 0 0 0 .21-.56.97.97 0 0 0-.06-.36.61.61 0 0 0-.18-.25.74.74 0 0 0-.28-.15 1.33 1.33 0 0 0-.37-.04h-.55V9.7z" fill="${t}"/>
  </svg>`},Aa=e=>{const t=e.fgColor,n=e.bgColor;return`${st}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
  <path d="M8.182 12.4h3.636l.655 1.6H14l-3.454-8H9.455L6 14h1.527l.655-1.6zM10 7.44l1.36 3.651H8.64L10 7.441z" fill="${t}"/>
</svg>`},za=e=>{const t=e.fgColor,n=e.bgColor;return`${st}
    <path
        d="M16.2222 2H3.77778C2.8 2 2 2.8 2 3.77778V16.2222C2 17.2 2.8 18 3.77778 18H16.2222C17.2 18 17.9911 17.2 17.9911 16.2222L18 3.77778C18 2.8 17.2 2 16.2222 2Z"
        fill="${n}"
    />
    <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M7.66667 6.66669C5.73368 6.66669 4.16667 8.15907 4.16667 10C4.16667 11.841 5.73368 13.3334 7.66667 13.3334H12.3333C14.2663 13.3334 15.8333 11.841 15.8333 10C15.8333 8.15907 14.2663 6.66669 12.3333 6.66669H7.66667ZM12.5 12.5C13.8807 12.5 15 11.3807 15 10C15 8.61931 13.8807 7.50002 12.5 7.50002C11.1193 7.50002 10 8.61931 10 10C10 11.3807 11.1193 12.5 12.5 12.5Z"
        fill="${t}"
    />
</svg>`},Ul=e=>{const t=e.fgColor,n=e.bgColor;return`${st}
<path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M10.29 4.947a3.368 3.368 0 014.723.04 3.375 3.375 0 01.041 4.729l-.009.009-1.596 1.597a3.367 3.367 0 01-5.081-.364.71.71 0 011.136-.85 1.95 1.95 0 002.942.21l1.591-1.593a1.954 1.954 0 00-.027-2.733 1.95 1.95 0 00-2.732-.027l-.91.907a.709.709 0 11-1.001-1.007l.915-.911.007-.007z" fill="${t}"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M6.55 8.678a3.368 3.368 0 015.082.364.71.71 0 01-1.136.85 1.95 1.95 0 00-2.942-.21l-1.591 1.593a1.954 1.954 0 00.027 2.733 1.95 1.95 0 002.73.028l.906-.906a.709.709 0 111.003 1.004l-.91.91-.008.01a3.368 3.368 0 01-4.724-.042 3.375 3.375 0 01-.041-4.728l.009-.009L6.55 8.678z" fill="${t}"/>
</svg>
  `},Ba=e=>{const t=e.bgColor;return`${st}
    <path stroke="${t}" stroke-width="2" d="M12 3v14"/>
    <path stroke="${t}" stroke-width="2" stroke-linecap="round" d="M10 4h4m-4 12h4"/>
    <path d="M11 14h4a3 3 0 0 0 3-3V9a3 3 0 0 0-3-3h-4v2h4a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-4v2ZM9.5 8H5a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h4.5v2H5a3 3 0 0 1-3-3V9a3 3 0 0 1 3-3h4.5v2Z" fill="${t}"/>
  </svg>
`},La=Ul,Pa=e=>{const t=e.fgColor,n=e.bgColor;return`${st}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M7 13.138a.5.5 0 00.748.434l5.492-3.138a.5.5 0 000-.868L7.748 6.427A.5.5 0 007 6.862v6.276z" fill="${t}"/>
</svg>`},Wa=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${st}
    <path d="M10 5a5 5 0 1 0 0 10 5 5 0 0 0 0-10zm0 9.17A4.17 4.17 0 0 1 5.83 10 4.17 4.17 0 0 1 10 5.83 4.17 4.17 0 0 1 14.17 10 4.17 4.17 0 0 1 10 14.17z" fill="${t}"/>
    <path d="M8.33 8.21a.83.83 0 1 0-.03 1.67.83.83 0 0 0 .03-1.67zm3.34 0a.83.83 0 1 0-.04 1.67.83.83 0 0 0 .04-1.67z" fill="${t}"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M14.53 13.9a2.82 2.82 0 0 1-5.06 0l.77-.38a1.97 1.97 0 0 0 3.52 0l.77.39z" fill="${t}"/>
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${n}"/>
    <path d="M10 4a6 6 0 1 0 0 12 6 6 0 0 0 0-12zm0 11a5 5 0 1 1 .01-10.01A5 5 0 0 1 10 15z" fill="${t}"/>
    <path d="M8 7.86a1 1 0 1 0-.04 2 1 1 0 0 0 .04-2zm4 0a1 1 0 1 0-.04 2 1 1 0 0 0 .04-2z" fill="${t}"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M12.53 11.9a2.82 2.82 0 0 1-5.06 0l.77-.38a1.97 1.97 0 0 0 3.52 0l.77.39z" fill="${t}"/>
  </svg>`},Oa=e=>{const t=e.fgColor,n=e.bgColor;return`${st}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
  <path opacity=".5" fill-rule="evenodd" clip-rule="evenodd" d="M12.499 10.801a.5.5 0 01.835 0l2.698 4.098a.5.5 0 01-.418.775H10.22a.5.5 0 01-.417-.775l2.697-4.098z" fill="${t}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M8.07 8.934a.5.5 0 01.824 0l4.08 5.958a.5.5 0 01-.412.782h-8.16a.5.5 0 01-.413-.782l4.08-5.958zM13.75 8.333a2.083 2.083 0 100-4.166 2.083 2.083 0 000 4.166z" fill="${t}"/>
</svg>`},$a=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${st}
    <path fill="${t}" d="M3 3h14v14H3z"/>
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2zm-7.24 9.78h1.23c.15 0 .27.06.36.18l.98 1.28a.43.43 0 0 1-.05.58l-1.2 1.21a.45.45 0 0 1-.6.04A6.72 6.72 0 0 1 7.33 10c0-.61.1-1.2.25-1.78a6.68 6.68 0 0 1 2.12-3.3.44.44 0 0 1 .6.04l1.2 1.2c.16.17.18.42.05.59l-.98 1.29a.43.43 0 0 1-.36.17H8.98A5.38 5.38 0 0 0 8.67 10c0 .62.11 1.23.3 1.79z" fill="${n}"/>
  </svg>`},Na=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${st}
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${n}"/>
    <path d="m13.49 13.15-2.32-3.27h1.4V7h1.86v2.88h1.4l-2.34 3.27zM11 13H9v-3l-1.5 1.92L6 10v3H4V7h2l1.5 2L9 7h2v6z" fill="${t}"/>
  </svg>`},Xa=e=>{const t=e.fgColor,n=e.bgColor;return`${st}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
  <path d="M14.8 4.182h-.6V3H13v1.182H7V3H5.8v1.182h-.6c-.66 0-1.2.532-1.2 1.182v9.454C4 15.468 4.54 16 5.2 16h9.6c.66 0 1.2-.532 1.2-1.182V5.364c0-.65-.54-1.182-1.2-1.182zm0 10.636H5.2V7.136h9.6v7.682z" fill="${t}"/>
</svg>`},Ya=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${st}
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${n}"/>
    <path d="M10 4a6 6 0 0 0-6 6 6 6 0 0 0 6 6 6 6 0 0 0 6-6 6 6 0 0 0-6-6zm0 10.8A4.8 4.8 0 0 1 5.2 10a4.8 4.8 0 1 1 4.8 4.8z" fill="${t}"/>
    <path d="M10 7H9v3.93L12.5 13l.5-.8-3-1.76V7z" fill="${t}"/>
  </svg>`},Ga=e=>{const t=e.fgColor,n=e.bgColor;return`${st}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10 8.643a1.357 1.357 0 100 2.714 1.357 1.357 0 000-2.714zM7.357 10a2.643 2.643 0 115.286 0 2.643 2.643 0 01-5.286 0z" fill="${t}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M7.589 4.898A5.643 5.643 0 0115.643 10v.5a2.143 2.143 0 01-4.286 0V8a.643.643 0 011.286 0v2.5a.857.857 0 001.714 0V10a4.357 4.357 0 10-1.708 3.46.643.643 0 01.782 1.02 5.643 5.643 0 11-5.842-9.582z" fill="${t}"/>
</svg>`},Ka=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${st}
    <rect x="2" y="8" width="10" height="8" rx="2" fill="${n}"/>
    <rect x="8" y="4" width="10" height="8" rx="2" fill="${n}"/>
    <path d="M10.68 7.73V6l2.97 3.02-2.97 3.02v-1.77c-2.13 0-3.62.7-4.68 2.2.43-2.15 1.7-4.31 4.68-4.74z" fill="${t}"/>
  </svg>`},Ua=e=>{const t=e.fgColor,n=e.bgColor;return`${st}
  <path fill="${t}" d="M4 3h12v14H4z"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M3.6 2A1.6 1.6 0 002 3.6v12.8A1.6 1.6 0 003.6 18h12.8a1.6 1.6 0 001.6-1.6V3.6A1.6 1.6 0 0016.4 2H3.6zm11.3 10.8a.7.7 0 01.7.7v1.4a.7.7 0 01-.7.7h-1.4a.7.7 0 01-.7-.7v-1.4a.7.7 0 01.6-.693.117.117 0 00.1-.115V10.35a.117.117 0 00-.117-.116h-2.8a.117.117 0 00-.117.116v2.333c0 .064.053.117.117.117h.117a.7.7 0 01.7.7v1.4a.7.7 0 01-.7.7H9.3a.7.7 0 01-.7-.7v-1.4a.7.7 0 01.7-.7h.117a.117.117 0 00.117-.117V10.35a.117.117 0 00-.117-.117h-2.8a.117.117 0 00-.117.117v2.342c0 .058.042.106.1.115a.7.7 0 01.6.693v1.4a.7.7 0 01-.7.7H5.1a.7.7 0 01-.7-.7v-1.4a.7.7 0 01.7-.7h.35a.116.116 0 00.116-.117v-2.45c0-.515.418-.933.934-.933h2.917a.117.117 0 00.117-.117V6.85a.117.117 0 00-.117-.116h-2.45a.7.7 0 01-.7-.7V5.1a.7.7 0 01.7-.7h6.067a.7.7 0 01.7.7v.934a.7.7 0 01-.7.7h-2.45a.117.117 0 00-.118.116v2.333c0 .064.053.117.117.117H13.5c.516 0 .934.418.934.934v2.45c0 .063.052.116.116.116h.35z" fill="${n}"/>
</svg>`},_a=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${st}
    <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
    <path d="M9.98 13.33c.45 0 .74-.3.73-.75l-.01-.1-.16-1.67 1.45 1.05a.81.81 0 0 0 .5.18c.37 0 .72-.32.72-.76 0-.3-.17-.54-.49-.68l-1.63-.77 1.63-.77c.32-.14.49-.37.49-.67 0-.45-.34-.76-.71-.76a.81.81 0 0 0-.5.18l-1.47 1.03.16-1.74.01-.08c.01-.46-.27-.76-.72-.76-.46 0-.76.32-.75.76l.01.08.16 1.74-1.47-1.03a.77.77 0 0 0-.5-.18.74.74 0 0 0-.72.76c0 .3.17.53.49.67l1.63.77-1.62.77c-.32.14-.5.37-.5.68 0 .44.35.75.72.75a.78.78 0 0 0 .5-.17L9.4 10.8l-.16 1.68v.09c-.02.44.28.75.74.75z" fill="${t}"/>
  </svg>`},Va=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${st}
    <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
    <path d="M8 5.83H5.83a.83.83 0 0 0 0 1.67h1.69A4.55 4.55 0 0 1 8 5.83zm-.33 3.34H5.83a.83.83 0 0 0 0 1.66h2.72a4.57 4.57 0 0 1-.88-1.66zM5.83 12.5a.83.83 0 0 0 0 1.67h7.5a.83.83 0 1 0 0-1.67h-7.5zm8.8-2.9a3.02 3.02 0 0 0 .46-1.6c0-1.66-1.32-3-2.94-3C10.52 5 9.2 6.34 9.2 8s1.31 3 2.93 3c.58 0 1.11-.17 1.56-.47l2.04 2.08.93-.94-2.04-2.08zm-2.48.07c-.9 0-1.63-.75-1.63-1.67s.73-1.67 1.63-1.67c.9 0 1.63.75 1.63 1.67s-.73 1.67-1.63 1.67z" fill="${t}"/>
  </svg>`},qa=e=>{const t=e.fgColor,n=e.bgColor;return`${st}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
  <path d="M7.676 4.726V3l2.976 3.021-2.976 3.022v-1.77c-2.125 0-3.613.69-4.676 2.201.425-2.158 1.7-4.316 4.676-4.748zM10.182 14.4h3.636l.655 1.6H16l-3.454-8h-1.091L8 16h1.527l.655-1.6zM12 9.44l1.36 3.65h-2.72L12 9.44z" fill="${t}"/>
</svg>`},ja=e=>{const t=e.fgColor,n=e.bgColor;return`${st}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M4.167 5.417a.833.833 0 100 1.666h4.166a.833.833 0 100-1.666H4.167z" fill="${t}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M7.083 4.167a.833.833 0 10-1.666 0v4.166a.833.833 0 101.666 0V4.167zM11.667 5.417a.833.833 0 100 1.666h4.166a.833.833 0 100-1.666h-4.166zM5.367 11.688a.833.833 0 00-1.179 1.179l2.947 2.946a.833.833 0 001.178-1.178l-2.946-2.947z" fill="${t}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M8.313 12.867a.833.833 0 10-1.178-1.179l-2.947 2.947a.833.833 0 101.179 1.178l2.946-2.946z" fill="${t}"/>
  <path d="M10.833 12.5c0-.46.373-.833.834-.833h4.166a.833.833 0 110 1.666h-4.166a.833.833 0 01-.834-.833zM10.833 15c0-.46.373-.833.834-.833h4.166a.833.833 0 110 1.666h-4.166a.833.833 0 01-.834-.833z" fill="${t}"/>
</svg>`},Za=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${st}
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${n}"/>
    <path d="M10 8.84a1.16 1.16 0 1 0 0 2.32 1.16 1.16 0 0 0 0-2.32zm3.02 3.61a3.92 3.92 0 0 0 .78-3.28.49.49 0 1 0-.95.2c.19.87-.02 1.78-.58 2.47a2.92 2.92 0 1 1-4.13-4.08 2.94 2.94 0 0 1 2.43-.62.49.49 0 1 0 .17-.96 3.89 3.89 0 1 0 2.28 6.27zM10 4.17a5.84 5.84 0 0 0-5.44 7.93.49.49 0 1 0 .9-.35 4.86 4.86 0 1 1 2.5 2.67.49.49 0 1 0-.4.88c.76.35 1.6.54 2.44.53a5.83 5.83 0 0 0 0-11.66zm3.02 3.5a.7.7 0 1 0-1.4 0 .7.7 0 0 0 1.4 0zm-6.97 5.35a.7.7 0 1 1 0 1.4.7.7 0 0 1 0-1.4z" fill="${t}"/>
  </svg>`},Ja=e=>{const t=e.fgColor,n=e.bgColor;return`${st}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
  <path d="M12.4 13.565c1.865-.545 3.645-2.083 3.645-4.396 0-1.514-.787-2.604-2.071-2.604C12.69 6.565 12 7.63 12 8.939c1.114.072 1.865.726 1.865 1.683 0 .933-.8 1.647-1.84 2.023l.375.92zM4 5h6v2H4zM4 9h5v2H4zM4 13h4v2H4z" fill="${t}"/>
</svg>`},Qa=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${st}
    <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
    <path d="M12.4 13.56c1.86-.54 3.65-2.08 3.65-4.4 0-1.5-.8-2.6-2.08-2.6S12 7.64 12 8.95c1.11.07 1.86.73 1.86 1.68 0 .94-.8 1.65-1.83 2.03l.37.91zM4 5h6v2H4zm0 4h5v2H4zm0 4h4v2H4z" fill="${t}"/>
  </svg>`},ec=e=>{const t=e.fgColor,n=e.bgColor;return`${st}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
  <path d="M10 7a1 1 0 100-2v2zm0 6a1 1 0 100 2v-2zm0-8H7v2h3V5zm-3 6h5V9H7v2zm5 2h-2v2h2v-2zm1-1a1 1 0 01-1 1v2a3 3 0 003-3h-2zm-1-1a1 1 0 011 1h2a3 3 0 00-3-3v2zM4 8a3 3 0 003 3V9a1 1 0 01-1-1H4zm3-3a3 3 0 00-3 3h2a1 1 0 011-1V5z" fill="${t}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M4.856 12.014a.5.5 0 00-.712.702L5.409 14l-1.265 1.284a.5.5 0 00.712.702l1.255-1.274 1.255 1.274a.5.5 0 00.712-.702L6.813 14l1.265-1.284a.5.5 0 00-.712-.702L6.11 13.288l-1.255-1.274zM12.856 4.014a.5.5 0 00-.712.702L13.409 6l-1.265 1.284a.5.5 0 10.712.702l1.255-1.274 1.255 1.274a.5.5 0 10.712-.702L14.813 6l1.265-1.284a.5.5 0 00-.712-.702L14.11 5.288l-1.255-1.274z" fill="${t}"/>
</svg>`},tc=e=>{const t=e.fgColor,n=e.bgColor;return`${st}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M14.25 7.25a.75.75 0 000-1.5h-6.5a.75.75 0 100 1.5h6.5zM15 10a.75.75 0 01-.75.75h-6.5a.75.75 0 010-1.5h6.5A.75.75 0 0115 10zm-.75 4.25a.75.75 0 000-1.5h-6.5a.75.75 0 000 1.5h6.5zm-8.987-7a.75.75 0 100-1.5.75.75 0 000 1.5zm.75 2.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm-.75 4.25a.75.75 0 100-1.5.75.75 0 000 1.5z" fill="${t}"/>
</svg>`},nc=e=>{const t=e.fgColor;return`
    <svg width="18" height="18" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M2 15v1h14v-2.5c0-.87-.44-1.55-.98-2.04a6.19 6.19 0 0 0-1.9-1.14 12.1 12.1 0 0 0-2.48-.67A4 4 0 1 0 5 6a4 4 0 0 0 2.36 3.65c-.82.13-1.7.36-2.48.67-.69.28-1.37.65-1.9 1.13A2.8 2.8 0 0 0 2 13.5V15z" fill="${e.bgColor}" stroke="${t}" stroke-width="2"/>
  </svg>`},oc=e=>{const t=e.fgColor;return`
    <svg width="18" height="18" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M12.43 6.04v-.18a3.86 3.86 0 0 0-7.72 0v.18A2.15 2.15 0 0 0 3 8.14v5.72C3 15.04 3.96 16 5.14 16H12c1.18 0 2.14-.96 2.14-2.14V8.14c0-1.03-.73-1.9-1.71-2.1zM7.86 6v-.14a.71.71 0 1 1 1.43 0V6H7.86z" fill="${e.bgColor}" stroke="${t}" stroke-width="2"/>
  </svg>
`},rc={headerRowID:Fa,headerNumber:Ta,headerCode:Ha,headerString:Aa,headerBoolean:za,headerAudioUri:La,headerVideoUri:Pa,headerEmoji:Wa,headerImage:Oa,headerUri:Ul,headerPhone:$a,headerMarkdown:Na,headerDate:Xa,headerTime:Ya,headerEmail:Ga,headerReference:Ka,headerIfThenElse:Ua,headerSingleValue:_a,headerLookup:Va,headerTextTemplate:qa,headerMath:ja,headerRollup:Za,headerJoinStrings:Ja,headerSplitString:Qa,headerGeoDistance:ec,headerArray:tc,rowOwnerOverlay:nc,protectedColumnOverlay:oc,renameIcon:Ba};function ic(e,t){return e==="normal"?[t.bgIconHeader,t.fgIconHeader]:e==="selected"?["white",t.accentColor]:[t.accentColor,t.bgHeader]}class lc{constructor(t,n){Ne(this,"onSettled");Ne(this,"spriteMap",new Map);Ne(this,"headerIcons");Ne(this,"inFlight",0);this.onSettled=n,this.headerIcons=t??{}}drawSprite(t,n,o,r,i,l,s,c=1){const[u,f]=ic(n,s),m=l*Math.ceil(window.devicePixelRatio),w=`${u}_${f}_${m}_${t}`;let g=this.spriteMap.get(w);if(g===void 0){const h=this.headerIcons[t];if(h===void 0)return;g=document.createElement("canvas");const y=g.getContext("2d");if(y===null)return;const b=new Image;b.src=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(h({fgColor:f,bgColor:u}))}`,this.spriteMap.set(w,g);const x=b.decode();if(x===void 0)return;this.inFlight++,x.then(()=>{y.drawImage(b,0,0,m,m)}).finally(()=>{this.inFlight--,this.inFlight===0&&this.onSettled()})}else c<1&&(o.globalAlpha=c),o.drawImage(g,0,0,m,m,r,i,l,l),c<1&&(o.globalAlpha=1)}}function _l(e){if(e.length===0)return;let t;for(const n of e)t=Math.min(t??n.y,n.y)}function Nr(e,t,n,o,r,i,l,s,c){s=s??t;let u=t,f=e;const m=o-i;let w=!1;for(;u<n&&f<m;){const g=r(f);if(u+g>s&&c(u,f,g,!1,l&&f===o-1)===!0){w=!0;break}u+=g,f++}if(!w){u=n;for(let g=0;g<i;g++){f=o-1-g;const h=r(f);u-=h,c(u,f,h,!0,l&&f===o-1)}}}function jn(e,t,n,o,r,i){let l=0,s=0;const c=r+o;for(const u of e){const f=u.sticky?s:l+n;if(i(u,f,c,u.sticky?0:s,t)===!0)break;l+=u.width,s+=u.sticky?u.width:0}}function Vl(e,t,n,o,r){let i=0,l=0;for(let s=0;s<e.length;s++){const c=e[s];let u=s+1,f=c.width;for(c.sticky&&(l+=f);u<e.length&&nr(e[u].group,c.group)&&e[u].sticky===e[s].sticky;){const y=e[u];f+=y.width,u++,s++,y.sticky&&(l+=y.width)}const m=c.sticky?0:n,w=i+m,g=c.sticky?0:Math.max(0,l-w),h=Math.min(f-g,t-(w+g));r([c.sourceIndex,e[u-1].sourceIndex],c.group??"",w+g,0,h,o),i+=f}}function ql(e,t,n,o,r,i,l){var w;const[s,c]=e;let u,f;const m=((w=l.find(g=>!g.sticky))==null?void 0:w.sourceIndex)??0;if(c>m){const g=Math.max(s,m);let h=t,y=o;for(let b=i.sourceIndex-1;b>=g;b--)h-=l[b].width,y+=l[b].width;for(let b=i.sourceIndex+1;b<=c;b++)y+=l[b].width;f={x:h,y:n,width:y,height:r}}if(m>s){const g=Math.min(c,m-1);let h=t,y=o;for(let b=i.sourceIndex-1;b>=s;b--)h-=l[b].width,y+=l[b].width;for(let b=i.sourceIndex+1;b<=g;b++)y+=l[b].width;u={x:h,y:n,width:y,height:r}}return[u,f]}function sc(e,t,n,o){if(o==="any")return jl(e,{x:t,y:n,width:1,height:1});if(o==="vertical"&&(t=e.x),o==="horizontal"&&(n=e.y),Al([t,n],e))return;const r=t-e.x,i=e.x+e.width-t,l=n-e.y+1,s=e.y+e.height-n,c=Math.min(o==="vertical"?Number.MAX_SAFE_INTEGER:r,o==="vertical"?Number.MAX_SAFE_INTEGER:i,o==="horizontal"?Number.MAX_SAFE_INTEGER:l,o==="horizontal"?Number.MAX_SAFE_INTEGER:s);return c===s?{x:e.x,y:e.y+e.height,width:e.width,height:n-e.y-e.height+1}:c===l?{x:e.x,y:n,width:e.width,height:e.y-n}:c===i?{x:e.x+e.width,y:e.y,width:t-e.x-e.width+1,height:e.height}:{x:t,y:e.y,width:e.x-t,height:e.height}}function or(e,t,n,o,r,i,l,s){return e<=r+l&&r<=e+n&&t<=i+s&&i<=t+o}function Ho(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height}function jl(e,t){const n=Math.min(e.x,t.x),o=Math.min(e.y,t.y),r=Math.max(e.x+e.width,t.x+t.width)-n,i=Math.max(e.y+e.height,t.y+t.height)-o;return{x:n,y:o,width:r,height:i}}function ac(e,t){return e.x<=t.x&&e.y<=t.y&&e.x+e.width>=t.x+t.width&&e.y+e.height>=t.y+t.height}function cc(e,t,n,o){if(e.x>t||e.y>n||e.x<0&&e.y<0&&e.x+e.width>t&&e.y+e.height>n)return;if(e.x>=0&&e.y>=0&&e.x+e.width<=t&&e.y+e.height<=n)return e;const r=-4,i=-4,l=t+4,s=n+4,c=r-e.x,u=e.x+e.width-l,f=i-e.y,m=e.y+e.height-s,w=c>0?e.x+Math.floor(c/o)*o:e.x,g=u>0?e.x+e.width-Math.floor(u/o)*o:e.x+e.width,h=f>0?e.y+Math.floor(f/o)*o:e.y,y=m>0?e.y+e.height-Math.floor(m/o)*o:e.y+e.height;return{x:w,y:h,width:g-w,height:y-h}}function dc(e,t,n,o,r){const[i,l,s,c]=t,[u,f,m,w]=r,{x:g,y:h,width:y,height:b}=e,x=[];if(y<=0||b<=0)return x;const C=g+y,z=h+b,X=g<i,Y=h<l,F=g+y>s,H=h+b>c,K=g>=i&&g<s||C>i&&C<=s||g<i&&C>s,S=h>=l&&h<c||z>l&&z<=c||h<l&&z>c;if(K&&S){const P=Math.max(g,i),A=Math.max(h,l),R=Math.min(C,s),M=Math.min(z,c);x.push({rect:{x:P,y:A,width:R-P,height:M-A},clip:{x:u,y:f,width:m-u+1,height:w-f+1}})}if(X&&Y){const P=g,A=h,R=Math.min(C,i),M=Math.min(z,l);x.push({rect:{x:P,y:A,width:R-P,height:M-A},clip:{x:0,y:0,width:u+1,height:f+1}})}if(Y&&K){const P=Math.max(g,i),A=h,R=Math.min(C,s),M=Math.min(z,l);x.push({rect:{x:P,y:A,width:R-P,height:M-A},clip:{x:u,y:0,width:m-u+1,height:f+1}})}if(Y&&F){const P=Math.max(g,s),A=h,R=C,M=Math.min(z,l);x.push({rect:{x:P,y:A,width:R-P,height:M-A},clip:{x:m,y:0,width:n-m+1,height:f+1}})}if(X&&S){const P=g,A=Math.max(h,l),R=Math.min(C,i),M=Math.min(z,c);x.push({rect:{x:P,y:A,width:R-P,height:M-A},clip:{x:0,y:f,width:u+1,height:w-f+1}})}if(F&&S){const P=Math.max(g,s),A=Math.max(h,l),R=C,M=Math.min(z,c);x.push({rect:{x:P,y:A,width:R-P,height:M-A},clip:{x:m,y:f,width:n-m+1,height:w-f+1}})}if(X&&H){const P=g,A=Math.max(h,c),R=Math.min(C,i),M=z;x.push({rect:{x:P,y:A,width:R-P,height:M-A},clip:{x:0,y:w,width:u+1,height:o-w+1}})}if(H&&K){const P=Math.max(g,i),A=Math.max(h,c),R=Math.min(C,s),M=z;x.push({rect:{x:P,y:A,width:R-P,height:M-A},clip:{x:u,y:w,width:m-u+1,height:o-w+1}})}if(F&&H){const P=Math.max(g,s),A=Math.max(h,c),R=C,M=z;x.push({rect:{x:P,y:A,width:R-P,height:M-A},clip:{x:m,y:w,width:n-m+1,height:o-w+1}})}return x}const uc={kind:Z.Loading,allowOverlay:!1};function al(e,t,n,o,r,i,l,s,c,u,f,m,w,g,h,y,b,x,C,z,X,Y,F,H,K,S,O,P,A,R,M,ie,ne,oe,Me){let Ae=(z==null?void 0:z.size)??Number.MAX_SAFE_INTEGER;const J=performance.now();let G=R.baseFontFull;e.font=G;const ye={ctx:e},re=[0,0],ke=b>0?lo(c,b,u):0;let be,V;const Fe=_l(C);return jn(t,s,i,l,r,(Re,Qe,tt,mt,nt)=>{const ze=Math.max(0,mt-Qe),Ve=Qe+ze,Se=r+1,wt=Re.width-ze,at=o-r-1;if(C.length>0){let Xe=!1;for(let We=0;We<C.length;We++){const Oe=C[We];if(or(Ve,Se,wt,at,Oe.x,Oe.y,Oe.width,Oe.height)){Xe=!0;break}}if(!Xe)return}const je=()=>{e.save(),e.beginPath(),e.rect(Ve,Se,wt,at),e.clip()},j=X.columns.hasIndex(Re.sourceIndex),$e=m(Re.group??"").overrideTheme,Ie=Re.themeOverride===void 0&&$e===void 0?R:Vn(R,$e,Re.themeOverride),He=Ie.baseFontFull;He!==G&&(G=He,e.font=He),je();let fe;return Nr(nt,tt,o,c,u,b,x,Fe,(Xe,We,Oe,ae,Ce)=>{var bn,$t,kt;if(We<0||(re[0]=Re.sourceIndex,re[1]=We,z!==void 0&&!z.has(re)))return;if(C.length>0){let Be=!1;for(let St=0;St<C.length;St++){const dt=C[St];if(or(Qe,Xe,Re.width,Oe,dt.x,dt.y,dt.width,dt.height)){Be=!0;break}}if(!Be)return}const et=X.rows.hasIndex(We),Ye=g.hasIndex(We),_e=We<c?f(re):uc;let ct=Qe,Ze=Re.width,Te=!1,Ct=!1;if(_e.span!==void 0){const[Be,St]=_e.span,dt=`${We},${Be},${St},${Re.sticky}`;if(V===void 0&&(V=new Set),V.has(dt)){Ae--;return}else{const Nt=ql(_e.span,Qe,Xe,Re.width,Oe,Re,n),Ft=Re.sticky?Nt[0]:Nt[1];if(!Re.sticky&&Nt[0]!==void 0&&(Ct=!0),Ft!==void 0){ct=Ft.x,Ze=Ft.width,V.add(dt),e.restore(),fe=void 0,e.save(),e.beginPath();const Kt=Math.max(0,mt-Ft.x);e.rect(Ft.x+Kt,Xe,Ft.width-Kt,Oe),be===void 0&&(be=[]),be.push({x:Ft.x+Kt,y:Xe,width:Ft.width-Kt,height:Oe}),e.clip(),Te=!0}}}const Ht=w==null?void 0:w(We),bt=Ce&&((bn=Re.trailingRowOptions)==null?void 0:bn.themeOverride)!==void 0?($t=Re.trailingRowOptions)==null?void 0:$t.themeOverride:void 0,xt=_e.themeOverride===void 0&&Ht===void 0&&bt===void 0?Ie:Vn(Ie,Ht,bt,_e.themeOverride);e.beginPath();const Lt=ga(re,_e,X);let ft=ma(re,_e,X,y);const yn=_e.span!==void 0&&X.columns.some(Be=>_e.span!==void 0&&Be>=_e.span[0]&&Be<=_e.span[1]);Lt&&!h&&y?ft=0:Lt&&y&&(ft=Math.max(ft,1)),yn&&ft++,Lt||(et&&ft++,j&&!Ce&&ft++);const An=_e.kind===Z.Protected?xt.bgCellMedium:xt.bgCell;let lt;if((ae||An!==R.bgCell)&&(lt=Jt(An,lt)),ft>0||Ye){Ye&&(lt=Jt(xt.bgHeader,lt));for(let Be=0;Be<ft;Be++)lt=Jt(xt.accentLight,lt)}else if(Y!==void 0){for(const Be of Y)if(Be[0]===Re.sourceIndex&&Be[1]===We){lt=Jt(xt.bgSearchResult,lt);break}}if(F!==void 0)for(let Be=0;Be<F.length;Be++){const St=F[Be],dt=St.range;St.style!=="solid-outline"&&dt.x<=Re.sourceIndex&&Re.sourceIndex<dt.x+dt.width&&dt.y<=We&&We<dt.y+dt.height&&(lt=Jt(St.color,lt))}let En=!1;if(z!==void 0){const Be=Xe+1,dt=(ae?Be+Oe-1:Math.min(Be+Oe-1,o-ke))-Be;(dt!==Oe-1||ct+1<=mt)&&(En=!0,e.save(),e.beginPath(),e.rect(ct+1,Be,Ze-1,dt),e.clip()),lt=lt===void 0?xt.bgCell:Jt(lt,xt.bgCell)}const cn=Re.sourceIndex===n.length-1,pe=We===c-1;lt!==void 0&&(e.fillStyle=lt,fe!==void 0&&(fe.fillStyle=lt),z!==void 0?e.fillRect(ct+1,Xe+1,Ze-(cn?2:1),Oe-(pe?2:1)):e.fillRect(ct,Xe,Ze,Oe)),_e.style==="faded"&&(e.globalAlpha=.6);let ht;for(let Be=0;Be<S.length;Be++){const St=S[Be];if(St.item[0]===Re.sourceIndex&&St.item[1]===We){ht=St;break}}if(Ze>Me&&!Ct){const Be=xt.baseFontFull;Be!==G&&(e.font=Be,G=Be),fe=Zl(e,_e,Re.sourceIndex,We,cn,pe,ct,Xe,Ze,Oe,ft>0,xt,lt??xt.bgCell,H,K,(ht==null?void 0:ht.hoverAmount)??0,O,A,J,P,fe,M,ie,ne,oe)}return En&&e.restore(),_e.style==="faded"&&(e.globalAlpha=1),Ae--,Te&&(e.restore(),(kt=fe==null?void 0:fe.deprep)==null||kt.call(fe,ye),fe=void 0,je(),G=He,e.font=He),Ae<=0}),e.restore(),Ae<=0}),be}const _o=[0,0],Vo={x:0,y:0,width:0,height:0},ci=[void 0,()=>{}];let vi=!1;function fc(){vi=!0}function Zl(e,t,n,o,r,i,l,s,c,u,f,m,w,g,h,y,b,x,C,z,X,Y,F,H,K){var ie,ne;let S,O;b!==void 0&&b[0][0]===n&&b[0][1]===o&&(S=b[1][0],O=b[1][1]);let P;_o[0]=n,_o[1]=o,Vo.x=l,Vo.y=s,Vo.width=c,Vo.height=u,ci[0]=F.getValue(_o),ci[1]=oe=>F.setValue(_o,oe),vi=!1;const A={ctx:e,theme:m,col:n,row:o,cell:t,rect:Vo,highlighted:f,cellFillColor:w,hoverAmount:y,frameTime:C,hoverX:S,drawState:ci,hoverY:O,imageLoader:g,spriteManager:h,hyperWrapping:x,overrideCursor:S!==void 0?K:void 0,requestAnimationFrame:fc},R=Ca(A,t.lastUpdated,C,X,r,i),M=H(t);if(M!==void 0){(X==null?void 0:X.renderer)!==M&&((ie=X==null?void 0:X.deprep)==null||ie.call(X,A),X=void 0);const oe=(ne=M.drawPrep)==null?void 0:ne.call(M,A,X);z!==void 0&&!Do(A.cell)?z(A,()=>M.draw(A,t)):M.draw(A,t),P=oe===void 0?void 0:{deprep:oe==null?void 0:oe.deprep,fillStyle:oe==null?void 0:oe.fillStyle,font:oe==null?void 0:oe.font,renderer:M}}return(R||vi)&&(Y==null||Y(_o)),P}function Ei(e,t,n,o,r,i,l,s,c=-20,u=-20,f=32,m="center",w="square"){const g=Math.floor(r+l/2),h=w==="circle"?1e4:t.roundingRadius??4;let y=Fl(f,l,t.cellVerticalPadding),b=y/2;const x=Dl(m,o,i,t.cellHorizontalPadding,y),C=Il(x,g,y),z=Hl(o+c,r+u,C);switch(n){case!0:{e.beginPath(),Rn(e,x-y/2,g-y/2,y,y,h),w==="circle"&&(b*=.8,y*=.8),e.fillStyle=s?t.accentColor:t.textMedium,e.fill(),e.beginPath(),e.moveTo(x-b+y/4.23,g-b+y/1.97),e.lineTo(x-b+y/2.42,g-b+y/1.44),e.lineTo(x-b+y/1.29,g-b+y/3.25),e.strokeStyle=t.bgCell,e.lineJoin="round",e.lineCap="round",e.lineWidth=1.9,e.stroke();break}case zr:case!1:{e.beginPath(),Rn(e,x-y/2+.5,g-y/2+.5,y-1,y-1,h),e.lineWidth=1,e.strokeStyle=z?t.textDark:t.textMedium,e.stroke();break}case Ci:{e.beginPath(),Rn(e,x-y/2,g-y/2,y,y,h),e.fillStyle=z?t.textMedium:t.textLight,e.fill(),w==="circle"&&(b*=.8,y*=.8),e.beginPath(),e.moveTo(x-y/3,g),e.lineTo(x+y/3,g),e.strokeStyle=t.bgCell,e.lineCap="round",e.lineWidth=1.9,e.stroke();break}default:tr()}}function hc(e,t,n,o,r,i,l,s,c,u,f,m,w,g,h,y,b,x,C){const z=l+s;if(z<=0)return;e.fillStyle=m.bgHeader,e.fillRect(0,0,r,z);const[X,Y]=(o==null?void 0:o[0])??[],F=m.headerFontFull;e.font=F,jn(t,0,i,0,z,(H,K,S,O)=>{var ye;if(b!==void 0&&!b.has([H.sourceIndex,-1]))return;const P=Math.max(0,O-K);e.save(),e.beginPath(),e.rect(K+P,s,H.width-P,l),e.clip();const A=y(H.group??"").overrideTheme,R=H.themeOverride===void 0&&A===void 0?m:Vn(m,A,H.themeOverride);R.bgHeader!==m.bgHeader&&(e.fillStyle=R.bgHeader,e.fill()),R!==m&&(e.font=R.baseFontFull);const M=f.columns.hasIndex(H.sourceIndex),ie=c!==void 0||u,ne=!ie&&Y===-1&&X===H.sourceIndex,oe=ie?0:((ye=g.find(re=>re.item[0]===H.sourceIndex&&re.item[1]===-1))==null?void 0:ye.hoverAmount)??0,Me=(f==null?void 0:f.current)!==void 0&&f.current.cell[0]===H.sourceIndex,Ae=M?R.accentColor:Me?R.bgHeaderHasFocus:R.bgHeader,J=n?s:0,G=H.sourceIndex===0?0:1;M?(e.fillStyle=Ae,e.fillRect(K+G,J,H.width-G,l)):(Me||oe>0)&&(e.beginPath(),e.rect(K+G,J,H.width-G,l),Me&&(e.fillStyle=R.bgHeaderHasFocus,e.fill()),oe>0&&(e.globalAlpha=oe,e.fillStyle=R.bgHeaderHovered,e.fill(),e.globalAlpha=1)),es(e,K,J,H.width,l,H,M,R,ne,Me,oe,w,x,C),e.restore()}),n&&gc(e,t,r,i,s,o,m,w,g,h,y,b)}function gc(e,t,n,o,r,i,l,s,c,u,f,m){const[g,h]=(i==null?void 0:i[0])??[];let y=0;Vl(t,n,o,r,(b,x,C,z,X,Y)=>{if(m!==void 0&&!m.hasItemInRectangle({x:b[0],y:-2,width:b[1]-b[0]+1,height:1}))return;e.save(),e.beginPath(),e.rect(C,z,X,Y),e.clip();const F=f(x),H=(F==null?void 0:F.overrideTheme)===void 0?l:Vn(l,F.overrideTheme),K=h===-2&&g!==void 0&&g>=b[0]&&g<=b[1],S=K?H.bgHeaderHovered:H.bgHeader;if(S!==l.bgHeader&&(e.fillStyle=S,e.fill()),e.fillStyle=H.textGroupHeader??H.textHeader,F!==void 0){let O=C;if(F.icon!==void 0&&(s.drawSprite(F.icon,"normal",e,O+8,(r-20)/2,20,H),O+=26),e.fillText(F.name,O+8,r/2+qn(e,l.headerFontFull)),F.actions!==void 0&&K){const P=Jl({x:C,y:z,width:X,height:Y},F.actions);e.beginPath();const A=P[0].x-10,R=C+X-A;e.rect(A,0,R,r);const M=e.createLinearGradient(A,0,A+R,0),ie=io(S,0);M.addColorStop(0,ie),M.addColorStop(10/R,S),M.addColorStop(1,S),e.fillStyle=M,e.fill(),e.globalAlpha=.6;const[ne,oe]=(i==null?void 0:i[1])??[-1,-1];for(let Me=0;Me<F.actions.length;Me++){const Ae=F.actions[Me],J=P[Me],G=Ho(J,ne+C,oe);G&&(e.globalAlpha=1),s.drawSprite(Ae.icon,"normal",e,J.x+J.width/2-10,J.y+J.height/2-10,20,H),G&&(e.globalAlpha=.6)}e.globalAlpha=1}}C!==0&&u(b[0])&&(e.beginPath(),e.moveTo(C+.5,0),e.lineTo(C+.5,r),e.strokeStyle=l.borderColor,e.lineWidth=1,e.stroke()),e.restore(),y=C+X}),e.beginPath(),e.moveTo(y+.5,0),e.lineTo(y+.5,r),e.moveTo(0,r+.5),e.lineTo(n,r+.5),e.strokeStyle=l.borderColor,e.lineWidth=1,e.stroke()}const Eo=30;function mc(e,t,n,o,r){return r?{x:e,y:t,width:Eo,height:Math.min(Eo,o)}:{x:e+n-Eo,y:Math.max(t,t+o/2-Eo/2),width:Eo,height:Math.min(Eo,o)}}function Jl(e,t){const n=[];let o=e.x+e.width-26*t.length;const r=e.y+e.height/2-13,i=26,l=26;for(let s=0;s<t.length;s++)n.push({x:o,y:r,width:l,height:i}),o+=26;return n}function qo(e,t,n){return!n||e===void 0||(e.x=t-(e.x-t)-e.width),e}function Ql(e,t,n,o,r,i,l,s){var x;const c=l.cellHorizontalPadding,u=l.headerIconSize,f=mc(n,o,r,i,!1);let m=n+c;const w=t.icon===void 0?void 0:{x:m,y:o+(i-u)/2,width:u,height:u},g=w===void 0||t.overlayIcon===void 0?void 0:{x:w.x+9,y:w.y+6,width:18,height:18};w!==void 0&&(m+=Math.ceil(u*1.3));const h={x:m,y:o,width:r-m,height:i};let y;if(t.indicatorIcon!==void 0){const C=e===void 0?((x=Pl(t.title,l.headerFontFull))==null?void 0:x.width)??0:Bo(t.title,e,l.headerFontFull).width;h.width=C,m+=C+c,y={x:m,y:o+(i-u)/2,width:u,height:u}}const b=n+r/2;return{menuBounds:qo(f,b,s),iconBounds:qo(w,b,s),iconOverlayBounds:qo(g,b,s),textBounds:qo(h,b,s),indicatorIconBounds:qo(y,b,s)}}function cl(e,t,n,o,r,i,l,s,c,u,f,m,w,g){if(i.rowMarker!==void 0){const b=i.rowMarkerChecked;b!==!0&&(e.globalAlpha=u),Ei(e,s,b,t,n,o,r,!1,void 0,void 0,18,"center",i.rowMarker),b!==!0&&(e.globalAlpha=1);return}const h=l?s.textHeaderSelected:s.textHeader,y=i.hasMenu===!0&&(c||m&&l)&&g.menuBounds!==void 0;if(i.icon!==void 0&&g.iconBounds!==void 0){let b=l?"selected":"normal";i.style==="highlight"&&(b=l?"selected":"special"),f.drawSprite(i.icon,b,e,g.iconBounds.x,g.iconBounds.y,g.iconBounds.width,s),i.overlayIcon!==void 0&&g.iconOverlayBounds!==void 0&&f.drawSprite(i.overlayIcon,l?"selected":"special",e,g.iconOverlayBounds.x,g.iconOverlayBounds.y,g.iconOverlayBounds.width,s)}if(y&&o>35){const x=w?35:o-35,C=w?35*.7:o-35*.7,z=x/o,X=C/o,Y=e.createLinearGradient(t,0,t+o,0),F=io(h,0);Y.addColorStop(w?1:0,h),Y.addColorStop(z,h),Y.addColorStop(X,F),Y.addColorStop(w?0:1,F),e.fillStyle=Y}else e.fillStyle=h;if(w&&(e.textAlign="right"),g.textBounds!==void 0&&e.fillText(i.title,w?g.textBounds.x+g.textBounds.width:g.textBounds.x,n+r/2+qn(e,s.headerFontFull)),w&&(e.textAlign="left"),i.indicatorIcon!==void 0&&g.indicatorIconBounds!==void 0&&(!y||!or(g.menuBounds.x,g.menuBounds.y,g.menuBounds.width,g.menuBounds.height,g.indicatorIconBounds.x,g.indicatorIconBounds.y,g.indicatorIconBounds.width,g.indicatorIconBounds.height))){let b=l?"selected":"normal";i.style==="highlight"&&(b=l?"selected":"special"),f.drawSprite(i.indicatorIcon,b,e,g.indicatorIconBounds.x,g.indicatorIconBounds.y,g.indicatorIconBounds.width,s)}if(y&&g.menuBounds!==void 0){const b=g.menuBounds;if(i.menuIcon===void 0||i.menuIcon===Br.Triangle){e.beginPath();const x=b.x+b.width/2-5.5,C=b.y+b.height/2-3;Ma(e,[{x,y:C},{x:x+11,y:C},{x:x+5.5,y:C+6}],1),e.fillStyle=h,e.fill()}else if(i.menuIcon===Br.Dots){e.beginPath();const x=b.x+b.width/2,C=b.y+b.height/2;Sa(e,x,C),e.fillStyle=h,e.fill()}else{const x=b.x+(b.width-s.headerIconSize)/2,C=b.y+(b.height-s.headerIconSize)/2;f.drawSprite(i.menuIcon,"normal",e,x,C,s.headerIconSize,s)}}}function es(e,t,n,o,r,i,l,s,c,u,f,m,w,g){const h=ki(i.title)==="rtl",y=Ql(e,i,t,n,o,r,s,h);w!==void 0?w({ctx:e,theme:s,rect:{x:t,y:n,width:o,height:r},column:i,columnIndex:i.sourceIndex,isSelected:l,hoverAmount:f,isHovered:c,hasSelectedCell:u,spriteManager:m,menuBounds:(y==null?void 0:y.menuBounds)??{x:0,y:0,height:0,width:0}},()=>cl(e,t,n,o,r,i,l,s,c,f,m,g,h,y)):cl(e,t,n,o,r,i,l,s,c,f,m,g,h,y)}function wc(e,t,n,o,r,i,l,s,c,u,f,m,w,g,h,y,b,x,C){if(x!==void 0||t[t.length-1]!==n[t.length-1])return;const z=_l(b);jn(t,c,l,s,i,(X,Y,F,H,K)=>{if(X!==t[t.length-1])return;Y+=X.width;const S=Math.max(Y,H);S>o||(e.save(),e.beginPath(),e.rect(S,i+1,1e4,r-i-1),e.clip(),Nr(K,F,r,u,f,h,y,z,(O,P,A,R)=>{if(!R&&b.length>0&&!b.some(Me=>or(Y,O,1e4,A,Me.x,Me.y,Me.width,Me.height)))return;const M=w.hasIndex(P),ie=g.hasIndex(P);e.beginPath();const ne=m==null?void 0:m(P),oe=ne===void 0?C:Vn(C,ne);oe.bgCell!==C.bgCell&&(e.fillStyle=oe.bgCell,e.fillRect(Y,O,1e4,A)),ie&&(e.fillStyle=oe.bgHeader,e.fillRect(Y,O,1e4,A)),M&&(e.fillStyle=oe.accentLight,e.fillRect(Y,O,1e4,A))}),e.restore())})}function yc(e,t,n,o,r,i,l,s,c){let u=!1;for(const h of t)if(!h.sticky){u=l(h.sourceIndex);break}const f=c.horizontalBorderColor??c.borderColor,m=c.borderColor,w=u?zo(t):0;let g;if(w!==0&&(g=rl(m,c.bgCell),e.beginPath(),e.moveTo(w+.5,0),e.lineTo(w+.5,o),e.strokeStyle=g,e.stroke()),r>0){const h=m===f&&g!==void 0?g:rl(f,c.bgCell),y=lo(i,r,s);e.beginPath(),e.moveTo(0,o-y+.5),e.lineTo(n,o-y+.5),e.strokeStyle=h,e.stroke()}}const ts=(e,t,n)=>{let o=0,r=t,i=0,l=n;if(e!==void 0&&e.length>0){o=Number.MAX_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER,l=Number.MIN_SAFE_INTEGER;for(const s of e)o=Math.min(o,s.x-1),r=Math.max(r,s.x+s.width+1),i=Math.min(i,s.y-1),l=Math.max(l,s.y+s.height+1)}return{minX:o,maxX:r,minY:i,maxY:l}};function bc(e,t,n,o,r,i,l,s,c,u,f,m,w,g,h){var A;const y=h.bgCell,{minX:b,maxX:x,minY:C,maxY:z}=ts(s,i,l),X=[],Y=l-lo(g,w,u);let F=c,H=n,K=0;for(;F+r<Y;){const R=F+r,M=u(H);if(R>=C&&R<=z-1){const ie=f==null?void 0:f(H),ne=ie==null?void 0:ie.bgCell;ne!==void 0&&ne!==y&&H>=g-w&&X.push({x:b,y:R,w:x-b,h:M,color:ne})}F+=M,H<g-w&&(K=F),H++}let S=0;const O=Math.min(Y,z)-K;if(O>0)for(let R=0;R<t.length;R++){const M=t[R];if(M.width===0)continue;const ie=M.sticky?S:S+o,ne=(A=M.themeOverride)==null?void 0:A.bgCell;ne!==void 0&&ne!==y&&ie>=b&&ie<=x&&m(R+1)&&X.push({x:ie,y:K,w:M.width,h:O,color:ne}),S+=M.width}if(X.length===0)return;let P;e.beginPath();for(let R=X.length-1;R>=0;R--){const M=X[R];P===void 0?P=M.color:M.color!==P&&(e.fillStyle=P,e.fill(),e.beginPath(),P=M.color),e.rect(M.x,M.y,M.w,M.h)}P!==void 0&&(e.fillStyle=P,e.fill()),e.beginPath()}function dl(e,t,n,o,r,i,l,s,c,u,f,m,w,g,h,y,b,x=!1){if(c!==void 0){e.beginPath(),e.save(),e.rect(0,0,i,l);for(const A of c)e.rect(A.x+1,A.y+1,A.width-1,A.height-1);e.clip("evenodd")}const C=b.horizontalBorderColor??b.borderColor,z=b.borderColor,{minX:X,maxX:Y,minY:F,maxY:H}=ts(s,i,l),K=[];e.beginPath();let S=.5;for(let A=0;A<t.length;A++){const R=t[A];if(R.width===0)continue;S+=R.width;const M=R.sticky?S:S+o;M>=X&&M<=Y&&g(A+1)&&K.push({x1:M,y1:Math.max(u,F),x2:M,y2:Math.min(l,H),color:z})}let O=l+.5;for(let A=y-h;A<y;A++){const R=m(A);O-=R,K.push({x1:X,y1:O,x2:Y,y2:O,color:C})}if(x!==!0){let A=f+.5,R=n;const M=O;for(;A+r<M;){const ie=A+r;if(ie>=F&&ie<=H-1){const ne=w==null?void 0:w(R);K.push({x1:X,y1:ie,x2:Y,y2:ie,color:(ne==null?void 0:ne.horizontalBorderColor)??(ne==null?void 0:ne.borderColor)??C})}A+=m(R),R++}}const P=Ys(K,A=>A.color);for(const A of Object.keys(P)){e.strokeStyle=A;for(const R of P[A])e.moveTo(R.x1,R.y1),e.lineTo(R.x2,R.y2);e.stroke(),e.beginPath()}c!==void 0&&e.restore()}function pc(e,t,n,o,r,i,l,s,c,u,f,m,w,g,h,y,b,x,C){const z=[];e.imageSmoothingEnabled=!1;const X=Math.min(r.cellYOffset,l),Y=Math.max(r.cellYOffset,l);let F=0;if(typeof x=="number")F+=(Y-X)*x;else for(let M=X;M<Y;M++)F+=x(M);l>r.cellYOffset&&(F=-F),F+=c-r.translateY;const H=Math.min(r.cellXOffset,i),K=Math.max(r.cellXOffset,i);let S=0;for(let M=H;M<K;M++)S+=y[M].width;i>r.cellXOffset&&(S=-S),S+=s-r.translateX;const O=zo(b);if(S!==0&&F!==0)return{regions:[]};const P=u>0?lo(w,u,x):0,A=f-O-Math.abs(S),R=m-g-P-Math.abs(F)-1;if(A>150&&R>150){const M={sx:0,sy:0,sw:f*h,sh:m*h,dx:0,dy:0,dw:f*h,dh:m*h};if(F>0?(M.sy=(g+1)*h,M.sh=R*h,M.dy=(F+g+1)*h,M.dh=R*h,z.push({x:0,y:g,width:f,height:F+1})):F<0&&(M.sy=(-F+g+1)*h,M.sh=R*h,M.dy=(g+1)*h,M.dh=R*h,z.push({x:0,y:m+F-P,width:f,height:-F+P})),S>0?(M.sx=O*h,M.sw=A*h,M.dx=(S+O)*h,M.dw=A*h,z.push({x:O-1,y:0,width:S+2,height:m})):S<0&&(M.sx=(O-S)*h,M.sw=A*h,M.dx=O*h,M.dw=A*h,z.push({x:f+S,y:0,width:-S,height:m})),e.setTransform(1,0,0,1,0,0),C){if(O>0&&S!==0&&F===0&&(o===void 0||(n==null?void 0:n[1])!==!1)){const ie=O*h,ne=m*h;e.drawImage(t,0,0,ie,ne,0,0,ie,ne)}if(P>0&&S===0&&F!==0&&(o===void 0||(n==null?void 0:n[0])!==!1)){const ie=(m-P)*h,ne=f*h,oe=P*h;e.drawImage(t,0,ie,ne,oe,0,ie,ne,oe)}}e.drawImage(t,M.sx,M.sy,M.sw,M.sh,M.dx,M.dy,M.dw,M.dh),e.scale(h,h)}return e.imageSmoothingEnabled=!0,{regions:z}}function vc(e,t,n,o,r,i,l,s,c,u){const f=[];return t!==e.cellXOffset||n!==e.cellYOffset||o!==e.translateX||r!==e.translateY||jn(c,n,o,r,s,(m,w,g,h)=>{if(m.sourceIndex===u){const y=Math.max(w,h)+1;return f.push({x:y,y:0,width:i-y,height:l}),!0}}),f}function Cc(e,t){if(t===void 0||e.width!==t.width||e.height!==t.height||e.theme!==t.theme||e.headerHeight!==t.headerHeight||e.rowHeight!==t.rowHeight||e.rows!==t.rows||e.freezeColumns!==t.freezeColumns||e.getRowThemeOverride!==t.getRowThemeOverride||e.isFocused!==t.isFocused||e.isResizing!==t.isResizing||e.verticalBorder!==t.verticalBorder||e.getCellContent!==t.getCellContent||e.highlightRegions!==t.highlightRegions||e.selection!==t.selection||e.dragAndDropState!==t.dragAndDropState||e.prelightCells!==t.prelightCells||e.touchMode!==t.touchMode||e.maxScaleFactor!==t.maxScaleFactor)return!1;if(e.mappedColumns!==t.mappedColumns){if(e.mappedColumns.length>100||e.mappedColumns.length!==t.mappedColumns.length)return!1;let n;for(let o=0;o<e.mappedColumns.length;o++){const r=e.mappedColumns[o],i=t.mappedColumns[o];if(To(r,i))continue;if(n!==void 0||r.width===i.width)return!1;const{width:l,...s}=r,{width:c,...u}=i;if(!To(s,u))return!1;n=o}return n===void 0?!0:n}return!0}function ul(e,t,n,o,r,i,l,s,c,u,f,m,w,g,h,y){const b=h==null?void 0:h.filter(H=>H.style!=="no-outline");if(b===void 0||b.length===0)return;const x=zo(s),C=lo(g,w,m),z=[c,0,s.length,g-w],X=[x,0,t,n-C],Y=b.map(H=>{const K=H.range,S=H.style??"dashed";return dc(K,z,t,n,X).map(O=>{const P=O.rect,A=bi(P.x,P.y,t,n,f,u+f,o,r,i,l,g,c,w,s,m),R=P.width===1&&P.height===1?A:bi(P.x+P.width-1,P.y+P.height-1,t,n,f,u+f,o,r,i,l,g,c,w,s,m);return P.x+P.width>=s.length&&(R.width-=1),P.y+P.height>=g&&(R.height-=1),{color:H.color,style:S,clip:O.clip,rect:cc({x:A.x,y:A.y,width:R.x+R.width-A.x,height:R.y+R.height-A.y},t,n,8)}})}),F=()=>{e.lineWidth=1;let H=!1;for(const K of Y)for(const S of K)if((S==null?void 0:S.rect)!==void 0&&or(0,0,t,n,S.rect.x,S.rect.y,S.rect.width,S.rect.height)){const O=H,P=!ac(S.clip,S.rect);P&&(e.save(),e.rect(S.clip.x,S.clip.y,S.clip.width,S.clip.height),e.clip()),S.style==="dashed"&&!H?(e.setLineDash([5,3]),H=!0):(S.style==="solid"||S.style==="solid-outline")&&H&&(e.setLineDash([]),H=!1),e.strokeStyle=S.style==="solid-outline"?Jt(Jt(S.color,y.borderColor),y.bgCell):io(S.color,1),e.strokeRect(S.rect.x+.5,S.rect.y+.5,S.rect.width-1,S.rect.height-1),P&&(e.restore(),H=O)}H&&e.setLineDash([])};return F(),F}function fl(e,t,n,o,r){e.beginPath(),e.moveTo(t,n),e.lineTo(t,o),e.lineWidth=2,e.strokeStyle=r,e.stroke(),e.globalAlpha=1}function di(e,t,n,o,r,i,l,s,c,u,f,m,w,g,h,y,b){if(f.current===void 0)return;const x=f.current.range,C=f.current.cell,z=[x.x+x.width-1,x.y+x.height-1];if(C[1]>=b&&z[1]>=b||!l.some(M=>M.sourceIndex===C[0]||M.sourceIndex===z[0]))return;const[Y,F]=f.current.cell,H=w(f.current.cell),K=H.span??[Y,Y],S=F>=b-g,O=g>0&&!S?lo(b,g,m)-1:0,P=z[1];let A;if(jn(l,o,r,i,u,(M,ie,ne,oe,Me)=>{if(M.sticky&&Y>M.sourceIndex)return;const Ae=M.sourceIndex<K[0],J=M.sourceIndex>K[1],G=M.sourceIndex===z[0];if(!(!G&&(Ae||J)))return Nr(Me,ne,n,b,m,g,h,void 0,(ye,re,ke)=>{if(re!==F&&re!==P)return;let be=ie,V=M.width;if(H.span!==void 0){const Re=ql(H.span,ie,ye,M.width,ke,M,s),Qe=M.sticky?Re[0]:Re[1];Qe!==void 0&&(be=Qe.x,V=Qe.width)}return re===P&&G&&y&&(A=()=>{var Re;oe>be&&!M.sticky&&(e.beginPath(),e.rect(oe,0,t-oe,n),e.clip()),e.beginPath(),e.rect(be+V-4,ye+ke-4,4,4),e.fillStyle=((Re=M.themeOverride)==null?void 0:Re.accentColor)??c.accentColor,e.fill()}),A!==void 0}),A!==void 0}),A===void 0)return;const R=()=>{e.save(),e.beginPath(),e.rect(0,u,t,n-u-O),e.clip(),A==null||A(),e.restore()};return R(),R}function xc(e,t,n,o,r,i,l,s,c){c===void 0||c.size===0||(e.beginPath(),Vl(t,n,i,o,(u,f,m,w,g,h)=>{c.hasItemInRectangle({x:u[0],y:-2,width:u[1]-u[0]+1,height:1})&&e.rect(m,w,g,h)}),jn(t,s,i,l,r,(u,f,m,w)=>{const g=Math.max(0,w-f),h=f+g+1,y=u.width-g-1;c.has([u.sourceIndex,-1])&&e.rect(h,o,y,r-o)}),e.clip())}function kc(e,t,n,o,r,i,l,s,c,u){let f=0;return jn(e,i,o,r,n,(m,w,g,h,y)=>(Nr(y,g,t,l,s,c,u,void 0,(b,x,C,z)=>{z||(f=Math.max(x,f))}),!0)),f}function hl(e,t){var cn;const{canvasCtx:n,headerCanvasCtx:o,width:r,height:i,cellXOffset:l,cellYOffset:s,translateX:c,translateY:u,mappedColumns:f,enableGroups:m,freezeColumns:w,dragAndDropState:g,theme:h,drawFocus:y,headerHeight:b,groupHeaderHeight:x,disabledRows:C,rowHeight:z,verticalBorder:X,overrideCursor:Y,isResizing:F,selection:H,fillHandle:K,freezeTrailingRows:S,rows:O,getCellContent:P,getGroupDetails:A,getRowThemeOverride:R,isFocused:M,drawHeaderCallback:ie,prelightCells:ne,drawCellCallback:oe,highlightRegions:Me,resizeCol:Ae,imageLoader:J,lastBlitData:G,hoverValues:ye,hyperWrapping:re,hoverInfo:ke,spriteManager:be,maxScaleFactor:V,hasAppendRow:Fe,touchMode:Re,enqueue:Qe,renderStateProvider:tt,getCellRenderer:mt,renderStrategy:nt,bufferACtx:ze,bufferBCtx:Ve,damage:Se,minimumCellWidth:wt,resizeIndicator:at}=e;if(r===0||i===0)return;const je=nt==="double-buffer",j=Math.min(V,Math.ceil(window.devicePixelRatio??1)),$e=nt!=="direct"&&Cc(e,t),Ie=n.canvas;(Ie.width!==r*j||Ie.height!==i*j)&&(Ie.width=r*j,Ie.height=i*j,Ie.style.width=r+"px",Ie.style.height=i+"px");const He=o.canvas,fe=m?x+b:b,Xe=fe+1;(He.width!==r*j||He.height!==Xe*j)&&(He.width=r*j,He.height=Xe*j,He.style.width=r+"px",He.style.height=Xe+"px");const We=ze.canvas,Oe=Ve.canvas;je&&(We.width!==r*j||We.height!==i*j)&&(We.width=r*j,We.height=i*j,G.current!==void 0&&(G.current.aBufferScroll=void 0)),je&&(Oe.width!==r*j||Oe.height!==i*j)&&(Oe.width=r*j,Oe.height=i*j,G.current!==void 0&&(G.current.bBufferScroll=void 0));const ae=G.current;if($e===!0&&l===(ae==null?void 0:ae.cellXOffset)&&s===(ae==null?void 0:ae.cellYOffset)&&c===(ae==null?void 0:ae.translateX)&&u===(ae==null?void 0:ae.translateY))return;let Ce=null;je&&(Ce=n);const et=o;let Ye;je?Se!==void 0?Ye=(ae==null?void 0:ae.lastBuffer)==="b"?Ve:ze:Ye=(ae==null?void 0:ae.lastBuffer)==="b"?ze:Ve:Ye=n;const _e=Ye.canvas,ct=je?_e===We?Oe:We:Ie,Ze=typeof z=="number"?()=>z:z;et.save(),Ye.save(),et.beginPath(),Ye.beginPath(),et.textBaseline="middle",Ye.textBaseline="middle",j!==1&&(et.scale(j,j),Ye.scale(j,j));const Te=yi(f,l,r,g,c);let Ct=[];const Ht=y&&((cn=H.current)==null?void 0:cn.cell[1])===s&&u===0;let bt=!1;if(Me!==void 0){for(const pe of Me)if(pe.style!=="no-outline"&&pe.range.y===s&&u===0){bt=!0;break}}const xt=()=>{hc(et,Te,m,ke,r,c,b,x,g,F,H,h,be,ye,X,A,Se,ie,Re),dl(et,Te,s,c,u,r,i,void 0,void 0,x,fe,Ze,R,X,S,O,h,!0),et.beginPath(),et.moveTo(0,Xe-.5),et.lineTo(r,Xe-.5),et.strokeStyle=Jt(h.headerBottomBorderColor??h.horizontalBorderColor??h.borderColor,h.bgHeader),et.stroke(),bt&&ul(et,r,i,l,s,c,u,f,w,b,x,z,S,O,Me,h),Ht&&di(et,r,i,s,c,u,Te,f,h,fe,H,Ze,P,S,Fe,K,O)};if(Se!==void 0){const pe=Te[Te.length-1].sourceIndex+1,ht=Se.hasItemInRegion([{x:l,y:-2,width:pe,height:2},{x:l,y:s,width:pe,height:300},{x:0,y:s,width:w,height:300},{x:0,y:-2,width:w,height:2},{x:l,y:O-S,width:pe,height:S,when:S>0}]),bn=$t=>{al($t,Te,f,i,fe,c,u,s,O,Ze,P,A,R,C,M,y,S,Fe,Ct,Se,H,ne,Me,J,be,ye,ke,oe,re,h,Qe,tt,mt,Y,wt);const kt=H.current;K&&y&&kt!==void 0&&Se.has(zl(kt.range))&&di($t,r,i,s,c,u,Te,f,h,fe,H,Ze,P,S,Fe,K,O)};ht&&(bn(Ye),Ce!==null&&(Ce.save(),Ce.scale(j,j),Ce.textBaseline="middle",bn(Ce),Ce.restore()),Se.hasHeader()&&(xc(et,Te,r,x,fe,c,u,s,Se),xt())),Ye.restore(),et.restore();return}if(($e!==!0||l!==(ae==null?void 0:ae.cellXOffset)||c!==(ae==null?void 0:ae.translateX)||Ht!==(ae==null?void 0:ae.mustDrawFocusOnHeader)||bt!==(ae==null?void 0:ae.mustDrawHighlightRingsOnHeader))&&xt(),$e===!0){Zt(ct!==void 0&&ae!==void 0);const{regions:pe}=pc(Ye,ct,ct===We?ae.aBufferScroll:ae.bBufferScroll,ct===We?ae.bBufferScroll:ae.aBufferScroll,ae,l,s,c,u,S,r,i,O,fe,j,f,Te,z,je);Ct=pe}else $e!==!1&&(Zt(ae!==void 0),Ct=vc(ae,l,s,c,u,r,i,fe,Te,$e));yc(Ye,Te,r,i,S,O,X,Ze,h);const Lt=ul(Ye,r,i,l,s,c,u,f,w,b,x,z,S,O,Me,h),ft=y?di(Ye,r,i,s,c,u,Te,f,h,fe,H,Ze,P,S,Fe,K,O):void 0;if(Ye.fillStyle=h.bgCell,Ct.length>0){Ye.beginPath();for(const pe of Ct)Ye.rect(pe.x,pe.y,pe.width,pe.height);Ye.clip(),Ye.fill(),Ye.beginPath()}else Ye.fillRect(0,0,r,i);const yn=al(Ye,Te,f,i,fe,c,u,s,O,Ze,P,A,R,C,M,y,S,Fe,Ct,Se,H,ne,Me,J,be,ye,ke,oe,re,h,Qe,tt,mt,Y,wt);wc(Ye,Te,f,r,i,fe,c,u,s,O,Ze,R,H.rows,C,S,Fe,Ct,Se,h),bc(Ye,Te,s,c,u,r,i,Ct,fe,Ze,R,X,S,O,h),dl(Ye,Te,s,c,u,r,i,Ct,yn,x,fe,Ze,R,X,S,O,h),Lt==null||Lt(),ft==null||ft(),F&&at!=="none"&&jn(Te,0,c,0,fe,(pe,ht)=>pe.sourceIndex===Ae?(fl(et,ht+pe.width,0,fe+1,Jt(h.resizeIndicatorColor??h.accentLight,h.bgHeader)),at==="full"&&fl(Ye,ht+pe.width,fe,i,Jt(h.resizeIndicatorColor??h.accentLight,h.bgCell)),!0):!1),Ce!==null&&(Ce.fillStyle=h.bgCell,Ce.fillRect(0,0,r,i),Ce.drawImage(Ye.canvas,0,0));const An=kc(Te,i,fe,c,u,s,O,Ze,S,Fe);J==null||J.setWindow({x:l,y:s,width:Te.length,height:An-s},w,Array.from({length:S},(pe,ht)=>O-1-ht));const lt=ae!==void 0&&(l!==ae.cellXOffset||c!==ae.translateX),En=ae!==void 0&&(s!==ae.cellYOffset||u!==ae.translateY);G.current={cellXOffset:l,cellYOffset:s,translateX:c,translateY:u,mustDrawFocusOnHeader:Ht,mustDrawHighlightRingsOnHeader:bt,lastBuffer:je?_e===We?"a":"b":void 0,aBufferScroll:_e===We?[lt,En]:ae==null?void 0:ae.aBufferScroll,bBufferScroll:_e===Oe?[lt,En]:ae==null?void 0:ae.bBufferScroll},Ye.restore(),et.restore()}const Sc=80;function Mc(e){const t=e-1;return t*t*t+1}class Rc{constructor(t){Ne(this,"callback");Ne(this,"currentHoveredItem");Ne(this,"leavingItems",[]);Ne(this,"lastAnimationTime");Ne(this,"addToLeavingItems",t=>{this.leavingItems.some(o=>Jo(o.item,t.item))||this.leavingItems.push(t)});Ne(this,"removeFromLeavingItems",t=>{const n=this.leavingItems.find(o=>Jo(o.item,t));return this.leavingItems=this.leavingItems.filter(o=>o!==n),(n==null?void 0:n.hoverAmount)??0});Ne(this,"cleanUpLeavingElements",()=>{this.leavingItems=this.leavingItems.filter(t=>t.hoverAmount>0)});Ne(this,"shouldStep",()=>{const t=this.leavingItems.length>0,n=this.currentHoveredItem!==void 0&&this.currentHoveredItem.hoverAmount<1;return t||n});Ne(this,"getAnimatingItems",()=>this.currentHoveredItem!==void 0?[...this.leavingItems,this.currentHoveredItem]:this.leavingItems.map(t=>({...t,hoverAmount:Mc(t.hoverAmount)})));Ne(this,"step",t=>{if(this.lastAnimationTime===void 0)this.lastAnimationTime=t;else{const o=(t-this.lastAnimationTime)/Sc;for(const i of this.leavingItems)i.hoverAmount=sn(i.hoverAmount-o,0,1);this.currentHoveredItem!==void 0&&(this.currentHoveredItem.hoverAmount=sn(this.currentHoveredItem.hoverAmount+o,0,1));const r=this.getAnimatingItems();this.callback(r),this.cleanUpLeavingElements()}this.shouldStep()?(this.lastAnimationTime=t,window.requestAnimationFrame(this.step)):this.lastAnimationTime=void 0});Ne(this,"setHovered",t=>{var n;if(!Jo((n=this.currentHoveredItem)==null?void 0:n.item,t)){if(this.currentHoveredItem!==void 0&&this.addToLeavingItems(this.currentHoveredItem),t!==void 0){const o=this.removeFromLeavingItems(t);this.currentHoveredItem={item:t,hoverAmount:o}}else this.currentHoveredItem=void 0;this.lastAnimationTime===void 0&&window.requestAnimationFrame(this.step)}});this.callback=t}}class Ec{constructor(t){Ne(this,"fn");Ne(this,"val");this.fn=t}get value(){return this.val??(this.val=this.fn())}}function Ii(e){return new Ec(e)}const Ic=Ii(()=>window.navigator.userAgent.includes("Firefox")),Lr=Ii(()=>window.navigator.userAgent.includes("Mac OS")&&window.navigator.userAgent.includes("Safari")&&!window.navigator.userAgent.includes("Chrome")),Pr=Ii(()=>window.navigator.platform.toLowerCase().startsWith("mac"));function Dc(e){const t=a.useRef([]),n=a.useRef(0),o=a.useRef(e);o.current=e;const r=a.useCallback(()=>{const i=()=>window.requestAnimationFrame(l),l=()=>{const s=t.current.map(Ri);t.current=[],o.current(new er(s)),t.current.length>0?n.current++:n.current=0};window.requestAnimationFrame(n.current>600?i:l)},[]);return a.useCallback(i=>{t.current.length===0&&r();const l=wn(i[0],i[1]);t.current.includes(l)||t.current.push(l)},[r])}const _n="header",jt="group-header",Wr="out-of-bounds";var Fo;(function(e){e[e.Start=-2]="Start",e[e.StartPadding=-1]="StartPadding",e[e.Center=0]="Center",e[e.EndPadding=1]="EndPadding",e[e.End=2]="End"})(Fo||(Fo={}));function ns(e,t){return e===t?!0:(e==null?void 0:e.kind)==="out-of-bounds"?(e==null?void 0:e.kind)===(t==null?void 0:t.kind)&&(e==null?void 0:e.location[0])===(t==null?void 0:t.location[0])&&(e==null?void 0:e.location[1])===(t==null?void 0:t.location[1])&&(e==null?void 0:e.region[0])===(t==null?void 0:t.region[0])&&(e==null?void 0:e.region[1])===(t==null?void 0:t.region[1]):(e==null?void 0:e.kind)===(t==null?void 0:t.kind)&&(e==null?void 0:e.location[0])===(t==null?void 0:t.location[0])&&(e==null?void 0:e.location[1])===(t==null?void 0:t.location[1])}const gl=6,Fc=(e,t)=>{if(e.kind===Z.Custom)return e.copyData;const n=t==null?void 0:t(e);return(n==null?void 0:n.getAccessibilityString(e))??""},Hc=(e,t)=>{const{width:n,height:o,accessibilityHeight:r,columns:i,cellXOffset:l,cellYOffset:s,headerHeight:c,fillHandle:u=!1,groupHeaderHeight:f,rowHeight:m,rows:w,getCellContent:g,getRowThemeOverride:h,onHeaderMenuClick:y,onHeaderIndicatorClick:b,enableGroups:x,isFilling:C,onCanvasFocused:z,onCanvasBlur:X,isFocused:Y,selection:F,freezeColumns:H,onContextMenu:K,freezeTrailingRows:S,fixedShadowX:O=!0,fixedShadowY:P=!0,drawFocusRing:A,onMouseDown:R,onMouseUp:M,onMouseMoveRaw:ie,onMouseMove:ne,onItemHovered:oe,dragAndDropState:Me,firstColAccessible:Ae,onKeyDown:J,onKeyUp:G,highlightRegions:ye,canvasRef:re,onDragStart:ke,onDragEnd:be,eventTargetRef:V,isResizing:Fe,resizeColumn:Re,isDragging:Qe,isDraggable:tt=!1,allowResize:mt,disabledRows:nt,hasAppendRow:ze,getGroupDetails:Ve,theme:Se,prelightCells:wt,headerIcons:at,verticalBorder:je,drawCell:j,drawHeader:$e,onCellFocused:Ie,onDragOverCell:He,onDrop:fe,onDragLeave:Xe,imageWindowLoader:We,smoothScrollX:Oe=!1,smoothScrollY:ae=!1,experimental:Ce,getCellRenderer:et,resizeIndicator:Ye="full"}=e,_e=e.translateX??0,ct=e.translateY??0,Ze=Math.max(H,Math.min(i.length-1,l)),Te=a.useRef(null),Ct=a.useRef(window),Ht=Ct.current,bt=We,xt=a.useRef(),[Lt,ft]=a.useState(!1),yn=a.useRef([]),An=a.useRef(),[lt,En]=a.useState(),[cn,pe]=a.useState(),ht=a.useRef(null),[bn,$t]=a.useState(),[kt,Be]=a.useState(!1),St=a.useRef(kt);St.current=kt;const dt=a.useMemo(()=>new lc(at,()=>{co.current=void 0,Pn.current()}),[at]),Nt=x?f+c:c,Ft=a.useRef(-1),Kt=((Ce==null?void 0:Ce.enableFirefoxRescaling)??!1)&&Ic.value,zn=((Ce==null?void 0:Ce.enableSafariRescaling)??!1)&&Lr.value;a.useLayoutEffect(()=>{window.devicePixelRatio===1||!Kt&&!zn||(Ft.current!==-1&&ft(!0),window.clearTimeout(Ft.current),Ft.current=window.setTimeout(()=>{ft(!1),Ft.current=-1},200))},[s,Ze,_e,ct,Kt,zn]);const Mt=fa(i,H),so=O?zo(Mt,Me):0,qe=a.useCallback((k,U,de)=>{const te=k.getBoundingClientRect();if(U>=Mt.length||de>=w)return;const _=te.width/n,q=bi(U,de,n,o,f,Nt,Ze,s,_e,ct,w,H,S,Mt,m);return _!==1&&(q.x*=_,q.y*=_,q.width*=_,q.height*=_),q.x+=te.x,q.y+=te.y,q},[n,o,f,Nt,Ze,s,_e,ct,w,H,S,Mt,m]),Tt=a.useCallback((k,U,de,te)=>{const _=k.getBoundingClientRect(),q=_.width/n,se=(U-_.left)/q,ce=(de-_.top)/q,ue=5,Dt=yi(Mt,Ze,n,void 0,_e);let me=0,De=0;te instanceof MouseEvent&&(me=te.button,De=te.buttons);const Ee=wa(se,Dt,_e),Ge=ya(ce,o,x,c,f,w,m,s,ct,S),pt=(te==null?void 0:te.shiftKey)===!0,Wt=(te==null?void 0:te.ctrlKey)===!0,vt=(te==null?void 0:te.metaKey)===!0,nn=te!==void 0&&!(te instanceof MouseEvent)||(te==null?void 0:te.pointerType)==="touch",Ke=[se<0?-1:n<se?1:0,ce<Nt?-1:o<ce?1:0];let _t;if(Ee===-1||ce<0||se<0||Ge===void 0||se>n||ce>o){const ot=se>n?1:se<0?-1:0,it=ce>o?1:ce<0?-1:0;let on=ot*2,un=it*2;ot===0&&(on=Ee===-1?Fo.EndPadding:Fo.Center),it===0&&(un=Ge===void 0?Fo.EndPadding:Fo.Center);let Bt=!1;if(Ee===-1&&Ge===-1){const Cn=qe(k,Mt.length-1,-1);Zt(Cn!==void 0),Bt=U<Cn.x+Cn.width+ue}const vo=se>n&&se<n+wi()||ce>o&&ce<o+wi();_t={kind:Wr,location:[Ee!==-1?Ee:se<0?0:Mt.length-1,Ge??w-1],region:[on,un],shiftKey:pt,ctrlKey:Wt,metaKey:vt,isEdge:Bt,isTouch:nn,button:me,buttons:De,scrollEdge:Ke,isMaybeScrollbar:vo}}else if(Ge<=-1){let ot=qe(k,Ee,Ge);Zt(ot!==void 0);let it=ot!==void 0&&ot.x+ot.width-U<=ue;const on=Ee-1;U-ot.x<=ue&&on>=0?(it=!0,ot=qe(k,on,Ge),Zt(ot!==void 0),_t={kind:x&&Ge===-2?jt:_n,location:[on,Ge],bounds:ot,group:Mt[on].group??"",isEdge:it,shiftKey:pt,ctrlKey:Wt,metaKey:vt,isTouch:nn,localEventX:U-ot.x,localEventY:de-ot.y,button:me,buttons:De,scrollEdge:Ke}):_t={kind:x&&Ge===-2?jt:_n,group:Mt[Ee].group??"",location:[Ee,Ge],bounds:ot,isEdge:it,shiftKey:pt,ctrlKey:Wt,metaKey:vt,isTouch:nn,localEventX:U-ot.x,localEventY:de-ot.y,button:me,buttons:De,scrollEdge:Ke}}else{const ot=qe(k,Ee,Ge);Zt(ot!==void 0);const it=ot!==void 0&&ot.x+ot.width-U<ue;let on=!1;if(u&&F.current!==void 0){const un=zl(F.current.range),Bt=qe(k,un[0],un[1]);if(Bt!==void 0){const vo=Bt.x+Bt.width-2,Cn=Bt.y+Bt.height-2;on=Math.abs(vo-U)<gl&&Math.abs(Cn-de)<gl}}_t={kind:"cell",location:[Ee,Ge],bounds:ot,isEdge:it,shiftKey:pt,ctrlKey:Wt,isFillHandle:on,metaKey:vt,isTouch:nn,localEventX:U-ot.x,localEventY:de-ot.y,button:me,buttons:De,scrollEdge:Ke}}return _t},[n,Mt,Ze,_e,o,x,c,f,w,m,s,ct,S,qe,u,F,Nt]),[In]=lt??[],ir=a.useRef(()=>{}),Bn=a.useRef(lt);Bn.current=lt;const[Dn,Fn]=a.useMemo(()=>{const k=document.createElement("canvas"),U=document.createElement("canvas");return k.style.display="none",k.style.opacity="0",k.style.position="fixed",U.style.display="none",U.style.opacity="0",U.style.position="fixed",[k.getContext("2d",{alpha:!1}),U.getContext("2d",{alpha:!1})]},[]);a.useLayoutEffect(()=>{if(!(Dn===null||Fn===null))return document.documentElement.append(Dn.canvas),document.documentElement.append(Fn.canvas),()=>{Dn.canvas.remove(),Fn.canvas.remove()}},[Dn,Fn]);const ao=a.useMemo(()=>new Ra,[]),Ln=Kt&&Lt?1:zn&&Lt?2:5,lr=(Ce==null?void 0:Ce.disableMinimumCellWidth)===!0?1:10,co=a.useRef(),uo=a.useRef(null),fo=a.useRef(null),ho=a.useCallback(()=>{var se;const k=Te.current,U=ht.current;if(k===null||U===null||(uo.current===null&&(uo.current=k.getContext("2d",{alpha:!1}),k.width=0,k.height=0),fo.current===null&&(fo.current=U.getContext("2d",{alpha:!1}),U.width=0,U.height=0),uo.current===null||fo.current===null||Dn===null||Fn===null))return;let de=!1;const te=ce=>{de=!0,$t(ce)},_=co.current,q={headerCanvasCtx:fo.current,canvasCtx:uo.current,bufferACtx:Dn,bufferBCtx:Fn,width:n,height:o,cellXOffset:Ze,cellYOffset:s,translateX:Math.round(_e),translateY:Math.round(ct),mappedColumns:Mt,enableGroups:x,freezeColumns:H,dragAndDropState:Me,theme:Se,headerHeight:c,groupHeaderHeight:f,disabledRows:nt??rt.empty(),rowHeight:m,verticalBorder:je,isResizing:Fe,resizeCol:Re,isFocused:Y,selection:F,fillHandle:u,drawCellCallback:j,hasAppendRow:ze,overrideCursor:te,maxScaleFactor:Ln,freezeTrailingRows:S,rows:w,drawFocus:A,getCellContent:g,getGroupDetails:Ve??(ce=>({name:ce})),getRowThemeOverride:h,drawHeaderCallback:$e,prelightCells:wt,highlightRegions:ye,imageLoader:bt,lastBlitData:An,damage:xt.current,hoverValues:yn.current,hoverInfo:Bn.current,spriteManager:dt,scrolling:Lt,hyperWrapping:(Ce==null?void 0:Ce.hyperWrapping)??!1,touchMode:kt,enqueue:ir.current,renderStateProvider:ao,renderStrategy:(Ce==null?void 0:Ce.renderStrategy)??(Lr.value?"double-buffer":"single-buffer"),getCellRenderer:et,minimumCellWidth:lr,resizeIndicator:Ye};q.damage===void 0?(co.current=q,hl(q,_)):hl(q,void 0),!de&&(q.damage===void 0||q.damage.has((se=Bn==null?void 0:Bn.current)==null?void 0:se[0]))&&$t(void 0)},[Dn,Fn,n,o,Ze,s,_e,ct,Mt,x,H,Me,Se,c,f,nt,m,je,Fe,ze,Re,Y,F,u,S,w,A,Ln,g,Ve,h,j,$e,wt,ye,bt,dt,Lt,Ce==null?void 0:Ce.hyperWrapping,Ce==null?void 0:Ce.renderStrategy,kt,ao,et,lr,Ye]),Pn=a.useRef(ho);a.useLayoutEffect(()=>{ho(),Pn.current=ho},[ho]),a.useLayoutEffect(()=>{(async()=>{var U;((U=document==null?void 0:document.fonts)==null?void 0:U.ready)!==void 0&&(await document.fonts.ready,co.current=void 0,Pn.current())})()},[]);const Wn=a.useCallback(k=>{xt.current=k,Pn.current(),xt.current=void 0},[]),Xr=Dc(Wn);ir.current=Xr;const sr=a.useCallback(k=>{Wn(new er(k.map(U=>U.cell)))},[Wn]);bt.setCallback(Wn);const[Yr,ar]=a.useState(!1),[go,On]=In??[],Gr=go!==void 0&&On===-1,Lo=go!==void 0&&On===-2;let cr=!1,At=!1,Xt=bn;if(Xt===void 0&&go!==void 0&&On!==void 0&&On>-1&&On<w){const k=g([go,On],!0);cr=k.kind===an.NewRow||k.kind===an.Marker&&k.markerKind!=="number",At=k.kind===Z.Boolean&&mi(k),Xt=k.cursor}const Po=Qe?"grabbing":(cn??!1)||Fe?"col-resize":Yr||C?"crosshair":Xt!==void 0?Xt:Gr||cr||At||Lo?"pointer":"default",mo=a.useMemo(()=>({contain:"strict",display:"block",cursor:Po}),[Po]),Zn=a.useRef("default"),pn=V==null?void 0:V.current;pn!=null&&Zn.current!==mo.cursor&&(pn.style.cursor=Zn.current=mo.cursor);const dn=a.useCallback((k,U,de,te)=>{if(Ve===void 0)return;const _=Ve(k);if(_.actions!==void 0){const q=Jl(U,_.actions);for(const[se,ce]of q.entries())if(Ho(ce,de+U.x,te+ce.y))return _.actions[se]}},[Ve]),$n=a.useCallback((k,U,de,te)=>{const _=Mt[U];if(!Qe&&!Fe&&!(cn??!1)){const q=qe(k,U,-1);Zt(q!==void 0);const se=Ql(void 0,_,q.x,q.y,q.width,q.height,Se,ki(_.title)==="rtl");if(_.hasMenu===!0&&se.menuBounds!==void 0&&Ho(se.menuBounds,de,te))return{area:"menu",bounds:se.menuBounds};if(_.indicatorIcon!==void 0&&se.indicatorIconBounds!==void 0&&Ho(se.indicatorIconBounds,de,te))return{area:"indicator",bounds:se.indicatorIconBounds}}},[Mt,qe,cn,Qe,Fe,Se]),wo=a.useRef(0),ve=a.useRef(),yo=a.useRef(!1),dr=a.useCallback(k=>{const U=Te.current,de=V==null?void 0:V.current;if(U===null||k.target!==U&&k.target!==de)return;yo.current=!0;let te,_;if(k instanceof MouseEvent?(te=k.clientX,_=k.clientY):(te=k.touches[0].clientX,_=k.touches[0].clientY),k.target===de&&de!==null){const se=de.getBoundingClientRect();if(te>se.right||_>se.bottom)return}const q=Tt(U,te,_,k);ve.current=q.location,q.isTouch&&(wo.current=Date.now()),St.current!==q.isTouch&&Be(q.isTouch),!(q.kind===_n&&$n(U,q.location[0],te,_)!==void 0)&&(q.kind===jt&&dn(q.group,q.bounds,q.localEventX,q.localEventY)!==void 0||(R==null||R(q),!q.isTouch&&tt!==!0&&tt!==q.kind&&q.button<3&&q.button!==1&&k.preventDefault()))},[V,tt,Tt,dn,$n,R]);Ot("touchstart",dr,Ht,!1),Ot("mousedown",dr,Ht,!1);const en=a.useRef(0),ur=a.useCallback(k=>{var De,Ee;const U=en.current;en.current=Date.now();const de=Te.current;if(yo.current=!1,M===void 0||de===null)return;const te=V==null?void 0:V.current,_=k.target!==de&&k.target!==te;let q,se,ce=!0;if(k instanceof MouseEvent){if(q=k.clientX,se=k.clientY,ce=k.button<3,k.pointerType==="touch")return}else q=k.changedTouches[0].clientX,se=k.changedTouches[0].clientY;let ue=Tt(de,q,se,k);ue.isTouch&&wo.current!==0&&Date.now()-wo.current>500&&(ue={...ue,isLongTouch:!0}),U!==0&&Date.now()-U<(ue.isTouch?1e3:500)&&(ue={...ue,isDoubleClick:!0}),St.current!==ue.isTouch&&Be(ue.isTouch),!_&&k.cancelable&&ce&&k.preventDefault();const[Dt]=ue.location,me=$n(de,Dt,q,se);if(ue.kind===_n&&me!==void 0){(ue.button!==0||((De=ve.current)==null?void 0:De[0])!==Dt||((Ee=ve.current)==null?void 0:Ee[1])!==-1)&&M(ue,!0);return}else if(ue.kind===jt){const Ge=dn(ue.group,ue.bounds,ue.localEventX,ue.localEventY);if(Ge!==void 0){ue.button===0&&Ge.onClick(ue);return}}M(ue,_)},[M,V,Tt,$n,dn]);Ot("mouseup",ur,Ht,!1),Ot("touchend",ur,Ht,!1);const Ut=a.useCallback(k=>{var Dt,me;const U=Te.current;if(U===null)return;const de=V==null?void 0:V.current,te=k.target!==U&&k.target!==de;let _,q,se=!0;k instanceof MouseEvent?(_=k.clientX,q=k.clientY,se=k.button<3):(_=k.changedTouches[0].clientX,q=k.changedTouches[0].clientY);const ce=Tt(U,_,q,k);St.current!==ce.isTouch&&Be(ce.isTouch),!te&&k.cancelable&&se&&k.preventDefault();const[ue]=ce.location;if(ce.kind===_n){const De=$n(U,ue,_,q);De!==void 0&&ce.button===0&&((Dt=ve.current)==null?void 0:Dt[0])===ue&&((me=ve.current)==null?void 0:me[1])===-1&&(De.area==="menu"?y==null||y(ue,De.bounds):De.area==="indicator"&&(b==null||b(ue,De.bounds)))}else if(ce.kind===jt){const De=dn(ce.group,ce.bounds,ce.localEventX,ce.localEventY);De!==void 0&&ce.button===0&&De.onClick(ce)}},[V,Tt,$n,y,b,dn]);Ot("click",Ut,Ht,!1);const Wo=a.useCallback(k=>{const U=Te.current,de=V==null?void 0:V.current;if(U===null||k.target!==U&&k.target!==de||K===void 0)return;const te=Tt(U,k.clientX,k.clientY,k);K(te,()=>{k.cancelable&&k.preventDefault()})},[V,Tt,K]);Ot("contextmenu",Wo,(V==null?void 0:V.current)??null,!1);const Oo=a.useCallback(k=>{xt.current=new er(k.map(U=>U.item)),yn.current=k,Pn.current(),xt.current=void 0},[]),$o=a.useMemo(()=>new Rc(Oo),[Oo]),fr=a.useRef($o);fr.current=$o,a.useLayoutEffect(()=>{const k=fr.current;if(In===void 0||In[1]<0){k.setHovered(In);return}const U=g(In,!0),de=et(U),te=de===void 0&&U.kind===Z.Custom||(de==null?void 0:de.needsHover)!==void 0&&(typeof de.needsHover=="boolean"?de.needsHover:de.needsHover(U));k.setHovered(te?In:void 0)},[g,et,In]);const hr=a.useRef(),vn=a.useCallback(k=>{var ce;const U=Te.current;if(U===null)return;const de=V==null?void 0:V.current,te=k.target!==U&&k.target!==de,_=Tt(U,k.clientX,k.clientY,k);if(_.kind!=="out-of-bounds"&&te&&!yo.current&&!_.isTouch)return;const q=(ue,Dt)=>{En(me=>me===ue||(me==null?void 0:me[0][0])===(ue==null?void 0:ue[0][0])&&(me==null?void 0:me[0][1])===(ue==null?void 0:ue[0][1])&&((me==null?void 0:me[1][0])===(ue==null?void 0:ue[1][0])&&(me==null?void 0:me[1][1])===(ue==null?void 0:ue[1][1])||!Dt)?me:ue)};if(!ns(_,hr.current))$t(void 0),oe==null||oe(_),q(_.kind===Wr?void 0:[_.location,[_.localEventX,_.localEventY]],!0),hr.current=_;else if(_.kind==="cell"||_.kind===_n||_.kind===jt){let ue=!1,Dt=!0;if(_.kind==="cell"){const De=g(_.location);Dt=((ce=et(De))==null?void 0:ce.needsHoverPosition)??De.kind===Z.Custom,ue=Dt}else _.kind===jt&&(ue=!0);const me=[_.location,[_.localEventX,_.localEventY]];q(me,Dt),Bn.current=me,ue&&Wn(new er([_.location]))}const se=_.location[0]>=(Ae?0:1);pe(_.kind===_n&&_.isEdge&&se&&mt===!0),ar(_.kind==="cell"&&_.isFillHandle),ie==null||ie(k),ne(_)},[V,Tt,Ae,mt,ie,ne,oe,g,et,Wn]);Ot("mousemove",vn,Ht,!0);const Nn=a.useCallback(k=>{const U=Te.current;if(U===null)return;let de,te;F.current!==void 0&&(de=qe(U,F.current.cell[0],F.current.cell[1]),te=F.current.cell),J==null||J({bounds:de,stopPropagation:()=>k.stopPropagation(),preventDefault:()=>k.preventDefault(),cancel:()=>{},ctrlKey:k.ctrlKey,metaKey:k.metaKey,shiftKey:k.shiftKey,altKey:k.altKey,key:k.key,keyCode:k.keyCode,rawEvent:k,location:te})},[J,F,qe]),tn=a.useCallback(k=>{const U=Te.current;if(U===null)return;let de,te;F.current!==void 0&&(de=qe(U,F.current.cell[0],F.current.cell[1]),te=F.current.cell),G==null||G({bounds:de,stopPropagation:()=>k.stopPropagation(),preventDefault:()=>k.preventDefault(),cancel:()=>{},ctrlKey:k.ctrlKey,metaKey:k.metaKey,shiftKey:k.shiftKey,altKey:k.altKey,key:k.key,keyCode:k.keyCode,rawEvent:k,location:te})},[G,F,qe]),D=a.useCallback(k=>{if(Te.current=k,re!==void 0&&(re.current=k),k===null)Ct.current=window;else{const U=k.getRootNode();U===document&&(Ct.current=window),Ct.current=U}},[re]),gt=a.useCallback(k=>{const U=Te.current;if(U===null||tt===!1||Fe){k.preventDefault();return}let de,te;const _=Tt(U,k.clientX,k.clientY);if(tt!==!0&&_.kind!==tt){k.preventDefault();return}const q=(De,Ee)=>{de=De,te=Ee};let se,ce,ue;const Dt=(De,Ee,Ge)=>{se=De,ce=Ee,ue=Ge};let me=!1;if(ke==null||ke({..._,setData:q,setDragImage:Dt,preventDefault:()=>me=!0,defaultPrevented:()=>me}),!me&&de!==void 0&&te!==void 0&&k.dataTransfer!==null)if(k.dataTransfer.setData(de,te),k.dataTransfer.effectAllowed="copyLink",se!==void 0&&ce!==void 0&&ue!==void 0)k.dataTransfer.setDragImage(se,ce,ue);else{const[De,Ee]=_.location;if(Ee!==void 0){const Ge=document.createElement("canvas"),pt=qe(U,De,Ee);Zt(pt!==void 0);const Wt=Math.ceil(window.devicePixelRatio??1);Ge.width=pt.width*Wt,Ge.height=pt.height*Wt;const vt=Ge.getContext("2d");vt!==null&&(vt.scale(Wt,Wt),vt.textBaseline="middle",Ee===-1?(vt.font=Se.headerFontFull,vt.fillStyle=Se.bgHeader,vt.fillRect(0,0,Ge.width,Ge.height),es(vt,0,0,pt.width,pt.height,Mt[De],!1,Se,!1,!1,0,dt,$e,!1)):(vt.font=Se.baseFontFull,vt.fillStyle=Se.bgCell,vt.fillRect(0,0,Ge.width,Ge.height),Zl(vt,g([De,Ee]),0,Ee,!1,!1,0,0,pt.width,pt.height,!1,Se,Se.bgCell,bt,dt,1,void 0,!1,0,void 0,void 0,void 0,ao,et,()=>{}))),Ge.style.left="-100%",Ge.style.position="absolute",Ge.style.width=`${pt.width}px`,Ge.style.height=`${pt.height}px`,document.body.append(Ge),k.dataTransfer.setDragImage(Ge,pt.width/2,pt.height/2),window.setTimeout(()=>{Ge.remove()},0)}}else k.preventDefault()},[tt,Fe,Tt,ke,qe,Se,Mt,dt,$e,g,bt,ao,et]);Ot("dragstart",gt,(V==null?void 0:V.current)??null,!1,!1);const Hn=a.useRef(),Kr=a.useCallback(k=>{const U=Te.current;if(fe!==void 0&&k.preventDefault(),U===null||He===void 0)return;const de=Tt(U,k.clientX,k.clientY),[te,_]=de.location,q=te-(Ae?0:1),[se,ce]=Hn.current??[];(se!==q||ce!==_)&&(Hn.current=[q,_],He([q,_],k.dataTransfer))},[Ae,Tt,He,fe]);Ot("dragover",Kr,(V==null?void 0:V.current)??null,!1,!1);const gr=a.useCallback(()=>{Hn.current=void 0,be==null||be()},[be]);Ot("dragend",gr,(V==null?void 0:V.current)??null,!1,!1);const Ur=a.useCallback(k=>{const U=Te.current;if(U===null||fe===void 0)return;k.preventDefault();const de=Tt(U,k.clientX,k.clientY),[te,_]=de.location,q=te-(Ae?0:1);fe([q,_],k.dataTransfer)},[Ae,Tt,fe]);Ot("drop",Ur,(V==null?void 0:V.current)??null,!1,!1);const _r=a.useCallback(()=>{Xe==null||Xe()},[Xe]);Ot("dragleave",_r,(V==null?void 0:V.current)??null,!1,!1);const Vr=a.useRef(F);Vr.current=F;const B=a.useRef(null),zt=a.useCallback(k=>{var U;Te.current===null||!Te.current.contains(document.activeElement)||(k===null&&Vr.current.current!==void 0?(U=re==null?void 0:re.current)==null||U.focus({preventScroll:!0}):k!==null&&k.focus({preventScroll:!0}),B.current=k)},[re]);a.useImperativeHandle(t,()=>({focus:()=>{var U;const k=B.current;k===null||!document.contains(k)?(U=re==null?void 0:re.current)==null||U.focus({preventScroll:!0}):k.focus({preventScroll:!0})},getBounds:(k,U)=>{if(!(re===void 0||re.current===null))return qe(re.current,k??0,U??-1)},damage:sr}),[re,sr,qe]);const Rt=a.useRef(),qr=Qs(()=>{var ce,ue,Dt;if(n<50||(Ce==null?void 0:Ce.disableAccessibilityTree)===!0)return null;let k=yi(Mt,Ze,n,Me,_e);const U=Ae?0:-1;!Ae&&((ce=k[0])==null?void 0:ce.sourceIndex)===0&&(k=k.slice(1));const[de,te]=((ue=F.current)==null?void 0:ue.cell)??[],_=(Dt=F.current)==null?void 0:Dt.range,q=k.map(me=>me.sourceIndex),se=ro(s,Math.min(w,s+r));return de!==void 0&&te!==void 0&&!(q.includes(de)&&se.includes(te))&&zt(null),a.createElement("table",{key:"access-tree",role:"grid","aria-rowcount":w+1,"aria-multiselectable":"true","aria-colcount":Mt.length+U},a.createElement("thead",{role:"rowgroup"},a.createElement("tr",{role:"row","aria-rowindex":1},k.map(me=>a.createElement("th",{role:"columnheader","aria-selected":F.columns.hasIndex(me.sourceIndex),"aria-colindex":me.sourceIndex+1+U,tabIndex:-1,onFocus:De=>{if(De.target!==B.current)return Ie==null?void 0:Ie([me.sourceIndex,-1])},key:me.sourceIndex},me.title)))),a.createElement("tbody",{role:"rowgroup"},se.map(me=>a.createElement("tr",{role:"row","aria-selected":F.rows.hasIndex(me),key:me,"aria-rowindex":me+2},k.map(De=>{const Ee=De.sourceIndex,Ge=wn(Ee,me),pt=de===Ee&&te===me,Wt=_!==void 0&&Ee>=_.x&&Ee<_.x+_.width&&me>=_.y&&me<_.y+_.height,vt=`glide-cell-${Ee}-${me}`,nn=[Ee,me],Ke=g(nn,!0);return a.createElement("td",{key:Ge,role:"gridcell","aria-colindex":Ee+1+U,"aria-selected":Wt,"aria-readonly":Do(Ke)||!Zo(Ke),id:vt,"data-testid":vt,onClick:()=>{const _t=re==null?void 0:re.current;if(_t!=null)return J==null?void 0:J({bounds:qe(_t,Ee,me),cancel:()=>{},preventDefault:()=>{},stopPropagation:()=>{},ctrlKey:!1,key:"Enter",keyCode:13,metaKey:!1,shiftKey:!1,altKey:!1,rawEvent:void 0,location:nn})},onFocusCapture:_t=>{var ot,it;if(!(_t.target===B.current||((ot=Rt.current)==null?void 0:ot[0])===Ee&&((it=Rt.current)==null?void 0:it[1])===me))return Rt.current=nn,Ie==null?void 0:Ie(nn)},ref:pt?zt:void 0,tabIndex:-1},Fc(Ke,et))})))))},[n,Mt,Ze,Me,_e,w,s,r,F,zt,g,re,J,qe,Ie],200),bo=H===0||!O?0:Ze>H?1:sn(-_e/100,0,1),po=-s*32+ct,Pt=P?sn(-po/100,0,1):0,Xn=a.useMemo(()=>{if(!bo&&!Pt)return null;const k={position:"absolute",top:0,left:so,width:n-so,height:o,opacity:bo,pointerEvents:"none",transition:Oe?void 0:"opacity 0.2s",boxShadow:"inset 13px 0 10px -13px rgba(0, 0, 0, 0.2)"},U={position:"absolute",top:Nt,left:0,width:n,height:o,opacity:Pt,pointerEvents:"none",transition:ae?void 0:"opacity 0.2s",boxShadow:"inset 0 13px 10px -13px rgba(0, 0, 0, 0.2)"};return a.createElement(a.Fragment,null,bo>0&&a.createElement("div",{id:"shadow-x",style:k}),Pt>0&&a.createElement("div",{id:"shadow-y",style:U}))},[bo,Pt,so,n,Oe,Nt,o,ae]),jr=a.useMemo(()=>({position:"absolute",top:0,left:0}),[]);return a.createElement(a.Fragment,null,a.createElement("canvas",{"data-testid":"data-grid-canvas",tabIndex:0,onKeyDown:Nn,onKeyUp:tn,onFocus:z,onBlur:X,ref:D,style:mo},qr),a.createElement("canvas",{ref:ht,style:jr}),Xn)},Tc=a.memo(a.forwardRef(Hc));function jo(e,t,n,o){return sn(Math.round(t-(e.growOffset??0)),Math.ceil(n),Math.floor(o))}const Ac=e=>{const[t,n]=a.useState(),[o,r]=a.useState(),[i,l]=a.useState(),[s,c]=a.useState(),[u,f]=a.useState(!1),[m,w]=a.useState(),[g,h]=a.useState(),[y,b]=a.useState(),[x,C]=a.useState(!1),[z,X]=a.useState(),{onHeaderMenuClick:Y,onHeaderIndicatorClick:F,getCellContent:H,onColumnMoved:K,onColumnResize:S,onColumnResizeStart:O,onColumnResizeEnd:P,gridRef:A,maxColumnWidth:R,minColumnWidth:M,onRowMoved:ie,lockColumns:ne,onColumnProposeMove:oe,onMouseDown:Me,onMouseUp:Ae,onItemHovered:J,onDragStart:G,canvasRef:ye}=e,re=(S??P??O)!==void 0,{columns:ke,selection:be}=e,V=be.columns,Fe=a.useCallback(j=>{const[$e,Ie]=j.location;i!==void 0&&s!==$e&&$e>=ne?(f(!0),c($e)):g!==void 0&&Ie!==void 0?(C(!0),b(Math.max(0,Ie))):o===void 0&&!u&&!x&&(J==null||J(j))},[i,g,s,J,ne,o,u,x]),Re=K!==void 0,Qe=a.useCallback(j=>{var $e;if(j.button===0){const[Ie,He]=j.location;if(j.kind==="out-of-bounds"&&j.isEdge&&re){const fe=($e=A==null?void 0:A.current)==null?void 0:$e.getBounds(ke.length-1,-1);fe!==void 0&&(n(fe.x),r(ke.length-1))}else if(j.kind==="header"&&Ie>=ne){const fe=ye==null?void 0:ye.current;if(j.isEdge&&re&&fe){n(j.bounds.x),r(Ie);const We=fe.getBoundingClientRect().width/fe.offsetWidth,Oe=j.bounds.width/We;O==null||O(ke[Ie],Oe,Ie,Oe+(ke[Ie].growOffset??0))}else j.kind==="header"&&Re&&(w(j.bounds.x),l(Ie))}else j.kind==="cell"&&ne>0&&Ie===0&&He!==void 0&&ie!==void 0&&(X(j.bounds.y),h(He))}Me==null||Me(j)},[Me,re,ne,ie,A,ke,Re,O,ye]),tt=a.useCallback((j,$e)=>{u||x||Y==null||Y(j,$e)},[u,x,Y]),mt=a.useCallback((j,$e)=>{u||x||F==null||F(j,$e)},[u,x,F]),nt=a.useRef(-1),ze=a.useCallback(()=>{nt.current=-1,h(void 0),b(void 0),X(void 0),C(!1),l(void 0),c(void 0),w(void 0),f(!1),r(void 0),n(void 0)},[]),Ve=a.useCallback((j,$e)=>{if(j.button===0){if(o!==void 0){if((V==null?void 0:V.hasIndex(o))===!0)for(const He of V){if(He===o)continue;const fe=ke[He],Xe=jo(fe,nt.current,M,R);S==null||S(fe,Xe,He,Xe+(fe.growOffset??0))}const Ie=jo(ke[o],nt.current,M,R);if(P==null||P(ke[o],Ie,o,Ie+(ke[o].growOffset??0)),V.hasIndex(o))for(const He of V){if(He===o)continue;const fe=ke[He],Xe=jo(fe,nt.current,M,R);P==null||P(fe,Xe,He,Xe+(fe.growOffset??0))}}ze(),i!==void 0&&s!==void 0&&(K==null||K(i,s)),g!==void 0&&y!==void 0&&(ie==null||ie(g,y))}Ae==null||Ae(j,$e)},[Ae,o,i,s,g,y,V,P,ke,M,R,S,K,ie,ze]),Se=a.useMemo(()=>{if(!(i===void 0||s===void 0)&&i!==s&&(oe==null?void 0:oe(i,s))!==!1)return{src:i,dest:s}},[i,s,oe]),wt=a.useCallback(j=>{const $e=ye==null?void 0:ye.current;if(i!==void 0&&m!==void 0)Math.abs(j.clientX-m)>20&&f(!0);else if(g!==void 0&&z!==void 0)Math.abs(j.clientY-z)>20&&C(!0);else if(o!==void 0&&t!==void 0&&$e){const He=$e.getBoundingClientRect().width/$e.offsetWidth,fe=(j.clientX-t)/He,Xe=ke[o],We=jo(Xe,fe,M,R);if(S==null||S(Xe,We,o,We+(Xe.growOffset??0)),nt.current=fe,(V==null?void 0:V.first())===o)for(const Oe of V){if(Oe===o)continue;const ae=ke[Oe],Ce=jo(ae,nt.current,M,R);S==null||S(ae,Ce,Oe,Ce+(ae.growOffset??0))}}},[i,m,g,z,o,t,ke,M,R,S,V,ye]),at=a.useCallback((j,$e)=>{if(g===void 0||y===void 0)return H(j,$e);let[Ie,He]=j;return He===y?He=g:(He>y&&(He-=1),He>=g&&(He+=1)),H([Ie,He],$e)},[g,y,H]),je=a.useCallback(j=>{G==null||G(j),j.defaultPrevented()||ze()},[ze,G]);return a.createElement(Tc,{accessibilityHeight:e.accessibilityHeight,canvasRef:e.canvasRef,cellXOffset:e.cellXOffset,cellYOffset:e.cellYOffset,columns:e.columns,disabledRows:e.disabledRows,drawFocusRing:e.drawFocusRing,drawHeader:e.drawHeader,drawCell:e.drawCell,enableGroups:e.enableGroups,eventTargetRef:e.eventTargetRef,experimental:e.experimental,fillHandle:e.fillHandle,firstColAccessible:e.firstColAccessible,fixedShadowX:e.fixedShadowX,fixedShadowY:e.fixedShadowY,freezeColumns:e.freezeColumns,getCellRenderer:e.getCellRenderer,getGroupDetails:e.getGroupDetails,getRowThemeOverride:e.getRowThemeOverride,groupHeaderHeight:e.groupHeaderHeight,headerHeight:e.headerHeight,headerIcons:e.headerIcons,height:e.height,highlightRegions:e.highlightRegions,imageWindowLoader:e.imageWindowLoader,resizeColumn:o,isDraggable:e.isDraggable,isFilling:e.isFilling,isFocused:e.isFocused,onCanvasBlur:e.onCanvasBlur,onCanvasFocused:e.onCanvasFocused,onCellFocused:e.onCellFocused,onContextMenu:e.onContextMenu,onDragEnd:e.onDragEnd,onDragLeave:e.onDragLeave,onDragOverCell:e.onDragOverCell,onDrop:e.onDrop,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,onMouseMove:e.onMouseMove,prelightCells:e.prelightCells,rowHeight:e.rowHeight,rows:e.rows,selection:e.selection,smoothScrollX:e.smoothScrollX,smoothScrollY:e.smoothScrollY,theme:e.theme,freezeTrailingRows:e.freezeTrailingRows,hasAppendRow:e.hasAppendRow,translateX:e.translateX,translateY:e.translateY,resizeIndicator:e.resizeIndicator,verticalBorder:e.verticalBorder,width:e.width,getCellContent:at,isResizing:o!==void 0,onHeaderMenuClick:tt,onHeaderIndicatorClick:mt,isDragging:u,onItemHovered:Fe,onDragStart:je,onMouseDown:Qe,allowResize:re,onMouseUp:Ve,dragAndDropState:Se,onMouseMoveRaw:wt,ref:A})},zc=Ac;function Bc(e){const t=a.useRef(null),[n,o]=a.useState({width:e==null?void 0:e[0],height:e==null?void 0:e[1]});return a.useLayoutEffect(()=>{const r=l=>{for(const s of l){const{width:c,height:u}=s&&s.contentRect||{};o(f=>f.width===c&&f.height===u?f:{width:c,height:u})}},i=new window.ResizeObserver(r);return t.current&&i.observe(t.current,void 0),()=>{i.disconnect()}},[t.current]),{ref:t,...n}}const Lc=(e,t,n)=>{const o=a.useRef(null),r=a.useRef(null),i=a.useRef(null),l=a.useRef(0),s=a.useRef(t);s.current=t;const c=n.current;a.useEffect(()=>{const u=()=>{var w,g;if(r.current===!1&&c!==null){const h=[c.scrollLeft,c.scrollTop];if(((w=i.current)==null?void 0:w[0])===h[0]&&((g=i.current)==null?void 0:g[1])===h[1])if(l.current>10){i.current=null,r.current=null;return}else l.current++;else l.current=0,s.current(h[0],h[1]),i.current=h;o.current=window.setTimeout(u,8.333333333333334)}},f=()=>{r.current=!0,i.current=null,o.current!==null&&(window.clearTimeout(o.current),o.current=null)},m=w=>{w.touches.length===0&&(r.current=!1,l.current=0,o.current=window.setTimeout(u,8.333333333333334))};if(e&&c!==null){const w=c;return w.addEventListener("touchstart",f),w.addEventListener("touchend",m),()=>{w.removeEventListener("touchstart",f),w.removeEventListener("touchend",m),o.current!==null&&window.clearTimeout(o.current)}}},[e,c])},Pc=Lc,Wc=()=>e=>e.isSafari?"scroll":"auto",Oc=Qt("div")({name:"ScrollRegionStyle",class:"gdg-s1dgczr6",propsAsIs:!1,vars:{"s1dgczr6-0":[Wc()]}});function $c(e){const[t,n]=a.useState(!1),o=typeof window>"u"?null:window,r=a.useRef(0);return Ot("touchstart",a.useCallback(()=>{window.clearTimeout(r.current),n(!0)},[]),o,!0,!1),Ot("touchend",a.useCallback(i=>{i.touches.length===0&&(r.current=window.setTimeout(()=>n(!1),e))},[e]),o,!0,!1),t}const Nc=e=>{var re,ke;const{children:t,clientHeight:n,scrollHeight:o,scrollWidth:r,update:i,draggable:l,className:s,preventDiagonalScrolling:c=!1,paddingBottom:u=0,paddingRight:f=0,rightElement:m,rightElementProps:w,kineticScrollPerfHack:g=!1,scrollRef:h,initialSize:y}=e,b=[],x=(w==null?void 0:w.sticky)??!1,C=(w==null?void 0:w.fill)??!1,z=a.useRef(0),X=a.useRef(0),Y=a.useRef(null),F=typeof window>"u"?1:window.devicePixelRatio,H=a.useRef({scrollLeft:0,scrollTop:0,lockDirection:void 0}),K=a.useRef(null),S=$c(200),[O,P]=a.useState(!0),A=a.useRef(0);a.useLayoutEffect(()=>{if(!O||S||H.current.lockDirection===void 0)return;const be=Y.current;if(be===null)return;const[V,Fe]=H.current.lockDirection;V!==void 0?be.scrollLeft=V:Fe!==void 0&&(be.scrollTop=Fe),H.current.lockDirection=void 0},[S,O]);const R=a.useCallback((be,V)=>{var je;const Fe=Y.current;if(Fe===null)return;V=V??Fe.scrollTop,be=be??Fe.scrollLeft;const Re=H.current.scrollTop,Qe=H.current.scrollLeft,tt=be-Qe,mt=V-Re;S&&tt!==0&&mt!==0&&(Math.abs(tt)>3||Math.abs(mt)>3)&&c&&H.current.lockDirection===void 0&&(H.current.lockDirection=Math.abs(tt)<Math.abs(mt)?[Qe,void 0]:[void 0,Re]);const nt=H.current.lockDirection;be=(nt==null?void 0:nt[0])??be,V=(nt==null?void 0:nt[1])??V,H.current.scrollLeft=be,H.current.scrollTop=V;const ze=Fe.clientWidth,Ve=Fe.clientHeight,Se=V,wt=X.current-Se,at=Fe.scrollHeight-Ve;if(X.current=Se,at>0&&(Math.abs(wt)>2e3||Se===0||Se===at)&&o>Fe.scrollHeight+5){const j=Se/at,$e=(o-Ve)*j;z.current=$e-Se}nt!==void 0&&(window.clearTimeout(A.current),P(!1),A.current=window.setTimeout(()=>P(!0),200)),i({x:be,y:Se+z.current,width:ze-f,height:Ve-u,paddingRight:((je=K.current)==null?void 0:je.clientWidth)??0})},[u,f,o,i,c,S]);Pc(g&&Lr.value,R,Y);const M=a.useRef(R);M.current=R;const ie=a.useRef(),ne=a.useRef(!1);a.useLayoutEffect(()=>{ne.current?R():ne.current=!0},[R,u,f]);const oe=a.useCallback(be=>{Y.current=be,h!==void 0&&(h.current=be)},[h]);let Me=0,Ae=0;for(b.push(a.createElement("div",{key:Me++,style:{width:r,height:0}}));Ae<o;){const be=Math.min(5e6,o-Ae);b.push(a.createElement("div",{key:Me++,style:{width:0,height:be}})),Ae+=be}const{ref:J,width:G,height:ye}=Bc(y);return typeof window<"u"&&(((re=ie.current)==null?void 0:re.height)!==ye||((ke=ie.current)==null?void 0:ke.width)!==G)&&(window.setTimeout(()=>M.current(),0),ie.current={width:G,height:ye}),(G??0)===0||(ye??0)===0?a.createElement("div",{ref:J}):a.createElement("div",{ref:J},a.createElement(Oc,{isSafari:Lr.value},a.createElement("div",{className:"dvn-underlay"},t),a.createElement("div",{ref:oe,style:ie.current,draggable:l,onDragStart:be=>{l||(be.stopPropagation(),be.preventDefault())},className:"dvn-scroller "+(s??""),onScroll:()=>R()},a.createElement("div",{className:"dvn-scroll-inner"+(m===void 0?" dvn-hidden":"")},a.createElement("div",{className:"dvn-stack"},b),m!==void 0&&a.createElement(a.Fragment,null,!C&&a.createElement("div",{className:"dvn-spacer"}),a.createElement("div",{ref:K,style:{height:ye,maxHeight:n-Math.ceil(F%1),position:"sticky",top:0,paddingLeft:1,marginBottom:-40,marginRight:f,flexGrow:C?1:void 0,right:x?f??0:void 0,pointerEvents:"auto"}},m))))))},Xc=e=>{const{columns:t,rows:n,rowHeight:o,headerHeight:r,groupHeaderHeight:i,enableGroups:l,freezeColumns:s,experimental:c,nonGrowWidth:u,clientSize:f,className:m,onVisibleRegionChanged:w,scrollRef:g,preventDiagonalScrolling:h,rightElement:y,rightElementProps:b,overscrollX:x,overscrollY:C,initialSize:z,smoothScrollX:X=!1,smoothScrollY:Y=!1,isDraggable:F}=e,{paddingRight:H,paddingBottom:K}=c??{},[S,O]=f,P=a.useRef(),A=a.useRef(),R=a.useRef(),M=a.useRef(),ie=u+Math.max(0,x??0);let ne=l?r+i:r;if(typeof o=="number")ne+=n*o;else for(let J=0;J<n;J++)ne+=o(J);C!==void 0&&(ne+=C);const oe=a.useRef(),Me=a.useCallback(()=>{var mt,nt;if(oe.current===void 0)return;const J={...oe.current};let G=0,ye=J.x<0?-J.x:0,re=0,ke=0;J.x=J.x<0?0:J.x;let be=0;for(let ze=0;ze<s;ze++)be+=t[ze].width;for(const ze of t){const Ve=G-be;if(J.x>=Ve+ze.width)G+=ze.width,ke++,re++;else if(J.x>Ve)G+=ze.width,X?ye+=Ve-J.x:ke++,re++;else if(J.x+J.width>Ve)G+=ze.width,re++;else break}let V=0,Fe=0,Re=0;if(typeof o=="number")Y?(Fe=Math.floor(J.y/o),V=Fe*o-J.y):Fe=Math.ceil(J.y/o),Re=Math.ceil(J.height/o)+Fe,V<0&&Re++;else{let ze=0;for(let Ve=0;Ve<n;Ve++){const Se=o(Ve),wt=ze+(Y?0:Se/2);if(J.y>=ze+Se)ze+=Se,Fe++,Re++;else if(J.y>wt)ze+=Se,Y?V+=wt-J.y:Fe++,Re++;else if(J.y+J.height>Se/2+ze)ze+=Se,Re++;else break}}const Qe={x:ke,y:Fe,width:re-ke,height:Re-Fe},tt=P.current;(tt===void 0||tt.y!==Qe.y||tt.x!==Qe.x||tt.height!==Qe.height||tt.width!==Qe.width||A.current!==ye||R.current!==V||J.width!==((mt=M.current)==null?void 0:mt[0])||J.height!==((nt=M.current)==null?void 0:nt[1]))&&(w==null||w({x:ke,y:Fe,width:re-ke,height:Re-Fe},J.width,J.height,J.paddingRight??0,ye,V),P.current=Qe,A.current=ye,R.current=V,M.current=[J.width,J.height])},[t,o,n,w,s,X,Y]),Ae=a.useCallback(J=>{oe.current=J,Me()},[Me]);return a.useEffect(()=>{Me()},[Me]),a.createElement(Nc,{scrollRef:g,className:m,kineticScrollPerfHack:c==null?void 0:c.kineticScrollPerfHack,preventDiagonalScrolling:h,draggable:F===!0||typeof F=="string",scrollWidth:ie+(H??0),scrollHeight:ne+(K??0),clientHeight:O,rightElement:y,paddingBottom:K,paddingRight:H,rightElementProps:b,update:Ae,initialSize:z},a.createElement(zc,{eventTargetRef:g,width:S,height:O,accessibilityHeight:e.accessibilityHeight,canvasRef:e.canvasRef,cellXOffset:e.cellXOffset,cellYOffset:e.cellYOffset,columns:e.columns,disabledRows:e.disabledRows,enableGroups:e.enableGroups,fillHandle:e.fillHandle,firstColAccessible:e.firstColAccessible,fixedShadowX:e.fixedShadowX,fixedShadowY:e.fixedShadowY,freezeColumns:e.freezeColumns,getCellContent:e.getCellContent,getCellRenderer:e.getCellRenderer,getGroupDetails:e.getGroupDetails,getRowThemeOverride:e.getRowThemeOverride,groupHeaderHeight:e.groupHeaderHeight,headerHeight:e.headerHeight,highlightRegions:e.highlightRegions,imageWindowLoader:e.imageWindowLoader,isFilling:e.isFilling,isFocused:e.isFocused,lockColumns:e.lockColumns,maxColumnWidth:e.maxColumnWidth,minColumnWidth:e.minColumnWidth,onHeaderMenuClick:e.onHeaderMenuClick,onHeaderIndicatorClick:e.onHeaderIndicatorClick,onMouseMove:e.onMouseMove,prelightCells:e.prelightCells,rowHeight:e.rowHeight,rows:e.rows,selection:e.selection,theme:e.theme,freezeTrailingRows:e.freezeTrailingRows,hasAppendRow:e.hasAppendRow,translateX:e.translateX,translateY:e.translateY,onColumnProposeMove:e.onColumnProposeMove,verticalBorder:e.verticalBorder,drawFocusRing:e.drawFocusRing,drawHeader:e.drawHeader,drawCell:e.drawCell,experimental:e.experimental,gridRef:e.gridRef,headerIcons:e.headerIcons,isDraggable:e.isDraggable,onCanvasBlur:e.onCanvasBlur,onCanvasFocused:e.onCanvasFocused,onCellFocused:e.onCellFocused,onColumnMoved:e.onColumnMoved,onColumnResize:e.onColumnResize,onColumnResizeEnd:e.onColumnResizeEnd,onColumnResizeStart:e.onColumnResizeStart,onContextMenu:e.onContextMenu,onDragEnd:e.onDragEnd,onDragLeave:e.onDragLeave,onDragOverCell:e.onDragOverCell,onDragStart:e.onDragStart,onDrop:e.onDrop,onItemHovered:e.onItemHovered,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onRowMoved:e.onRowMoved,smoothScrollX:e.smoothScrollX,smoothScrollY:e.smoothScrollY,resizeIndicator:e.resizeIndicator}))},Yc=Xc,Gc=Qt("div")({name:"SearchWrapper",class:"gdg-seveqep",propsAsIs:!1}),Kc=a.createElement("svg",{className:"button-icon",viewBox:"0 0 512 512"},a.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M112 244l144-144 144 144M256 120v292"})),Uc=a.createElement("svg",{className:"button-icon",viewBox:"0 0 512 512"},a.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M112 268l144 144 144-144M256 392V100"})),_c=a.createElement("svg",{className:"button-icon",viewBox:"0 0 512 512"},a.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M368 368L144 144M368 144L144 368"})),Vc=10,qc=e=>{const{canvasRef:t,cellYOffset:n,rows:o,columns:r,searchInputRef:i,searchValue:l,searchResults:s,onSearchValueChange:c,getCellsForSelection:u,onSearchResultsChanged:f,showSearch:m=!1,onSearchClose:w}=e,[g]=a.useState(()=>"search-box-"+Math.round(Math.random()*1e3)),[h,y]=a.useState(""),b=l??h,x=a.useCallback(G=>{y(G),c==null||c(G)},[c]),[C,z]=a.useState(),X=a.useRef(C);X.current=C,a.useEffect(()=>{s!==void 0&&(s.length>0?z(G=>({rowsSearched:o,results:s.length,selectedIndex:(G==null?void 0:G.selectedIndex)??-1})):z(void 0))},[o,s]);const Y=a.useRef();Y.current===void 0&&(Y.current=new AbortController);const F=a.useRef(),[H,K]=a.useState([]),S=s??H,O=a.useCallback(()=>{F.current!==void 0&&(window.cancelAnimationFrame(F.current),F.current=void 0,Y.current.abort())},[]),P=a.useRef(n);P.current=n;const A=a.useCallback(G=>{const ye=new RegExp(G.replace(/([$()*+.?[\\\]^{|}-])/g,"\\$1"),"i");let re=P.current,ke=Math.min(10,o),be=0;z(void 0),K([]);const V=[],Fe=async()=>{var at;if(u===void 0)return;const Re=performance.now(),Qe=o-be;let tt=u({x:0,y:re,width:r.length,height:Math.min(ke,Qe,o-re)},Y.current.signal);typeof tt=="function"&&(tt=await tt());let mt=!1;for(const[je,j]of tt.entries())for(const[$e,Ie]of j.entries()){let He;switch(Ie.kind){case Z.Text:case Z.Number:He=Ie.displayData;break;case Z.Uri:case Z.Markdown:He=Ie.data;break;case Z.Boolean:He=typeof Ie.data=="boolean"?Ie.data.toString():void 0;break;case Z.Image:case Z.Bubble:He=Ie.data.join("🐳");break;case Z.Custom:He=Ie.copyData;break}He!==void 0&&ye.test(He)&&(V.push([$e,je+re]),mt=!0)}const nt=performance.now();mt&&K([...V]),be+=tt.length,Zt(be<=o);const ze=((at=X.current)==null?void 0:at.selectedIndex)??-1;z({results:V.length,rowsSearched:be,selectedIndex:ze}),f==null||f(V,ze),re+ke>=o?re=0:re+=ke;const Ve=nt-Re,Se=Math.max(Ve,1),wt=Vc/Se;ke=Math.ceil(ke*wt),be<o&&V.length<1e3&&(F.current=window.requestAnimationFrame(Fe))};O(),F.current=window.requestAnimationFrame(Fe)},[O,r.length,u,f,o]),R=a.useCallback(()=>{var G;w==null||w(),z(void 0),K([]),f==null||f([],-1),O(),(G=t==null?void 0:t.current)==null||G.focus()},[O,t,w,f]),M=a.useCallback(G=>{x(G.target.value),s===void 0&&(G.target.value===""?(z(void 0),K([]),O()):A(G.target.value))},[A,O,x,s]);a.useEffect(()=>{m&&i.current!==null&&(x(""),i.current.focus({preventScroll:!0}))},[m,i,x]);const ie=a.useCallback(G=>{var re;if((re=G==null?void 0:G.stopPropagation)==null||re.call(G),C===void 0)return;const ye=(C.selectedIndex+1)%C.results;z({...C,selectedIndex:ye}),f==null||f(S,ye)},[C,f,S]),ne=a.useCallback(G=>{var re;if((re=G==null?void 0:G.stopPropagation)==null||re.call(G),C===void 0)return;let ye=(C.selectedIndex-1)%C.results;ye<0&&(ye+=C.results),z({...C,selectedIndex:ye}),f==null||f(S,ye)},[f,S,C]),oe=a.useCallback(G=>{(G.ctrlKey||G.metaKey)&&G.nativeEvent.code==="KeyF"||G.key==="Escape"?(R(),G.stopPropagation(),G.preventDefault()):G.key==="Enter"&&(G.shiftKey?ne():ie())},[R,ie,ne]);a.useEffect(()=>()=>{O()},[O]);const[Me,Ae]=a.useState(!1);a.useEffect(()=>{if(m)Ae(!0);else{const G=setTimeout(()=>Ae(!1),150);return()=>clearTimeout(G)}},[m]);const J=a.useMemo(()=>{if(!m&&!Me)return null;let G;C!==void 0&&(G=C.results>=1e3?"over 1000":`${C.results} result${C.results!==1?"s":""}`,C.selectedIndex>=0&&(G=`${C.selectedIndex+1} of ${G}`));const ye=be=>{be.stopPropagation()},ke={width:`${Math.floor(((C==null?void 0:C.rowsSearched)??0)/o*100)}%`};return a.createElement(Gc,{className:m?"":"out",onMouseDown:ye,onMouseMove:ye,onMouseUp:ye,onClick:ye},a.createElement("div",{className:"gdg-search-bar-inner"},a.createElement("input",{id:g,"aria-hidden":!m,"data-testid":"search-input",ref:i,onChange:M,value:b,tabIndex:m?void 0:-1,onKeyDownCapture:oe}),a.createElement("button",{"aria-label":"Previous Result","aria-hidden":!m,tabIndex:m?void 0:-1,onClick:ne,disabled:((C==null?void 0:C.results)??0)===0},Kc),a.createElement("button",{"aria-label":"Next Result","aria-hidden":!m,tabIndex:m?void 0:-1,onClick:ie,disabled:((C==null?void 0:C.results)??0)===0},Uc),w!==void 0&&a.createElement("button",{"aria-label":"Close Search","aria-hidden":!m,"data-testid":"search-close-button",tabIndex:m?void 0:-1,onClick:R},_c)),C!==void 0?a.createElement(a.Fragment,null,a.createElement("div",{className:"gdg-search-status"},a.createElement("div",{"data-testid":"search-result-area"},G)),a.createElement("div",{className:"gdg-search-progress",style:ke})):a.createElement("div",{className:"gdg-search-status"},a.createElement("label",{htmlFor:g},"Type to search")))},[m,Me,C,o,g,i,M,b,oe,ne,ie,w,R]);return a.createElement(a.Fragment,null,a.createElement(Yc,{prelightCells:S,accessibilityHeight:e.accessibilityHeight,canvasRef:e.canvasRef,cellXOffset:e.cellXOffset,cellYOffset:e.cellYOffset,className:e.className,clientSize:e.clientSize,columns:e.columns,disabledRows:e.disabledRows,enableGroups:e.enableGroups,fillHandle:e.fillHandle,firstColAccessible:e.firstColAccessible,nonGrowWidth:e.nonGrowWidth,fixedShadowX:e.fixedShadowX,fixedShadowY:e.fixedShadowY,freezeColumns:e.freezeColumns,getCellContent:e.getCellContent,getCellRenderer:e.getCellRenderer,getGroupDetails:e.getGroupDetails,getRowThemeOverride:e.getRowThemeOverride,groupHeaderHeight:e.groupHeaderHeight,headerHeight:e.headerHeight,highlightRegions:e.highlightRegions,imageWindowLoader:e.imageWindowLoader,initialSize:e.initialSize,isFilling:e.isFilling,isFocused:e.isFocused,lockColumns:e.lockColumns,maxColumnWidth:e.maxColumnWidth,minColumnWidth:e.minColumnWidth,onHeaderMenuClick:e.onHeaderMenuClick,onHeaderIndicatorClick:e.onHeaderIndicatorClick,onMouseMove:e.onMouseMove,onVisibleRegionChanged:e.onVisibleRegionChanged,overscrollX:e.overscrollX,overscrollY:e.overscrollY,preventDiagonalScrolling:e.preventDiagonalScrolling,rightElement:e.rightElement,rightElementProps:e.rightElementProps,rowHeight:e.rowHeight,rows:e.rows,scrollRef:e.scrollRef,selection:e.selection,theme:e.theme,freezeTrailingRows:e.freezeTrailingRows,hasAppendRow:e.hasAppendRow,translateX:e.translateX,translateY:e.translateY,verticalBorder:e.verticalBorder,onColumnProposeMove:e.onColumnProposeMove,drawFocusRing:e.drawFocusRing,drawCell:e.drawCell,drawHeader:e.drawHeader,experimental:e.experimental,gridRef:e.gridRef,headerIcons:e.headerIcons,isDraggable:e.isDraggable,onCanvasBlur:e.onCanvasBlur,onCanvasFocused:e.onCanvasFocused,onCellFocused:e.onCellFocused,onColumnMoved:e.onColumnMoved,onColumnResize:e.onColumnResize,onColumnResizeEnd:e.onColumnResizeEnd,onColumnResizeStart:e.onColumnResizeStart,onContextMenu:e.onContextMenu,onDragEnd:e.onDragEnd,onDragLeave:e.onDragLeave,onDragOverCell:e.onDragOverCell,onDragStart:e.onDragStart,onDrop:e.onDrop,onItemHovered:e.onItemHovered,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onRowMoved:e.onRowMoved,smoothScrollX:e.smoothScrollX,smoothScrollY:e.smoothScrollY,resizeIndicator:e.resizeIndicator}),J)},jc=qc;class Zc extends a.PureComponent{constructor(){super(...arguments);Ne(this,"wrapperRef",a.createRef());Ne(this,"clickOutside",n=>{if(!(this.props.isOutsideClick&&!this.props.isOutsideClick(n))&&this.wrapperRef.current!==null&&!this.wrapperRef.current.contains(n.target)){let o=n.target;for(;o!==null;){if(o.classList.contains("click-outside-ignore"))return;o=o.parentElement}this.props.onClickOutside()}})}componentDidMount(){document.addEventListener("touchend",this.clickOutside,!0),document.addEventListener("mousedown",this.clickOutside,!0),document.addEventListener("contextmenu",this.clickOutside,!0)}componentWillUnmount(){document.removeEventListener("touchend",this.clickOutside,!0),document.removeEventListener("mousedown",this.clickOutside,!0),document.removeEventListener("contextmenu",this.clickOutside,!0)}render(){const{onClickOutside:n,isOutsideClick:o,...r}=this.props;return a.createElement("div",{...r,ref:this.wrapperRef},this.props.children)}}const Jc=()=>e=>Math.max(16,e.targetHeight-10),Qc=Qt("input")({name:"RenameInput",class:"gdg-r17m35ur",propsAsIs:!1,vars:{"r17m35ur-0":[Jc(),"px"]}}),ed=e=>{const{bounds:t,group:n,onClose:o,canvasBounds:r,onFinish:i}=e,[l,s]=yt.useState(n);return yt.createElement(Zc,{style:{position:"absolute",left:t.x-r.left+1,top:t.y-r.top,width:t.width-2,height:t.height},className:"gdg-c1tqibwd",onClickOutside:o},yt.createElement(Qc,{targetHeight:t.height,"data-testid":"group-rename-input",value:l,onBlur:o,onFocus:c=>c.target.setSelectionRange(0,l.length),onChange:c=>s(c.target.value),onKeyDown:c=>{c.key==="Enter"?i(l):c.key==="Escape"&&o()},autoFocus:!0}))};function td(e,t){return e===void 0?!1:e.length>1&&e.startsWith("_")?Number.parseInt(e.slice(1))===t.keyCode:e.length===1&&e>="a"&&e<="z"?e.toUpperCase().codePointAt(0)===t.keyCode:e===t.key}function Le(e,t,n){const o=os(e,t);return o&&(n.didMatch=!0),o}function os(e,t){if(e.length===0)return!1;if(e.includes("|")){const c=e.split("|");for(const u of c)if(os(u,t))return!0;return!1}let n=!1,o=!1,r=!1,i=!1;const l=e.split("+"),s=l.pop();if(!td(s,t))return!1;if(l[0]==="any")return!0;for(const c of l)switch(c){case"ctrl":n=!0;break;case"shift":o=!0;break;case"alt":r=!0;break;case"meta":i=!0;break;case"primary":Pr.value?i=!0:n=!0;break}return t.altKey===r&&t.ctrlKey===n&&t.shiftKey===o&&t.metaKey===i}function nd(e,t,n,o,r,i){const l=yt.useCallback((u,f,m,w)=>{var C;(i==="cell"||i==="multi-cell")&&u!==void 0&&(u={...u,range:{x:u.cell[0],y:u.cell[1],width:1,height:1}});const g=n==="mixed"&&(m||w==="drag"),h=o==="mixed"&&g,y=r==="mixed"&&g;let b={current:u===void 0?void 0:{...u,rangeStack:w==="drag"?((C=e.current)==null?void 0:C.rangeStack)??[]:[]},columns:h?e.columns:rt.empty(),rows:y?e.rows:rt.empty()};m&&(i==="multi-rect"||i==="multi-cell")&&b.current!==void 0&&e.current!==void 0&&(b={...b,current:{...b.current,rangeStack:[...e.current.rangeStack,e.current.range]}}),t(b,f)},[o,e,n,i,r,t]),s=yt.useCallback((u,f,m)=>{u=u??e.rows,f!==void 0&&(u=u.add(f));let w;if(r==="exclusive"&&u.length>0)w={current:void 0,columns:rt.empty(),rows:u};else{const g=m&&n==="mixed",h=m&&o==="mixed";w={current:g?e.current:void 0,columns:h?e.columns:rt.empty(),rows:u}}t(w,!1)},[o,e,n,r,t]),c=yt.useCallback((u,f,m)=>{u=u??e.columns,f!==void 0&&(u=u.add(f));let w;if(o==="exclusive"&&u.length>0)w={current:void 0,rows:rt.empty(),columns:u};else{const g=m&&n==="mixed",h=m&&r==="mixed";w={current:g?e.current:void 0,rows:h?e.rows:rt.empty(),columns:u}}t(w,!1)},[o,e,n,r,t]);return[l,s,c]}function od(e,t,n,o,r){const i=a.useCallback(u=>{if(e===!0){const f=[];for(let m=u.y;m<u.y+u.height;m++){const w=[];for(let g=u.x;g<u.x+u.width;g++)g<0||m>=r?w.push({kind:Z.Loading,allowOverlay:!1}):w.push(t([g,m]));f.push(w)}return f}return(e==null?void 0:e(u,o.signal))??[]},[o.signal,t,e,r]),l=e!==void 0?i:void 0,s=a.useCallback(u=>{if(l===void 0)return[];const f={...u,x:u.x-n};if(f.x<0){f.x=0,f.width--;const m=l(f,o.signal);return typeof m=="function"?async()=>(await m()).map(w=>[{kind:Z.Loading,allowOverlay:!1},...w]):m.map(w=>[{kind:Z.Loading,allowOverlay:!1},...w])}return l(f,o.signal)},[o.signal,l,n]);return[e!==void 0?s:void 0,l]}function rd(e){if(e.copyData!==void 0)return{formatted:e.copyData,rawValue:e.copyData,format:"string"};switch(e.kind){case Z.Boolean:return{formatted:e.data===!0?"TRUE":e.data===!1?"FALSE":e.data===Ci?"INDETERMINATE":"",rawValue:e.data,format:"boolean"};case Z.Custom:return{formatted:e.copyData,rawValue:e.copyData,format:"string"};case Z.Image:case Z.Bubble:return{formatted:e.data,rawValue:e.data,format:"string-array"};case Z.Drilldown:return{formatted:e.data.map(t=>t.text),rawValue:e.data.map(t=>t.text),format:"string-array"};case Z.Text:return{formatted:e.displayData??e.data,rawValue:e.data,format:"string"};case Z.Uri:return{formatted:e.displayData??e.data,rawValue:e.data,format:"url"};case Z.Markdown:case Z.RowID:return{formatted:e.data,rawValue:e.data,format:"string"};case Z.Number:return{formatted:e.displayData,rawValue:e.data,format:"number"};case Z.Loading:return{formatted:"#LOADING",rawValue:"",format:"string"};case Z.Protected:return{formatted:"************",rawValue:"",format:"string"};default:tr()}}function id(e,t){return e.map((o,r)=>{const i=t[r];return o.map(l=>l.span!==void 0&&l.span[0]!==i?{formatted:"",rawValue:"",format:"string"}:rd(l))})}function ml(e,t){return(t?/[\t\n",]/:/[\t\n"]/).test(e)&&(e=`"${e.replace(/"/g,'""')}"`),e}function ld(e){var n;const t=[];for(const o of e){const r=[];for(const i of o)i.format==="url"?r.push(((n=i.rawValue)==null?void 0:n.toString())??""):i.format==="string-array"?r.push(i.formatted.map(l=>ml(l,!0)).join(",")):r.push(ml(i.formatted,!1));t.push(r.join("	"))}return t.join(`
`)}function ui(e){return e.replace(/\t/g,"    ").replace(/ {2,}/g,t=>"<span> </span>".repeat(t.length))}function wl(e){return'"'+e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")+'"'}function sd(e){return e.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}function ad(e){var n;const t=[];t.push('<style type="text/css"><!--br {mso-data-placement:same-cell;}--></style>',"<table><tbody>");for(const o of e){t.push("<tr>");for(const r of o){const i=`gdg-format="${r.format}"`;r.format==="url"?t.push(`<td ${i}><a href="${r.rawValue}">${ui(r.formatted)}</a></td>`):r.format==="string-array"?t.push(`<td ${i}><ol>${r.formatted.map((l,s)=>`<li gdg-raw-value=${wl(r.rawValue[s])}>`+ui(l)+"</li>").join("")}</ol></td>`):t.push(`<td gdg-raw-value=${wl(((n=r.rawValue)==null?void 0:n.toString())??"")} ${i}>${ui(r.formatted)}</td>`)}t.push("</tr>")}return t.push("</tbody></table>"),t.join("")}function cd(e,t){const n=id(e,t),o=ld(n),r=ad(n);return{textPlain:o,textHtml:r}}function yl(e){var l;const t=document.createElement("html");t.innerHTML=e.replace(/&nbsp;/g," ");const n=t.querySelector("table");if(n===null)return;const o=[n],r=[];let i;for(;o.length>0;){const s=o.pop();if(s===void 0)break;if(s instanceof HTMLTableElement||s.nodeName==="TBODY")o.push(...[...s.children].reverse());else if(s instanceof HTMLTableRowElement)i!==void 0&&r.push(i),i=[],o.push(...[...s.children].reverse());else if(s instanceof HTMLTableCellElement){const c=s.cloneNode(!0),f=c.children.length===1&&c.children[0].nodeName==="P"?c.children[0]:null,m=(f==null?void 0:f.children.length)===1&&f.children[0].nodeName==="FONT",w=c.querySelectorAll("br");for(const y of w)y.replaceWith(`
`);const g=c.getAttribute("gdg-raw-value"),h=c.getAttribute("gdg-format")??"string";if(c.querySelector("a")!==null)i==null||i.push({rawValue:((l=c.querySelector("a"))==null?void 0:l.getAttribute("href"))??"",formatted:c.textContent??"",format:h});else if(c.querySelector("ol")!==null){const y=c.querySelectorAll("li");i==null||i.push({rawValue:[...y].map(b=>b.getAttribute("gdg-raw-value")??""),formatted:[...y].map(b=>b.textContent??""),format:"string-array"})}else if(g!==null)i==null||i.push({rawValue:sd(g),formatted:c.textContent??"",format:h});else{let y=c.textContent??"";m&&(y=y.replace(/\n(?!\n)/g,"")),i==null||i.push({rawValue:y??"",formatted:y??"",format:h})}}}return i!==void 0&&r.push(i),r}function dd(e,t,n,o,r){var s;const i=e;if(o==="allowPartial"||e.current===void 0||t===void 0)return e;let l=!1;do{if((e==null?void 0:e.current)===void 0)break;const c=(s=e.current)==null?void 0:s.range,u=[];if(c.width>2){const w=t({x:c.x,y:c.y,width:1,height:c.height},r.signal);if(typeof w=="function")return i;u.push(...w);const g=t({x:c.x+c.width-1,y:c.y,width:1,height:c.height},r.signal);if(typeof g=="function")return i;u.push(...g)}else{const w=t({x:c.x,y:c.y,width:c.width,height:c.height},r.signal);if(typeof w=="function")return i;u.push(...w)}let f=c.x-n,m=c.x+c.width-1-n;for(const w of u)for(const g of w)g.span!==void 0&&(f=Math.min(g.span[0],f),m=Math.max(g.span[1],m));f===c.x-n&&m===c.x+c.width-1-n?l=!0:e={current:{cell:e.current.cell??[0,0],range:{x:f+n,y:c.y,width:m-f+1,height:c.height},rangeStack:e.current.rangeStack},columns:e.columns,rows:e.rows}}while(!l);return e}function bl(e){return e.startsWith('"')&&e.endsWith('"')&&(e=e.slice(1,-1).replace(/""/g,'"')),e}function ud(e){let t;(function(s){s[s.None=0]="None",s[s.inString=1]="inString",s[s.inStringPostQuote=2]="inStringPostQuote"})(t||(t={}));const n=[];let o=[],r=0,i=t.None;e=e.replace(/\r\n/g,`
`);let l=0;for(const s of e){switch(i){case t.None:s==="	"||s===`
`?(o.push(e.slice(r,l)),r=l+1,s===`
`&&(n.push(o),o=[])):s==='"'&&(i=t.inString);break;case t.inString:s==='"'&&(i=t.inStringPostQuote);break;case t.inStringPostQuote:s==='"'?i=t.inString:((s==="	"||s===`
`)&&(o.push(bl(e.slice(r,l))),r=l+1,s===`
`&&(n.push(o),o=[])),i=t.None);break}l++}return r<e.length&&o.push(bl(e.slice(r,e.length))),n.push(o),n.map(s=>s.map(c=>({rawValue:c,formatted:c,format:"string"})))}function pl(e,t,n){var s;const o=cd(e,t),r=c=>{var u;(u=window.navigator.clipboard)==null||u.writeText(c)},i=(c,u)=>{var f;return((f=window.navigator.clipboard)==null?void 0:f.write)===void 0?!1:(window.navigator.clipboard.write([new ClipboardItem({"text/plain":new Blob([c],{type:"text/plain"}),"text/html":new Blob([u],{type:"text/html"})})]),!0)},l=(c,u)=>{var f,m;try{if(n===void 0||n.clipboardData===null)throw new Error("No clipboard data");(f=n==null?void 0:n.clipboardData)==null||f.setData("text/plain",c),(m=n==null?void 0:n.clipboardData)==null||m.setData("text/html",u)}catch{i(c,u)||r(c)}};((s=window.navigator.clipboard)==null?void 0:s.write)!==void 0||(n==null?void 0:n.clipboardData)!==void 0?l(o.textPlain,o.textHtml):r(o.textPlain),n==null||n.preventDefault()}function rs(e){return e!==!0}function vl(e){return typeof e=="string"?e:`${e}px`}const fd=()=>e=>e.innerWidth,hd=()=>e=>e.innerHeight,gd=Qt("div")({name:"Wrapper",class:"gdg-wmyidgi",propsAsIs:!1,vars:{"wmyidgi-0":[fd()],"wmyidgi-1":[hd()]}}),md=e=>{const{inWidth:t,inHeight:n,children:o,...r}=e;return a.createElement(gd,{innerHeight:vl(n),innerWidth:vl(t),...r},o)},wd=2,yd=1300;function bd(e,t,n){const o=yt.useRef(0),[r,i]=e??[0,0];yt.useEffect(()=>{if(r===0&&i===0){o.current=0;return}let l=!1,s=0;const c=u=>{var f;if(!l){if(s===0)s=u;else{const m=u-s;o.current=Math.min(1,o.current+m/yd);const w=o.current**1.618*m*wd;(f=t.current)==null||f.scrollBy(r*w,i*w),s=u,n==null||n()}window.requestAnimationFrame(c)}};return window.requestAnimationFrame(c),()=>{l=!0}},[t,r,i,n])}function pd({rowHeight:e,headerHeight:t,groupHeaderHeight:n,theme:o,overscrollX:r,overscrollY:i,scaleToRem:l,remSize:s}){const[c,u,f,m,w,g]=yt.useMemo(()=>{if(!l||s===16)return[e,t,n,o,r,i];const h=s/16,y=e,b=Yl();return[typeof y=="number"?y*h:x=>Math.ceil(y(x)*h),Math.ceil(t*h),Math.ceil(n*h),{...o,headerIconSize:((o==null?void 0:o.headerIconSize)??b.headerIconSize)*h,cellHorizontalPadding:((o==null?void 0:o.cellHorizontalPadding)??b.cellHorizontalPadding)*h,cellVerticalPadding:((o==null?void 0:o.cellVerticalPadding)??b.cellVerticalPadding)*h},Math.ceil((r??0)*h),Math.ceil((i??0)*h)]},[n,t,r,i,s,e,l,o]);return{rowHeight:c,headerHeight:u,groupHeaderHeight:f,theme:m,overscrollX:w,overscrollY:g}}const Un={downFill:!1,rightFill:!1,clear:!0,closeOverlay:!0,acceptOverlayDown:!0,acceptOverlayUp:!0,acceptOverlayLeft:!0,acceptOverlayRight:!0,copy:!0,paste:!0,cut:!0,search:!1,delete:!0,activateCell:!0,scrollToSelectedCell:!0,goToFirstCell:!0,goToFirstColumn:!0,goToFirstRow:!0,goToLastCell:!0,goToLastColumn:!0,goToLastRow:!0,goToNextPage:!0,goToPreviousPage:!0,selectToFirstCell:!0,selectToFirstColumn:!0,selectToFirstRow:!0,selectToLastCell:!0,selectToLastColumn:!0,selectToLastRow:!0,selectAll:!0,selectRow:!0,selectColumn:!0,goUpCell:!0,goRightCell:!0,goDownCell:!0,goLeftCell:!0,goUpCellRetainSelection:!0,goRightCellRetainSelection:!0,goDownCellRetainSelection:!0,goLeftCellRetainSelection:!0,selectGrowUp:!0,selectGrowRight:!0,selectGrowDown:!0,selectGrowLeft:!0};function Pe(e,t){return e===!0?t:e===!1?"":e}function Cl(e){const t=Pr.value;return{activateCell:Pe(e.activateCell," |Enter|shift+Enter"),clear:Pe(e.clear,"any+Escape"),closeOverlay:Pe(e.closeOverlay,"any+Escape"),acceptOverlayDown:Pe(e.acceptOverlayDown,"Enter"),acceptOverlayUp:Pe(e.acceptOverlayUp,"shift+Enter"),acceptOverlayLeft:Pe(e.acceptOverlayLeft,"shift+Tab"),acceptOverlayRight:Pe(e.acceptOverlayRight,"Tab"),copy:e.copy,cut:e.cut,delete:Pe(e.delete,t?"Backspace|Delete":"Delete"),downFill:Pe(e.downFill,"primary+_68"),scrollToSelectedCell:Pe(e.scrollToSelectedCell,"primary+Enter"),goDownCell:Pe(e.goDownCell,"ArrowDown"),goDownCellRetainSelection:Pe(e.goDownCellRetainSelection,"alt+ArrowDown"),goLeftCell:Pe(e.goLeftCell,"ArrowLeft|shift+Tab"),goLeftCellRetainSelection:Pe(e.goLeftCellRetainSelection,"alt+ArrowLeft"),goRightCell:Pe(e.goRightCell,"ArrowRight|Tab"),goRightCellRetainSelection:Pe(e.goRightCellRetainSelection,"alt+ArrowRight"),goUpCell:Pe(e.goUpCell,"ArrowUp"),goUpCellRetainSelection:Pe(e.goUpCellRetainSelection,"alt+ArrowUp"),goToFirstCell:Pe(e.goToFirstCell,"primary+Home"),goToFirstColumn:Pe(e.goToFirstColumn,"Home|primary+ArrowLeft"),goToFirstRow:Pe(e.goToFirstRow,"primary+ArrowUp"),goToLastCell:Pe(e.goToLastCell,"primary+End"),goToLastColumn:Pe(e.goToLastColumn,"End|primary+ArrowRight"),goToLastRow:Pe(e.goToLastRow,"primary+ArrowDown"),goToNextPage:Pe(e.goToNextPage,"PageDown"),goToPreviousPage:Pe(e.goToPreviousPage,"PageUp"),paste:e.paste,rightFill:Pe(e.rightFill,"primary+_82"),search:Pe(e.search,"primary+f"),selectAll:Pe(e.selectAll,"primary+a"),selectColumn:Pe(e.selectColumn,"ctrl+ "),selectGrowDown:Pe(e.selectGrowDown,"shift+ArrowDown"),selectGrowLeft:Pe(e.selectGrowLeft,"shift+ArrowLeft"),selectGrowRight:Pe(e.selectGrowRight,"shift+ArrowRight"),selectGrowUp:Pe(e.selectGrowUp,"shift+ArrowUp"),selectRow:Pe(e.selectRow,"shift+ "),selectToFirstCell:Pe(e.selectToFirstCell,"primary+shift+Home"),selectToFirstColumn:Pe(e.selectToFirstColumn,"primary+shift+ArrowLeft"),selectToFirstRow:Pe(e.selectToFirstRow,"primary+shift+ArrowUp"),selectToLastCell:Pe(e.selectToLastCell,"primary+shift+End"),selectToLastColumn:Pe(e.selectToLastColumn,"primary+shift+ArrowRight"),selectToLastRow:Pe(e.selectToLastRow,"primary+shift+ArrowDown")}}function vd(e){const t=ra(e);return yt.useMemo(()=>{if(t===void 0)return Cl(Un);const n={...t,goToNextPage:(t==null?void 0:t.goToNextPage)??(t==null?void 0:t.pageDown)??Un.goToNextPage,goToPreviousPage:(t==null?void 0:t.goToPreviousPage)??(t==null?void 0:t.pageUp)??Un.goToPreviousPage,goToFirstCell:(t==null?void 0:t.goToFirstCell)??(t==null?void 0:t.first)??Un.goToFirstCell,goToLastCell:(t==null?void 0:t.goToLastCell)??(t==null?void 0:t.last)??Un.goToLastCell,selectToFirstCell:(t==null?void 0:t.selectToFirstCell)??(t==null?void 0:t.first)??Un.selectToFirstCell,selectToLastCell:(t==null?void 0:t.selectToLastCell)??(t==null?void 0:t.last)??Un.selectToLastCell};return Cl({...Un,...n})},[t])}function Cd(e){function t(o,r,i){if(typeof o=="number")return{headerIndex:o,isCollapsed:!1,depth:r,path:i};const l={headerIndex:o.headerIndex,isCollapsed:o.isCollapsed,depth:r,path:i};return o.subGroups!==void 0&&(l.subGroups=o.subGroups.map((s,c)=>t(s,r+1,[...i,c])).sort((s,c)=>s.headerIndex-c.headerIndex)),l}return e.map((o,r)=>t(o,0,[r])).sort((o,r)=>o.headerIndex-r.headerIndex)}function Di(e,t){const n=[];function o(l,s,c=!1){let u=s!==null?s-l.headerIndex:t-l.headerIndex;if(l.subGroups!==void 0&&(u=l.subGroups[0].headerIndex-l.headerIndex),u--,n.push({headerIndex:l.headerIndex,contentIndex:-1,skip:c,isCollapsed:l.isCollapsed,depth:l.depth,path:l.path,rows:u}),l.subGroups)for(let f=0;f<l.subGroups.length;f++){const m=f<l.subGroups.length-1?l.subGroups[f+1].headerIndex:s;o(l.subGroups[f],m,c||l.isCollapsed)}}const r=Cd(e.groups);for(let l=0;l<r.length;l++){const s=l<r.length-1?r[l+1].headerIndex:null;o(r[l],s)}let i=0;for(const l of n)l.contentIndex=i,i+=l.rows;return n.filter(l=>l.skip===!1).map(l=>{const{skip:s,...c}=l;return c})}function Or(e,t){if(t===void 0||Di.length===0)return{path:[e],originalIndex:e,isGroupHeader:!1,groupIndex:e,contentIndex:e,groupRows:-1};let n=e;for(const o of t){if(n===0)return{path:[...o.path,-1],originalIndex:o.headerIndex,isGroupHeader:!0,groupIndex:-1,contentIndex:-1,groupRows:o.rows};if(n--,!o.isCollapsed){if(n<o.rows)return{path:[...o.path,n],originalIndex:o.headerIndex+n,isGroupHeader:!1,groupIndex:n,contentIndex:o.contentIndex+n,groupRows:o.rows};n-=o.rows}}return{path:[e],originalIndex:e,isGroupHeader:!1,groupIndex:e,contentIndex:e,groupRows:-1}}function xd(e,t,n,o){const r=yt.useMemo(()=>e===void 0?void 0:Di(e,t),[e,t]),i=yt.useMemo(()=>r===void 0?t:r.reduce((u,f)=>u+(f.isCollapsed?1:f.rows+1),0),[r,t]),l=yt.useMemo(()=>e===void 0||typeof n=="number"&&e.height===n?n:u=>{const{isGroupHeader:f}=Or(u,r);return f?e.height:typeof n=="number"?n:n(u)},[r,e,n]),s=yt.useCallback(u=>{if(r===void 0)return u;let f=u;for(const m of r){if(f===0)return;if(f--,!m.isCollapsed){if(f<m.rows)return m.contentIndex+f;f-=m.rows}}return u},[r]),c=oo(o??(e==null?void 0:e.themeOverride),yt.useCallback(u=>{if(e===void 0)return o==null?void 0:o(u,u,u);if(o===void 0&&(e==null?void 0:e.themeOverride)===void 0)return;const{isGroupHeader:f,contentIndex:m,groupIndex:w}=Or(u,r);return f?e.themeOverride:o==null?void 0:o(u,w,m)},[r,o,e]));return e===void 0?{rowHeight:l,rows:t,rowNumberMapper:s,getRowThemeOverride:c}:{rowHeight:l,rows:i,rowNumberMapper:s,getRowThemeOverride:c}}function kd(e,t){const n=yt.useMemo(()=>e===void 0?void 0:Di(e,t),[e,t]);return{getRowGroupingForPath:ls,updateRowGroupingByPath:is,mapper:yt.useCallback(o=>{if(typeof o=="number")return Or(o,n);const r=Or(o[1],n);return{...r,originalIndex:[o[0],r.originalIndex]}},[n])}}function is(e,t,n){const[o,...r]=t;return r[0]===-1?e.map((i,l)=>l===o?{...i,...n}:i):e.map((i,l)=>l===o?{...i,subGroups:is(i.subGroups??[],r,n)}:i)}function ls(e,t){const[n,...o]=t;return o[0]===-1?e[n]:ls(e[n].subGroups??[],o)}const Sd=a.lazy(async()=>await Ml(()=>import("./data-grid-overlay-editor-APrLKi4s.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]),import.meta.url));let Md=0;function Rd(e){return Ks(ji(ji(e).filter(t=>t.span!==void 0).map(t=>{var n,o;return ro((((n=t.span)==null?void 0:n[0])??0)+1,(((o=t.span)==null?void 0:o[1])??0)+1)})))}function Fr(e,t){return e===void 0||t===0||e.columns.length===0&&e.current===void 0?e:{current:e.current===void 0?void 0:{cell:[e.current.cell[0]+t,e.current.cell[1]],range:{...e.current.range,x:e.current.range.x+t},rangeStack:e.current.rangeStack.map(n=>({...n,x:n.x+t}))},rows:e.rows,columns:e.columns.offset(t)}}const Hr={kind:Z.Loading,allowOverlay:!1},Tr={columns:rt.empty(),rows:rt.empty(),current:void 0},Ed=(e,t)=>{var _i,Vi,qi;const[n,o]=a.useState(Tr),[r,i]=a.useState(),l=a.useRef(null),s=a.useRef(null),[c,u]=a.useState(),f=a.useRef(null),m=a.useRef(),w=typeof window>"u"?null:window,{imageEditorOverride:g,getRowThemeOverride:h,markdownDivCreateNode:y,width:b,height:x,columns:C,rows:z,getCellContent:X,onCellClicked:Y,onCellActivated:F,onFillPattern:H,onFinishedEditing:K,coercePasteValue:S,drawHeader:O,drawCell:P,editorBloom:A,onHeaderClicked:R,onColumnProposeMove:M,spanRangeBehavior:ie="default",onGroupHeaderClicked:ne,onCellContextMenu:oe,className:Me,onHeaderContextMenu:Ae,getCellsForSelection:J,onGroupHeaderContextMenu:G,onGroupHeaderRenamed:ye,onCellEdited:re,onCellsEdited:ke,onSearchResultsChanged:be,searchResults:V,onSearchValueChange:Fe,searchValue:Re,onKeyDown:Qe,onKeyUp:tt,keybindings:mt,editOnType:nt=!0,onRowAppended:ze,onColumnMoved:Ve,validateCell:Se,highlightRegions:wt,rangeSelect:at="rect",columnSelect:je="multi",rowSelect:j="multi",rangeSelectionBlending:$e="exclusive",columnSelectionBlending:Ie="exclusive",rowSelectionBlending:He="exclusive",onDelete:fe,onDragStart:Xe,onMouseMove:We,onPaste:Oe,copyHeaders:ae=!1,freezeColumns:Ce=0,cellActivationBehavior:et="second-click",rowSelectionMode:Ye="auto",onHeaderMenuClick:_e,onHeaderIndicatorClick:ct,getGroupDetails:Ze,rowGrouping:Te,onSearchClose:Ct,onItemHovered:Ht,onSelectionCleared:bt,showSearch:xt,onVisibleRegionChanged:Lt,gridSelection:ft,onGridSelectionChange:yn,minColumnWidth:An=50,maxColumnWidth:lt=500,maxColumnAutoWidth:En,provideEditor:cn,trailingRowOptions:pe,freezeTrailingRows:ht=0,allowedFillDirections:bn="orthogonal",scrollOffsetX:$t,scrollOffsetY:kt,verticalBorder:Be,onDragOverCell:St,onDrop:dt,onColumnResize:Nt,onColumnResizeEnd:Ft,onColumnResizeStart:Kt,customRenderers:zn,fillHandle:Mt,drawFocusRing:so=!0,experimental:qe,fixedShadowX:Tt,fixedShadowY:In,headerIcons:ir,imageWindowLoader:Bn,initialSize:Dn,isDraggable:Fn,onDragLeave:ao,onRowMoved:Ln,overscrollX:lr,overscrollY:co,preventDiagonalScrolling:uo,rightElement:fo,rightElementProps:ho,trapFocus:Pn=!1,smoothScrollX:Wn,smoothScrollY:Xr,scaleToRem:sr=!1,rowHeight:Yr=34,headerHeight:ar=36,groupHeaderHeight:go=ar,theme:On,isOutsideClick:Gr,renderers:Lo,resizeIndicator:cr}=e,At=typeof e.rowMarkers=="string"?void 0:e.rowMarkers,Xt=(At==null?void 0:At.kind)??e.rowMarkers??"none",Fi=(At==null?void 0:At.width)??e.rowMarkerWidth,Po=(At==null?void 0:At.startIndex)??e.rowMarkerStartIndex??1,mo=(At==null?void 0:At.theme)??e.rowMarkerTheme,Zn=(At==null?void 0:At.checkboxStyle)??"square",pn=Math.max(An,20),dn=Math.max(lt,pn),$n=Math.max(En??dn,pn),wo=a.useMemo(()=>typeof window>"u"?{fontSize:"16px"}:window.getComputedStyle(document.documentElement),[]),{rows:ve,rowNumberMapper:yo,rowHeight:dr,getRowThemeOverride:en}=xd(Te,z,Yr,h),ur=a.useMemo(()=>Number.parseFloat(wo.fontSize),[wo]),{rowHeight:Ut,headerHeight:Wo,groupHeaderHeight:Oo,theme:$o,overscrollX:fr,overscrollY:hr}=pd({groupHeaderHeight:go,headerHeight:ar,overscrollX:lr,overscrollY:co,remSize:ur,rowHeight:dr,scaleToRem:sr,theme:On}),vn=vd(mt),Nn=Fi??(z>1e4?48:z>1e3?44:z>100?36:32),tn=Xt!=="none",D=tn?1:0,gt=ze!==void 0,Hn=(pe==null?void 0:pe.sticky)===!0,[Kr,gr]=a.useState(!1),Ur=xt??Kr,_r=a.useCallback(()=>{Ct!==void 0?Ct():gr(!1)},[Ct]),B=a.useMemo(()=>ft===void 0?void 0:Fr(ft,D),[ft,D])??n,zt=a.useRef();zt.current===void 0&&(zt.current=new AbortController),a.useEffect(()=>()=>zt==null?void 0:zt.current.abort(),[]);const[Rt,qr]=od(J,X,D,zt.current,ve),bo=a.useCallback((d,v,p)=>{if(Se===void 0)return!0;const I=[d[0]-D,d[1]];return Se==null?void 0:Se(I,v,p)},[D,Se]),po=a.useRef(ft),Pt=a.useCallback((d,v)=>{v&&(d=dd(d,Rt,D,ie,zt.current)),yn!==void 0?(po.current=Fr(d,-D),yn(po.current)):o(d)},[yn,Rt,D,ie]),Xn=oo(Nt,a.useCallback((d,v,p,I)=>{Nt==null||Nt(C[p-D],v,p-D,I)},[Nt,D,C])),jr=oo(Ft,a.useCallback((d,v,p,I)=>{Ft==null||Ft(C[p-D],v,p-D,I)},[Ft,D,C])),k=oo(Kt,a.useCallback((d,v,p,I)=>{Kt==null||Kt(C[p-D],v,p-D,I)},[Kt,D,C])),U=oo(O,a.useCallback((d,v)=>(O==null?void 0:O({...d,columnIndex:d.columnIndex-D},v))??!1,[O,D])),de=oo(P,a.useCallback((d,v)=>(P==null?void 0:P({...d,col:d.col-D},v))??!1,[P,D])),te=a.useCallback(d=>{if(fe!==void 0){const v=fe(Fr(d,-D));return typeof v=="boolean"?v:Fr(v,D)}return!0},[fe,D]),[_,q,se]=nd(B,Pt,$e,Ie,He,at),ce=a.useMemo(()=>Vn(Yl(),$o),[$o]),[ue,Dt]=a.useState([0,0,0]),me=a.useMemo(()=>{if(Lo===void 0)return{};const d={};for(const v of Lo)d[v.kind]=v;return d},[Lo]),De=a.useCallback(d=>d.kind!==Z.Custom?me[d.kind]:zn==null?void 0:zn.find(v=>v.isMatch(d)),[zn,me]);let{sizedColumns:Ee,nonGrowWidth:Ge}=Da(C,ve,qr,ue[0]-(D===0?0:Nn)-ue[2],pn,$n,ce,De,zt.current);Xt!=="none"&&(Ge+=Nn);const pt=a.useMemo(()=>Ee.some(d=>d.group!==void 0),[Ee]),Wt=pt?Wo+Oo:Wo,vt=B.rows.length,nn=Xt==="none"?void 0:vt===0?!1:vt===ve?!0:void 0,Ke=a.useMemo(()=>Xt==="none"?Ee:[{title:"",width:Nn,icon:void 0,hasMenu:!1,style:"normal",themeOverride:mo,rowMarker:Zn,rowMarkerChecked:nn},...Ee],[Xt,Ee,Nn,mo,Zn,nn]),[_t,ot]=a.useMemo(()=>[kt!==void 0&&typeof Ut=="number"?Math.floor(kt/Ut):0,kt!==void 0&&typeof Ut=="number"?-(kt%Ut):0],[kt,Ut]),it=a.useRef({height:1,width:1,x:0,y:0}),on=a.useMemo(()=>({x:it.current.x,y:_t,width:it.current.width??1,height:it.current.height??1,ty:ot}),[ot,_t]),un=a.useRef(!1),[Bt,vo,Cn]=oa(on);it.current=Bt;const Hi=(Bt.height??1)>1;a.useLayoutEffect(()=>{if(kt!==void 0&&f.current!==null&&Hi){if(f.current.scrollTop===kt)return;f.current.scrollTop=kt,f.current.scrollTop!==kt&&Cn(),un.current=!0}},[kt,Hi,Cn]);const Ti=(Bt.width??1)>1;a.useLayoutEffect(()=>{if($t!==void 0&&f.current!==null&&Ti){if(f.current.scrollLeft===$t)return;f.current.scrollLeft=$t,f.current.scrollLeft!==$t&&Cn(),un.current=!0}},[$t,Ti,Cn]);const ss=Bt.x+D,mr=Bt.y,Vt=a.useRef(null),Gt=a.useCallback(d=>{var v;d===!0?(v=Vt.current)==null||v.focus():window.requestAnimationFrame(()=>{var p;(p=Vt.current)==null||p.focus()})},[]),Yt=gt?ve+1:ve,rn=a.useCallback(d=>{const v=D===0?d:d.map(I=>({...I,location:[I.location[0]-D,I.location[1]]})),p=ke==null?void 0:ke(v);if(p!==!0)for(const I of v)re==null||re(I.location,I.value);return p},[re,ke,D]),[Jn,Zr]=a.useState(),wr=B.current!==void 0&&B.current.range.width*B.current.range.height>1?B.current.range:void 0,Co=so?(_i=B.current)==null?void 0:_i.cell:void 0,yr=Co==null?void 0:Co[0],br=Co==null?void 0:Co[1],as=a.useMemo(()=>{if((wt===void 0||wt.length===0)&&(wr??yr??br??Jn)===void 0)return;const d=[];if(wt!==void 0)for(const v of wt){const p=Ke.length-v.range.x-D;p>0&&d.push({color:v.color,range:{...v.range,x:v.range.x+D,width:Math.min(p,v.range.width)},style:v.style})}return Jn!==void 0&&d.push({color:io(ce.accentColor,0),range:Jn,style:"dashed"}),wr!==void 0&&d.push({color:io(ce.accentColor,.5),range:wr,style:"solid-outline"}),yr!==void 0&&br!==void 0&&d.push({color:ce.accentColor,range:{x:yr,y:br,width:1,height:1},style:"solid-outline"}),d.length>0?d:void 0},[Jn,wr,yr,br,wt,Ke.length,ce.accentColor,D]),Ai=a.useRef(Ke);Ai.current=Ke;const qt=a.useCallback(([d,v],p=!1)=>{var W,T,L,$,N,Q,he;const I=gt&&v===Yt-1;if(d===0&&tn){if(I)return Hr;const ee=yo(v);return ee===void 0?Hr:{kind:an.Marker,allowOverlay:!1,checkboxStyle:Zn,checked:(B==null?void 0:B.rows.hasIndex(v))===!0,markerKind:Xt==="clickable-number"?"number":Xt,row:Po+ee,drawHandle:Ln!==void 0,cursor:Xt==="clickable-number"?"pointer":void 0}}else if(I){const we=d===D?(pe==null?void 0:pe.hint)??"":"",le=Ai.current[d];if(((W=le==null?void 0:le.trailingRowOptions)==null?void 0:W.disabled)===!0)return Hr;{const Ue=((T=le==null?void 0:le.trailingRowOptions)==null?void 0:T.hint)??we,xe=((L=le==null?void 0:le.trailingRowOptions)==null?void 0:L.addIcon)??(pe==null?void 0:pe.addIcon);return{kind:an.NewRow,hint:Ue,allowOverlay:!1,icon:xe}}}else{const ee=d-D;if(p||(qe==null?void 0:qe.strict)===!0){const le=it.current,Ue=le.x>ee||ee>le.x+le.width||le.y>v||v>le.y+le.height||v>=Qr.current,xe=ee===((N=($=le.extras)==null?void 0:$.selected)==null?void 0:N[0])&&v===((Q=le.extras)==null?void 0:Q.selected[1]);let ge=!1;if(((he=le.extras)==null?void 0:he.freezeRegions)!==void 0){for(const Je of le.extras.freezeRegions)if(Ho(Je,ee,v)){ge=!0;break}}if(Ue&&!xe&&!ge)return Hr}let we=X([ee,v]);return D!==0&&we.span!==void 0&&(we={...we,span:[we.span[0]+D,we.span[1]+D]}),we}},[gt,Yt,tn,yo,Zn,B==null?void 0:B.rows,Xt,Po,Ln,D,pe==null?void 0:pe.hint,pe==null?void 0:pe.addIcon,qe==null?void 0:qe.strict,X]),Jr=a.useCallback(d=>{let v=(Ze==null?void 0:Ze(d))??{name:d};return ye!==void 0&&d!==""&&(v={icon:v.icon,name:v.name,overrideTheme:v.overrideTheme,actions:[...v.actions??[],{title:"Rename",icon:"renameIcon",onClick:p=>ti({group:v.name,bounds:p.bounds})}]}),v},[Ze,ye]),pr=a.useCallback(d=>{var L;const[v,p]=d.cell,I=Ke[v],E=(I==null?void 0:I.group)!==void 0?(L=Jr(I.group))==null?void 0:L.overrideTheme:void 0,W=I==null?void 0:I.themeOverride,T=en==null?void 0:en(p);i({...d,theme:Vn(ce,E,W,T,d.content.themeOverride)})},[en,Ke,Jr,ce]),xo=a.useCallback((d,v,p)=>{var T;if(B.current===void 0)return;const[I,E]=B.current.cell,W=qt([I,E]);if(W.kind!==Z.Boolean&&W.allowOverlay){let L=W;if(p!==void 0)switch(L.kind){case Z.Number:{const $=_s(()=>p==="-"?-0:Number.parseFloat(p),0);L={...L,data:Number.isNaN($)?0:$};break}case Z.Text:case Z.Markdown:case Z.Uri:L={...L,data:p};break}pr({target:d,content:L,initialValue:p,cell:[I,E],highlight:p===void 0,forceEditMode:p!==void 0})}else W.kind===Z.Boolean&&v&&W.readonly!==!0&&(rn([{location:B.current.cell,value:{...W,data:rs(W.data)}}]),(T=Vt.current)==null||T.damage([{cell:B.current.cell}]))},[qt,B,rn,pr]),zi=a.useCallback((d,v)=>{var E;const p=(E=Vt.current)==null?void 0:E.getBounds(d,v);if(p===void 0||f.current===null)return;const I=qt([d,v]);I.allowOverlay&&pr({target:p,content:I,initialValue:void 0,highlight:!0,cell:[d,v],forceEditMode:!0})},[qt,pr]),Et=a.useCallback((d,v,p="both",I=0,E=0,W=void 0)=>{if(f.current!==null){const T=Vt.current,L=s.current,$=typeof d!="number"?d.unit==="cell"?d.amount:void 0:d,N=typeof v!="number"?v.unit==="cell"?v.amount:void 0:v,Q=typeof d!="number"&&d.unit==="px"?d.amount:void 0,he=typeof v!="number"&&v.unit==="px"?v.amount:void 0;if(T!==null&&L!==null){let ee={x:0,y:0,width:0,height:0},we=0,le=0;if(($!==void 0||N!==void 0)&&(ee=T.getBounds(($??0)+D,N??0)??ee,ee.width===0||ee.height===0))return;const Ue=L.getBoundingClientRect(),xe=Ue.width/L.offsetWidth;if(Q!==void 0&&(ee={...ee,x:Q-Ue.left-f.current.scrollLeft,width:1}),he!==void 0&&(ee={...ee,y:he+Ue.top-f.current.scrollTop,height:1}),ee!==void 0){const ge={x:ee.x-I,y:ee.y-E,width:ee.width+2*I,height:ee.height+2*E};let Je=0;for(let si=0;si<Ce;si++)Je+=Ee[si].width;let ut=0;const It=ht+(Hn?1:0);It>0&&(ut=lo(Yt,It,Ut));let gn=Je*xe+Ue.left+D*Nn*xe,kn=Ue.right,mn=Ue.top+Wt*xe,Sn=Ue.bottom-ut*xe;const Rr=ee.width+I*2;switch(W==null?void 0:W.hAlign){case"start":kn=gn+Rr;break;case"end":gn=kn-Rr;break;case"center":gn=Math.floor((gn+kn)/2)-Rr/2,kn=gn+Rr;break}const Er=ee.height+E*2;switch(W==null?void 0:W.vAlign){case"start":Sn=mn+Er;break;case"end":mn=Sn-Er;break;case"center":mn=Math.floor((mn+Sn)/2)-Er/2,Sn=mn+Er;break}gn>ge.x?we=ge.x-gn:kn<ge.x+ge.width&&(we=ge.x+ge.width-kn),mn>ge.y?le=ge.y-mn:Sn<ge.y+ge.height&&(le=ge.y+ge.height-Sn),p==="vertical"||typeof d=="number"&&d<Ce?we=0:(p==="horizontal"||typeof v=="number"&&v>=Yt-It)&&(le=0),(we!==0||le!==0)&&(xe!==1&&(we/=xe,le/=xe),f.current.scrollTo(we+f.current.scrollLeft,le+f.current.scrollTop))}}}},[D,ht,Nn,Wt,Ce,Ee,Yt,Hn,Ut]),Bi=a.useRef(zi),Li=a.useRef(X),Qr=a.useRef(ve);Bi.current=zi,Li.current=X,Qr.current=ve;const ko=a.useCallback(async(d,v=!0)=>{var $;const p=Ke[d];if((($=p==null?void 0:p.trailingRowOptions)==null?void 0:$.disabled)===!0)return;const I=ze==null?void 0:ze();let E,W=!0;I!==void 0&&(E=await I,E==="top"&&(W=!1),typeof E=="number"&&(W=!1));let T=0;const L=()=>{if(Qr.current<=ve){T<500&&window.setTimeout(L,T),T=50+T*2;return}const N=typeof E=="number"?E:W?ve:0;Mr.current(d-D,N),_({cell:[d,N],range:{x:d,y:N,width:1,height:1}},!1,!1,"edit");const Q=Li.current([d-D,N]);Q.allowOverlay&&Zo(Q)&&Q.readonly!==!0&&v&&window.setTimeout(()=>{Bi.current(d,N)},0)};L()},[Ke,ze,D,ve,_]),vr=a.useCallback(d=>{var p,I;const v=((I=(p=Ee[d])==null?void 0:p.trailingRowOptions)==null?void 0:I.targetColumn)??(pe==null?void 0:pe.targetColumn);if(typeof v=="number")return v+(tn?1:0);if(typeof v=="object"){const E=C.indexOf(v);if(E>=0)return E+(tn?1:0)}},[Ee,C,tn,pe==null?void 0:pe.targetColumn]),Yn=a.useRef(),So=a.useRef(),No=a.useCallback((d,v)=>{var E;const[p,I]=v;return Vn(ce,(E=Ke[p])==null?void 0:E.themeOverride,en==null?void 0:en(I),d.themeOverride)},[en,Ke,ce]),{mapper:Qn}=kd(Te,z),fn=Te==null?void 0:Te.navigationBehavior,Xo=a.useCallback(d=>{var Q,he,ee;const v=Pr.value?d.metaKey:d.ctrlKey,p=v&&j==="multi",I=v&&je==="multi",[E,W]=d.location,T=B.columns,L=B.rows,[$,N]=((Q=B.current)==null?void 0:Q.cell)??[];if(d.kind==="cell"){if(So.current=void 0,eo.current=[E,W],E===0&&tn){if(gt===!0&&W===ve||Xt==="number"||j==="none")return;const we=qt(d.location);if(we.kind!==an.Marker)return;if(Ln!==void 0){const xe=De(we);Zt((xe==null?void 0:xe.kind)===an.Marker);const ge=(he=xe==null?void 0:xe.onClick)==null?void 0:he.call(xe,{...d,cell:we,posX:d.localEventX,posY:d.localEventY,bounds:d.bounds,theme:No(we,d.location),preventDefault:()=>{}});if(ge===void 0||ge.checked===we.checked)return}i(void 0),Gt();const le=L.hasIndex(W),Ue=Yn.current;if(j==="multi"&&(d.shiftKey||d.isLongTouch===!0)&&Ue!==void 0&&L.hasIndex(Ue)){const xe=[Math.min(Ue,W),Math.max(Ue,W)+1];p||Ye==="multi"?q(void 0,xe,!0):q(rt.fromSingleSelection(xe),void 0,p)}else p||d.isTouch||Ye==="multi"?le?q(L.remove(W),void 0,!0):(q(void 0,W,!0),Yn.current=W):le&&L.length===1?q(rt.empty(),void 0,v):(q(rt.fromSingleSelection(W),void 0,v),Yn.current=W)}else if(E>=D&&gt&&W===ve){const we=vr(E);ko(we??E)}else if($!==E||N!==W){const we=qt(d.location),le=De(we);if((le==null?void 0:le.onSelect)!==void 0){let ge=!1;if(le.onSelect({...d,cell:we,posX:d.localEventX,posY:d.localEventY,bounds:d.bounds,preventDefault:()=>ge=!0,theme:No(we,d.location)}),ge)return}if(fn==="block"&&Qn(W).isGroupHeader)return;const Ue=Hn&&W===ve,xe=Hn&&B!==void 0&&((ee=B.current)==null?void 0:ee.cell[1])===ve;if((d.shiftKey||d.isLongTouch===!0)&&$!==void 0&&N!==void 0&&B.current!==void 0&&!xe){if(Ue)return;const ge=Math.min(E,$),Je=Math.max(E,$),ut=Math.min(W,N),It=Math.max(W,N);_({...B.current,range:{x:ge,y:ut,width:Je-ge+1,height:It-ut+1}},!0,v,"click"),Yn.current=void 0,Gt()}else _({cell:[E,W],range:{x:E,y:W,width:1,height:1}},!0,v,"click"),Yn.current=void 0,i(void 0),Gt()}}else if(d.kind==="header")if(eo.current=[E,W],i(void 0),tn&&E===0)Yn.current=void 0,So.current=void 0,j==="multi"&&(L.length!==ve?q(rt.fromSingleSelection([0,ve]),void 0,v):q(rt.empty(),void 0,v),Gt());else{const we=So.current;if(je==="multi"&&(d.shiftKey||d.isLongTouch===!0)&&we!==void 0&&T.hasIndex(we)){const le=[Math.min(we,E),Math.max(we,E)+1];I?se(void 0,le,v):se(rt.fromSingleSelection(le),void 0,v)}else I?(T.hasIndex(E)?se(T.remove(E),void 0,v):se(void 0,E,v),So.current=E):je!=="none"&&(se(rt.fromSingleSelection(E),void 0,v),So.current=E);Yn.current=void 0,Gt()}else d.kind===jt?eo.current=[E,W]:d.kind===Wr&&!d.isMaybeScrollbar&&(Pt(Tr,!1),i(void 0),Gt(),bt==null||bt(),Yn.current=void 0,So.current=void 0)},[j,je,B,tn,D,gt,ve,Xt,qt,Ln,Gt,Ye,De,No,q,vr,ko,fn,Qn,Hn,_,se,Pt,bt]),Yo=a.useRef(!1),eo=a.useRef(),Pi=a.useRef(Bt),ln=a.useRef(),cs=a.useCallback(d=>{if(Mo.current=!1,Pi.current=it.current,d.button!==0&&d.button!==1){ln.current=void 0;return}const v=performance.now();ln.current={button:d.button,time:v,location:d.location},(d==null?void 0:d.kind)==="header"&&(Yo.current=!0);const p=d.kind==="cell"&&d.isFillHandle;!p&&d.kind!=="cell"&&d.isEdge||(u({previousSelection:B,fillHandle:p}),eo.current=void 0,!d.isTouch&&d.button===0&&!p?Xo(d):!d.isTouch&&d.button===1&&(eo.current=d.location))},[B,Xo]),[ei,ti]=a.useState(),Wi=a.useCallback(d=>{if(d.kind!==jt||je!=="multi")return;const v=Pr.value?d.metaKey:d.ctrlKey,[p]=d.location,I=B.columns;if(p<D)return;const E=Ke[p];let W=p,T=p;for(let L=p-1;L>=D&&nr(E.group,Ke[L].group);L--)W--;for(let L=p+1;L<Ke.length&&nr(E.group,Ke[L].group);L++)T++;if(Gt(),v)if(I.hasAll([W,T+1])){let L=I;for(let $=W;$<=T;$++)L=L.remove($);se(L,void 0,v)}else se(void 0,[W,T+1],v);else se(rt.fromSingleSelection([W,T+1]),void 0,v)},[je,Gt,B.columns,Ke,D,se]),Mo=a.useRef(!1),Cr=a.useCallback(async d=>{if(Rt!==void 0&&Xn!==void 0){const v=it.current.y,p=it.current.height;let I=Rt({x:d,y:v,width:1,height:Math.min(p,ve-v)},zt.current.signal);typeof I!="object"&&(I=await I());const E=Ee[d-D],T=document.createElement("canvas").getContext("2d",{alpha:!1});if(T!==null){T.font=ce.baseFontFull;const L=Kl(T,ce,E,0,I,pn,dn,!1,De);Xn==null||Xn(E,L.width,d,L.width)}}},[Ee,Rt,dn,ce,pn,Xn,D,ve,De]),[ds,ni]=a.useState(),Ro=a.useCallback(async(d,v)=>{var L,$;const p=(L=d.current)==null?void 0:L.range;if(p===void 0||Rt===void 0||v.current===void 0)return;const I=v.current.range;if(H!==void 0){let N=!1;if(H({fillDestination:{...I,x:I.x-D},patternSource:{...p,x:p.x-D},preventDefault:()=>N=!0}),N)return}let E=Rt(p,zt.current.signal);typeof E!="object"&&(E=await E());const W=E,T=[];for(let N=0;N<I.width;N++)for(let Q=0;Q<I.height;Q++){const he=[I.x+N,I.y+Q];if(Al(he,p))continue;const ee=W[Q%p.height][N%p.width];Do(ee)||!Zo(ee)||T.push({location:he,value:{...ee}})}rn(T),($=Vt.current)==null||$.damage(T.map(N=>({cell:N.location})))},[Rt,rn,H,D]),Oi=a.useCallback(()=>{if(B.current===void 0||B.current.range.width<=1)return;const d={...B,current:{...B.current,range:{...B.current.range,width:1}}};Ro(d,B)},[Ro,B]),$i=a.useCallback(()=>{if(B.current===void 0||B.current.range.height<=1)return;const d={...B,current:{...B.current,range:{...B.current.range,height:1}}};Ro(d,B)},[Ro,B]),us=a.useCallback((d,v)=>{var Q,he;const p=c;if(u(void 0),Zr(void 0),ni(void 0),Yo.current=!1,v)return;if((p==null?void 0:p.fillHandle)===!0&&B.current!==void 0&&((Q=p.previousSelection)==null?void 0:Q.current)!==void 0){if(Jn===void 0)return;const ee={...B,current:{...B.current,range:jl(p.previousSelection.current.range,Jn)}};Ro(p.previousSelection,ee),Pt(ee,!0);return}const[I,E]=d.location,[W,T]=eo.current??[],L=()=>{Mo.current=!0},$=ee=>{var le,Ue,xe;const we=ee.isTouch||W===I&&T===E;if(we&&(Y==null||Y([I-D,E],{...ee,preventDefault:L})),ee.button===1)return!Mo.current;if(!Mo.current){const ge=qt(d.location),Je=De(ge);if(Je!==void 0&&Je.onClick!==void 0&&we){const It=Je.onClick({...ee,cell:ge,posX:ee.localEventX,posY:ee.localEventY,bounds:ee.bounds,theme:No(ge,d.location),preventDefault:L});It!==void 0&&!Do(It)&&Io(It)&&(rn([{location:ee.location,value:It}]),(le=Vt.current)==null||le.damage([{cell:ee.location}]))}if(Mo.current||B.current===void 0)return!1;let ut=!1;switch(ge.activationBehaviorOverride??et){case"double-click":case"second-click":{if(((xe=(Ue=p==null?void 0:p.previousSelection)==null?void 0:Ue.current)==null?void 0:xe.cell)===void 0)break;const[It,gn]=B.current.cell,[kn,mn]=p.previousSelection.current.cell;ut=I===It&&I===kn&&E===gn&&E===mn&&(ee.isDoubleClick===!0||et==="second-click");break}case"single-click":{ut=!0;break}}if(ut)return F==null||F([I-D,E]),xo(ee.bounds,!1),!0}return!1},N=d.location[0]-D;if(d.isTouch){const ee=it.current,we=Pi.current;if(ee.x!==we.x||ee.y!==we.y)return;if(d.isLongTouch===!0){if(d.kind==="cell"&&Jo((he=B.current)==null?void 0:he.cell,d.location)){oe==null||oe([N,d.location[1]],{...d,preventDefault:L});return}else if(d.kind==="header"&&B.columns.hasIndex(I)){Ae==null||Ae(N,{...d,preventDefault:L});return}else if(d.kind===jt){if(N<0)return;G==null||G(N,{...d,preventDefault:L});return}}d.kind==="cell"?$(d)||Xo(d):d.kind===jt?ne==null||ne(N,{...d,preventDefault:L}):(d.kind===_n&&(R==null||R(N,{...d,preventDefault:L})),Xo(d));return}if(d.kind==="header"){if(N<0)return;d.isEdge?d.isDoubleClick===!0&&Cr(I):d.button===0&&I===W&&E===T&&(R==null||R(N,{...d,preventDefault:L}))}if(d.kind===jt){if(N<0)return;d.button===0&&I===W&&E===T&&(ne==null||ne(N,{...d,preventDefault:L}),Mo.current||Wi(d))}d.kind==="cell"&&(d.button===0||d.button===1)&&$(d),eo.current=void 0},[c,B,D,Jn,Ro,Pt,Y,qt,De,et,No,rn,F,xo,oe,Ae,G,Xo,ne,R,Cr,Wi]),fs=a.useCallback(d=>{const v={...d,location:[d.location[0]-D,d.location[1]]};We==null||We(v),c!==void 0&&d.buttons===0&&(u(void 0),Zr(void 0),ni(void 0),Yo.current=!1),ni(p=>{var I;return Yo.current?[d.scrollEdge[0],0]:d.scrollEdge[0]===(p==null?void 0:p[0])&&d.scrollEdge[1]===p[1]?p:c===void 0||(((I=ln.current)==null?void 0:I.location[0])??0)<D?void 0:d.scrollEdge})},[c,We,D]),hs=a.useCallback((d,v)=>{_e==null||_e(d-D,v)},[_e,D]),gs=a.useCallback((d,v)=>{ct==null||ct(d-D,v)},[ct,D]),xn=(Vi=B==null?void 0:B.current)==null?void 0:Vi.cell,ms=a.useCallback((d,v,p,I,E,W)=>{un.current=!1;let T=xn;T!==void 0&&(T=[T[0]-D,T[1]]);const L=Ce===0?void 0:{x:0,y:d.y,width:Ce,height:d.height},$=[];L!==void 0&&$.push(L),ht>0&&($.push({x:d.x-D,y:ve-ht,width:d.width,height:ht}),Ce>0&&$.push({x:0,y:ve-ht,width:Ce,height:ht}));const N={x:d.x-D,y:d.y,width:d.width,height:gt&&d.y+d.height>=ve?d.height-1:d.height,tx:E,ty:W,extras:{selected:T,freezeRegion:L,freezeRegions:$}};it.current=N,vo(N),Dt([v,p,I]),Lt==null||Lt(N,N.tx,N.ty,N.extras)},[xn,D,gt,ve,Ce,ht,vo,Lt]),ws=oo(Ve,a.useCallback((d,v)=>{Ve==null||Ve(d-D,v-D),je!=="none"&&se(rt.fromSingleSelection(v),void 0,!0)},[je,Ve,D,se])),oi=a.useRef(!1),ys=a.useCallback(d=>{if(d.location[0]===0&&D>0){d.preventDefault();return}Xe==null||Xe({...d,location:[d.location[0]-D,d.location[1]]}),d.defaultPrevented()||(oi.current=!0),u(void 0)},[Xe,D]),bs=a.useCallback(()=>{oi.current=!1},[]),Ni=Te==null?void 0:Te.selectionBehavior,xr=a.useCallback(d=>{if(Ni!=="block-spanning")return;const{isGroupHeader:v,path:p,groupRows:I}=Qn(d);if(v)return[d,d];const E=p[p.length-1],W=d-E,T=d+I-E-1;return[W,T]},[Qn,Ni]),ri=a.useRef(),ii=a.useCallback(d=>{var v,p,I;if(!ns(d,ri.current)&&(ri.current=d,!(((v=ln==null?void 0:ln.current)==null?void 0:v.button)!==void 0&&ln.current.button>=1))){if(d.buttons!==0&&c!==void 0&&((p=ln.current)==null?void 0:p.location[0])===0&&d.location[0]===0&&D===1&&j==="multi"&&c.previousSelection&&!c.previousSelection.rows.hasIndex(ln.current.location[1])&&B.rows.hasIndex(ln.current.location[1])){const E=Math.min(ln.current.location[1],d.location[1]),W=Math.max(ln.current.location[1],d.location[1])+1;q(rt.fromSingleSelection([E,W]),void 0,!1)}if(d.buttons!==0&&c!==void 0&&B.current!==void 0&&!oi.current&&!Yo.current&&(at==="rect"||at==="multi-rect")){const[E,W]=B.current.cell;let[T,L]=d.location;if(L<0&&(L=it.current.y),c.fillHandle===!0&&((I=c.previousSelection)==null?void 0:I.current)!==void 0){const $=c.previousSelection.current.range;L=Math.min(L,gt?ve-1:ve);const N=sc($,T,L,bn);Zr(N)}else{if(gt&&W===ve)return;if(gt&&L===ve)if(d.kind===Wr)L--;else return;T=Math.max(T,D);const Q=xr(W);L=Q===void 0?L:sn(L,Q[0],Q[1]);const he=T-E,ee=L-W,we={x:he>=0?E:T,y:ee>=0?W:L,width:Math.abs(he)+1,height:Math.abs(ee)+1};_({...B.current,range:we},!0,!1,"drag")}}Ht==null||Ht({...d,location:[d.location[0]-D,d.location[1]]})}},[c,D,j,B,at,Ht,q,gt,ve,bn,xr,_]),ps=a.useCallback(()=>{var T,L;const d=ri.current;if(d===void 0)return;const[v,p]=d.scrollEdge;let[I,E]=d.location;const W=it.current;v===-1?I=((L=(T=W.extras)==null?void 0:T.freezeRegion)==null?void 0:L.x)??W.x:v===1&&(I=W.x+W.width),p===-1?E=Math.max(0,W.y):p===1&&(E=Math.min(ve-1,W.y+W.height)),I=sn(I,0,Ke.length-1),E=sn(E,0,ve-1),ii({...d,location:[I,E]})},[Ke.length,ii,ve]);bd(ds,f,ps);const hn=a.useCallback(d=>{if(B.current===void 0)return;const[v,p]=d,[I,E]=B.current.cell,W=B.current.range;let T=W.x,L=W.x+W.width,$=W.y,N=W.y+W.height;const[Q,he]=xr(E)??[0,ve-1],ee=he+1;if(p!==0)switch(p){case 2:{N=ee,$=E,Et(0,N,"vertical");break}case-2:{$=Q,N=E+1,Et(0,$,"vertical");break}case 1:{$<E?($++,Et(0,$,"vertical")):(N=Math.min(ee,N+1),Et(0,N,"vertical"));break}case-1:{N>E+1?(N--,Et(0,N,"vertical")):($=Math.max(Q,$-1),Et(0,$,"vertical"));break}default:tr()}if(v!==0)if(v===2)L=Ke.length,T=I,Et(L-1-D,0,"horizontal");else if(v===-2)T=D,L=I+1,Et(T-D,0,"horizontal");else{let we=[];if(Rt!==void 0){const le=Rt({x:T,y:$,width:L-T-D,height:N-$},zt.current.signal);typeof le=="object"&&(we=Rd(le))}if(v===1){let le=!1;if(T<I){if(we.length>0){const Ue=ro(T+1,I+1).find(xe=>!we.includes(xe-D));Ue!==void 0&&(T=Ue,le=!0)}else T++,le=!0;le&&Et(T,0,"horizontal")}le||(L=Math.min(Ke.length,L+1),Et(L-1-D,0,"horizontal"))}else if(v===-1){let le=!1;if(L>I+1){if(we.length>0){const Ue=ro(L-1,I,-1).find(xe=>!we.includes(xe-D));Ue!==void 0&&(L=Ue,le=!0)}else L--,le=!0;le&&Et(L-D,0,"horizontal")}le||(T=Math.max(D,T-1),Et(T-D,0,"horizontal"))}else tr()}_({cell:B.current.cell,range:{x:T,y:$,width:L-T,height:N-$}},!0,!1,"keyboard-select")},[Rt,xr,B,Ke.length,D,ve,Et,_]),Gn=a.useCallback((d,v,p,I)=>{const E=Yt-(p?0:1);d=sn(d,D,Ee.length-1+D),v=sn(v,0,E);const W=xn==null?void 0:xn[0],T=xn==null?void 0:xn[1];if(d===W&&v===T)return!1;if(I&&B.current!==void 0){const L=[...B.current.rangeStack];(B.current.range.width>1||B.current.range.height>1)&&L.push(B.current.range),Pt({...B,current:{cell:[d,v],range:{x:d,y:v,width:1,height:1},rangeStack:L}},!0)}else _({cell:[d,v],range:{x:d,y:v,width:1,height:1}},!0,!1,"keyboard-nav");return m.current!==void 0&&m.current[0]===d&&m.current[1]===v&&(m.current=void 0),Et(d-D,v),!0},[Yt,D,Ee.length,xn,B,Et,Pt,_]),vs=a.useCallback((d,v)=>{(r==null?void 0:r.cell)!==void 0&&d!==void 0&&Io(d)&&(rn([{location:r.cell,value:d}]),window.requestAnimationFrame(()=>{var E;(E=Vt.current)==null||E.damage([{cell:r.cell}])})),Gt(!0),i(void 0);const[p,I]=v;if(B.current!==void 0&&(p!==0||I!==0)){const E=B.current.cell[1]===Yt-1&&d!==void 0;Gn(sn(B.current.cell[0]+p,0,Ke.length-1),sn(B.current.cell[1]+I,0,Yt-1),E,!1)}K==null||K(d,v)},[r==null?void 0:r.cell,Gt,B,K,rn,Yt,Gn,Ke.length]),Cs=a.useMemo(()=>`gdg-overlay-${Md++}`,[]),to=a.useCallback(d=>{var p,I,E,W;Gt();const v=[];for(let T=d.x;T<d.x+d.width;T++)for(let L=d.y;L<d.y+d.height;L++){const $=X([T-D,L]);if(!$.allowOverlay&&$.kind!==Z.Boolean)continue;let N;if($.kind===Z.Custom){const Q=De($),he=(p=Q==null?void 0:Q.provideEditor)==null?void 0:p.call(Q,$);(Q==null?void 0:Q.onDelete)!==void 0?N=Q.onDelete($):Vs(he)&&(N=(I=he==null?void 0:he.deletedValue)==null?void 0:I.call(he,$))}else if(Io($)&&$.allowOverlay||$.kind===Z.Boolean){const Q=De($);N=(E=Q==null?void 0:Q.onDelete)==null?void 0:E.call(Q,$)}N!==void 0&&!Do(N)&&Io(N)&&v.push({location:[T,L],value:N})}rn(v),(W=Vt.current)==null||W.damage(v.map(T=>({cell:T.location})))},[Gt,X,De,rn,D]),Go=r!==void 0,Xi=a.useCallback(d=>{var Ue,xe;const v=()=>{d.stopPropagation(),d.preventDefault()},p={didMatch:!1},{bounds:I}=d,E=B.columns,W=B.rows,T=vn;if(!Go&&Le(T.clear,d,p))Pt(Tr,!1),bt==null||bt();else if(!Go&&Le(T.selectAll,d,p))Pt({columns:rt.empty(),rows:rt.empty(),current:{cell:((Ue=B.current)==null?void 0:Ue.cell)??[D,0],range:{x:D,y:0,width:C.length,height:ve},rangeStack:[]}},!1);else if(Le(T.search,d,p))(xe=l==null?void 0:l.current)==null||xe.focus({preventScroll:!0}),gr(!0);else if(Le(T.delete,d,p)){const ge=(te==null?void 0:te(B))??!0;if(ge!==!1){const Je=ge===!0?B:ge;if(Je.current!==void 0){to(Je.current.range);for(const ut of Je.current.rangeStack)to(ut)}for(const ut of Je.rows)to({x:D,y:ut,width:C.length,height:1});for(const ut of Je.columns)to({x:ut,y:0,width:1,height:ve})}}if(p.didMatch)return v(),!0;if(B.current===void 0)return!1;let[L,$]=B.current.cell;const[,N]=B.current.cell;let Q=!1,he=!1;if(Le(T.scrollToSelectedCell,d,p)?Mr.current(L-D,$):je!=="none"&&Le(T.selectColumn,d,p)?E.hasIndex(L)?se(E.remove(L),void 0,!0):je==="single"?se(rt.fromSingleSelection(L),void 0,!0):se(void 0,L,!0):j!=="none"&&Le(T.selectRow,d,p)?W.hasIndex($)?q(W.remove($),void 0,!0):j==="single"?q(rt.fromSingleSelection($),void 0,!0):q(void 0,$,!0):!Go&&I!==void 0&&Le(T.activateCell,d,p)?$===ve&&gt?window.setTimeout(()=>{const ge=vr(L);ko(ge??L)},0):(F==null||F([L-D,$]),xo(I,!0)):B.current.range.height>1&&Le(T.downFill,d,p)?$i():B.current.range.width>1&&Le(T.rightFill,d,p)?Oi():Le(T.goToNextPage,d,p)?$+=Math.max(1,it.current.height-4):Le(T.goToPreviousPage,d,p)?$-=Math.max(1,it.current.height-4):Le(T.goToFirstCell,d,p)?(i(void 0),$=0,L=0):Le(T.goToLastCell,d,p)?(i(void 0),$=Number.MAX_SAFE_INTEGER,L=Number.MAX_SAFE_INTEGER):Le(T.selectToFirstCell,d,p)?(i(void 0),hn([-2,-2])):Le(T.selectToLastCell,d,p)?(i(void 0),hn([2,2])):Go?(Le(T.closeOverlay,d,p)&&i(void 0),Le(T.acceptOverlayDown,d,p)&&(i(void 0),$++),Le(T.acceptOverlayUp,d,p)&&(i(void 0),$--),Le(T.acceptOverlayLeft,d,p)&&(i(void 0),L--),Le(T.acceptOverlayRight,d,p)&&(i(void 0),L++)):(Le(T.goDownCell,d,p)?$+=1:Le(T.goUpCell,d,p)?$-=1:Le(T.goRightCell,d,p)?L+=1:Le(T.goLeftCell,d,p)?L-=1:Le(T.goDownCellRetainSelection,d,p)?($+=1,Q=!0):Le(T.goUpCellRetainSelection,d,p)?($-=1,Q=!0):Le(T.goRightCellRetainSelection,d,p)?(L+=1,Q=!0):Le(T.goLeftCellRetainSelection,d,p)?(L-=1,Q=!0):Le(T.goToLastRow,d,p)?$=ve-1:Le(T.goToFirstRow,d,p)?$=Number.MIN_SAFE_INTEGER:Le(T.goToLastColumn,d,p)?L=Number.MAX_SAFE_INTEGER:Le(T.goToFirstColumn,d,p)?L=Number.MIN_SAFE_INTEGER:(at==="rect"||at==="multi-rect")&&(Le(T.selectGrowDown,d,p)?hn([0,1]):Le(T.selectGrowUp,d,p)?hn([0,-1]):Le(T.selectGrowRight,d,p)?hn([1,0]):Le(T.selectGrowLeft,d,p)?hn([-1,0]):Le(T.selectToLastRow,d,p)?hn([0,2]):Le(T.selectToFirstRow,d,p)?hn([0,-2]):Le(T.selectToLastColumn,d,p)?hn([2,0]):Le(T.selectToFirstColumn,d,p)&&hn([-2,0])),he=p.didMatch),fn!==void 0&&fn!=="normal"&&$!==N){const ge=fn==="skip-up"||fn==="skip"||fn==="block",Je=fn==="skip-down"||fn==="skip"||fn==="block",ut=$<N;if(ut&&ge){for(;$>=0&&Qn($).isGroupHeader;)$--;$<0&&($=N)}else if(!ut&&Je){for(;$<ve&&Qn($).isGroupHeader;)$++;$>=ve&&($=N)}}const we=Gn(L,$,!1,Q),le=p.didMatch;return le&&(we||!he||Pn)&&v(),le},[fn,Go,B,vn,je,j,at,D,Qn,ve,Gn,Pt,bt,C.length,te,Pn,to,se,q,gt,vr,ko,F,xo,$i,Oi,hn]),Ko=a.useCallback(d=>{let v=!1;if(Qe!==void 0&&Qe({...d,cancel:()=>{v=!0}}),v||Xi(d)||B.current===void 0)return;const[p,I]=B.current.cell,E=it.current;if(nt&&!d.metaKey&&!d.ctrlKey&&B.current!==void 0&&d.key.length===1&&/[ -~]/g.test(d.key)&&d.bounds!==void 0&&Zo(X([p-D,Math.max(0,Math.min(I,ve-1))]))){if((!gt||I!==ve)&&(E.y>I||I>E.y+E.height||E.x>p||p>E.x+E.width))return;xo(d.bounds,!0,d.key),d.stopPropagation(),d.preventDefault()}},[nt,Qe,Xi,B,X,D,ve,gt,xo]),xs=a.useCallback((d,v)=>{const p=d.location[0]-D;if(d.kind==="header"&&(Ae==null||Ae(p,{...d,preventDefault:v})),d.kind===jt){if(p<0)return;G==null||G(p,{...d,preventDefault:v})}if(d.kind==="cell"){const[I,E]=d.location;oe==null||oe([p,E],{...d,preventDefault:v}),ha(B,d.location)||Gn(I,E,!1,!1)}},[B,oe,G,Ae,D,Gn]),li=a.useCallback(async d=>{var T,L,$;if(!vn.paste)return;function v(N,Q,he,ee){var le,Ue;const we=typeof he=="object"?(he==null?void 0:he.join(`
`))??"":(he==null?void 0:he.toString())??"";if(!Do(N)&&Zo(N)&&N.readonly!==!0){const xe=S==null?void 0:S(we,N);if(xe!==void 0&&Io(xe))return{location:Q,value:xe};const ge=De(N);if(ge===void 0)return;if(ge.kind===Z.Custom){Zt(N.kind===Z.Custom);const Je=(le=ge.onPaste)==null?void 0:le.call(ge,we,N.data);return Je===void 0?void 0:{location:Q,value:{...N,data:Je}}}else{const Je=(Ue=ge.onPaste)==null?void 0:Ue.call(ge,we,N,{formatted:ee,formattedString:typeof ee=="string"?ee:ee==null?void 0:ee.join(`
`),rawValue:he});return Je===void 0?void 0:(Zt(Je.kind===N.kind),{location:Q,value:Je})}}}const p=B.columns,I=B.rows,E=((T=f.current)==null?void 0:T.contains(document.activeElement))===!0||((L=s.current)==null?void 0:L.contains(document.activeElement))===!0;let W;if(B.current!==void 0?W=[B.current.range.x,B.current.range.y]:p.length===1?W=[p.first()??0,0]:I.length===1&&(W=[D,I.first()??0]),E&&W!==void 0){let N,Q;const he="text/plain",ee="text/html";if(navigator.clipboard.read!==void 0){const xe=await navigator.clipboard.read();for(const ge of xe){if(ge.types.includes(ee)){const ut=await(await ge.getType(ee)).text(),It=yl(ut);if(It!==void 0){N=It;break}}ge.types.includes(he)&&(Q=await(await ge.getType(he)).text())}}else if(navigator.clipboard.readText!==void 0)Q=await navigator.clipboard.readText();else if(d!==void 0&&(d==null?void 0:d.clipboardData)!==null){if(d.clipboardData.types.includes(ee)){const xe=d.clipboardData.getData(ee);N=yl(xe)}N===void 0&&d.clipboardData.types.includes(he)&&(Q=d.clipboardData.getData(he))}else return;const[we,le]=W,Ue=[];do{if(Oe===void 0){const xe=qt(W),ge=Q??(N==null?void 0:N.map(ut=>ut.map(It=>It.rawValue).join("	")).join("	"))??"",Je=v(xe,W,ge,void 0);Je!==void 0&&Ue.push(Je);break}if(N===void 0){if(Q===void 0)return;N=ud(Q)}if(Oe===!1||typeof Oe=="function"&&(Oe==null?void 0:Oe([W[0]-D,W[1]],N.map(xe=>xe.map(ge=>{var Je;return((Je=ge.rawValue)==null?void 0:Je.toString())??""}))))!==!0)return;for(const[xe,ge]of N.entries()){if(xe+le>=ve)break;for(const[Je,ut]of ge.entries()){const It=[Je+we,xe+le],[gn,kn]=It;if(gn>=Ke.length||kn>=Yt)continue;const mn=qt(It),Sn=v(mn,It,ut.rawValue,ut.formatted);Sn!==void 0&&Ue.push(Sn)}}}while(!1);rn(Ue),($=Vt.current)==null||$.damage(Ue.map(xe=>({cell:xe.location})))}},[S,De,qt,B,vn.paste,Ke.length,rn,Yt,Oe,D,ve]);Ot("paste",li,w,!1,!0);const Uo=a.useCallback(async(d,v)=>{var T,L;if(!vn.copy)return;const p=v===!0||((T=f.current)==null?void 0:T.contains(document.activeElement))===!0||((L=s.current)==null?void 0:L.contains(document.activeElement))===!0,I=B.columns,E=B.rows,W=($,N)=>{if(!ae)pl($,N,d);else{const Q=N.map(he=>({kind:Z.Text,data:C[he].title,displayData:C[he].title,allowOverlay:!1}));pl([Q,...$],N,d)}};if(p&&Rt!==void 0){if(B.current!==void 0){let $=Rt(B.current.range,zt.current.signal);typeof $!="object"&&($=await $()),W($,ro(B.current.range.x-D,B.current.range.x+B.current.range.width-D))}else if(E!==void 0&&E.length>0){const N=[...E].map(Q=>{const he=Rt({x:D,y:Q,width:C.length,height:1},zt.current.signal);return typeof he=="object"?he[0]:he().then(ee=>ee[0])});if(N.some(Q=>Q instanceof Promise)){const Q=await Promise.all(N);W(Q,ro(C.length))}else W(N,ro(C.length))}else if(I.length>0){const $=[],N=[];for(const Q of I){let he=Rt({x:Q,y:0,width:1,height:ve},zt.current.signal);typeof he!="object"&&(he=await he()),$.push(he),N.push(Q-D)}if($.length===1)W($[0],N);else{const Q=$.reduce((he,ee)=>he.map((we,le)=>[...we,...ee[le]]));W(Q,N)}}}},[C,Rt,B,vn.copy,D,ve,ae]);Ot("copy",Uo,w,!1,!1);const ks=a.useCallback(async d=>{var p,I;if(!(!vn.cut||!(((p=f.current)==null?void 0:p.contains(document.activeElement))===!0||((I=s.current)==null?void 0:I.contains(document.activeElement))===!0))&&(await Uo(d),B.current!==void 0)){let E={current:{cell:B.current.cell,range:B.current.range,rangeStack:[]},rows:rt.empty(),columns:rt.empty()};const W=te==null?void 0:te(E);if(W===!1||(E=W===!0?E:W,E.current===void 0))return;to(E.current.range)}},[to,B,vn.cut,Uo,te]);Ot("cut",ks,w,!1,!1);const Ss=a.useCallback((d,v)=>{if(be!==void 0){D!==0&&(d=d.map(E=>[E[0]-D,E[1]])),be(d,v);return}if(d.length===0||v===-1)return;const[p,I]=d[v];m.current!==void 0&&m.current[0]===p&&m.current[1]===I||(m.current=[p,I],Gn(p,I,!1,!1))},[be,D,Gn]),[kr,Sr]=((qi=ft==null?void 0:ft.current)==null?void 0:qi.cell)??[],Mr=a.useRef(Et);Mr.current=Et,a.useLayoutEffect(()=>{var d,v,p,I;!un.current&&kr!==void 0&&Sr!==void 0&&(kr!==((v=(d=po.current)==null?void 0:d.current)==null?void 0:v.cell[0])||Sr!==((I=(p=po.current)==null?void 0:p.current)==null?void 0:I.cell[1]))&&Mr.current(kr,Sr),un.current=!1},[kr,Sr]);const Yi=B.current!==void 0&&(B.current.cell[0]>=Ke.length||B.current.cell[1]>=Yt);a.useLayoutEffect(()=>{Yi&&Pt(Tr,!1)},[Yi,Pt]);const Ms=a.useMemo(()=>gt===!0&&(pe==null?void 0:pe.tint)===!0?rt.fromSingleSelection(Yt-1):rt.empty(),[Yt,gt,pe==null?void 0:pe.tint]),Rs=a.useCallback(d=>typeof Be=="boolean"?Be:(Be==null?void 0:Be(d-D))??!0,[D,Be]),Es=a.useMemo(()=>{if(ei===void 0||s.current===null)return null;const{bounds:d,group:v}=ei,p=s.current.getBoundingClientRect();return a.createElement(ed,{bounds:d,group:v,canvasBounds:p,onClose:()=>ti(void 0),onFinish:I=>{ti(void 0),ye==null||ye(v,I)}})},[ye,ei]),Is=Math.min(Ke.length,Ce+(tn?1:0));a.useImperativeHandle(t,()=>({appendRow:(d,v)=>ko(d+D,v),updateCells:d=>{var v;return D!==0&&(d=d.map(p=>({cell:[p.cell[0]+D,p.cell[1]]}))),(v=Vt.current)==null?void 0:v.damage(d)},getBounds:(d,v)=>{var p;if(!((s==null?void 0:s.current)===null||(f==null?void 0:f.current)===null)){if(d===void 0&&v===void 0){const I=s.current.getBoundingClientRect(),E=I.width/f.current.clientWidth;return{x:I.x-f.current.scrollLeft*E,y:I.y-f.current.scrollTop*E,width:f.current.scrollWidth*E,height:f.current.scrollHeight*E}}return(p=Vt.current)==null?void 0:p.getBounds((d??0)+D,v)}},focus:()=>{var d;return(d=Vt.current)==null?void 0:d.focus()},emit:async d=>{switch(d){case"delete":Ko({bounds:void 0,cancel:()=>{},stopPropagation:()=>{},preventDefault:()=>{},ctrlKey:!1,key:"Delete",keyCode:46,metaKey:!1,shiftKey:!1,altKey:!1,rawEvent:void 0,location:void 0});break;case"fill-right":Ko({bounds:void 0,cancel:()=>{},stopPropagation:()=>{},preventDefault:()=>{},ctrlKey:!0,key:"r",keyCode:82,metaKey:!1,shiftKey:!1,altKey:!1,rawEvent:void 0,location:void 0});break;case"fill-down":Ko({bounds:void 0,cancel:()=>{},stopPropagation:()=>{},preventDefault:()=>{},ctrlKey:!0,key:"d",keyCode:68,metaKey:!1,shiftKey:!1,altKey:!1,rawEvent:void 0,location:void 0});break;case"copy":await Uo(void 0,!0);break;case"paste":await li();break}},scrollTo:Et,remeasureColumns:d=>{for(const v of d)Cr(v+D)}}),[ko,Cr,Uo,Ko,li,D,Et]);const[Gi,Ki]=xn??[],Ds=a.useCallback(d=>{const[v,p]=d;if(p===-1){je!=="none"&&(se(rt.fromSingleSelection(v),void 0,!1),Gt());return}Gi===v&&Ki===p||(_({cell:d,range:{x:v,y:p,width:1,height:1}},!0,!1,"keyboard-nav"),Et(v,p))},[je,Gt,Et,Gi,Ki,_,se]),[Fs,Hs]=a.useState(!1),Ui=a.useRef(Rl(d=>{Hs(d)},5)),Ts=a.useCallback(()=>{Ui.current(!0),B.current===void 0&&B.columns.length===0&&B.rows.length===0&&c===void 0&&_({cell:[D,mr],range:{x:D,y:mr,width:1,height:1}},!0,!1,"keyboard-select")},[mr,B,c,D,_]),As=a.useCallback(()=>{Ui.current(!1)},[]),[zs,Bs]=a.useMemo(()=>{let d;const v=(qe==null?void 0:qe.scrollbarWidthOverride)??wi(),p=ve+(gt?1:0);if(typeof Ut=="number")d=Wt+p*Ut;else{let E=0;const W=Math.min(p,10);for(let T=0;T<W;T++)E+=Ut(T);E=Math.floor(E/W),d=Wt+p*E}d+=v;const I=Ke.reduce((E,W)=>W.width+E,0)+v;return[`${Math.min(1e5,I)}px`,`${Math.min(1e5,d)}px`]},[Ke,qe==null?void 0:qe.scrollbarWidthOverride,Ut,ve,gt,Wt]),Ls=a.useMemo(()=>Ea(ce),[ce]);return a.createElement(Gl.Provider,{value:ce},a.createElement(md,{style:Ls,className:Me,inWidth:b??zs,inHeight:x??Bs},a.createElement(jc,{fillHandle:Mt,drawFocusRing:so,experimental:qe,fixedShadowX:Tt,fixedShadowY:In,getRowThemeOverride:en,headerIcons:ir,imageWindowLoader:Bn,initialSize:Dn,isDraggable:Fn,onDragLeave:ao,onRowMoved:Ln,overscrollX:fr,overscrollY:hr,preventDiagonalScrolling:uo,rightElement:fo,rightElementProps:ho,smoothScrollX:Wn,smoothScrollY:Xr,className:Me,enableGroups:pt,onCanvasFocused:Ts,onCanvasBlur:As,canvasRef:s,onContextMenu:xs,theme:ce,cellXOffset:ss,cellYOffset:mr,accessibilityHeight:Bt.height,onDragEnd:bs,columns:Ke,nonGrowWidth:Ge,drawHeader:U,onColumnProposeMove:M,drawCell:de,disabledRows:Ms,freezeColumns:Is,lockColumns:D,firstColAccessible:D===0,getCellContent:qt,minColumnWidth:pn,maxColumnWidth:dn,searchInputRef:l,showSearch:Ur,onSearchClose:_r,highlightRegions:as,getCellsForSelection:Rt,getGroupDetails:Jr,headerHeight:Wo,isFocused:Fs,groupHeaderHeight:pt?Oo:0,freezeTrailingRows:ht+(gt&&(pe==null?void 0:pe.sticky)===!0?1:0),hasAppendRow:gt,onColumnResize:Xn,onColumnResizeEnd:jr,onColumnResizeStart:k,onCellFocused:Ds,onColumnMoved:ws,onDragStart:ys,onHeaderMenuClick:hs,onHeaderIndicatorClick:gs,onItemHovered:ii,isFilling:(c==null?void 0:c.fillHandle)===!0,onMouseMove:fs,onKeyDown:Ko,onKeyUp:tt,onMouseDown:cs,onMouseUp:us,onDragOverCell:St,onDrop:dt,onSearchResultsChanged:Ss,onVisibleRegionChanged:ms,clientSize:ue,rowHeight:Ut,searchResults:V,searchValue:Re,onSearchValueChange:Fe,rows:Yt,scrollRef:f,selection:B,translateX:Bt.tx,translateY:Bt.ty,verticalBorder:Rs,gridRef:Vt,getCellRenderer:De,resizeIndicator:cr}),Es,r!==void 0&&a.createElement(a.Suspense,{fallback:null},a.createElement(Sd,{...r,validateCell:bo,bloom:A,id:Cs,getCellRenderer:De,className:(qe==null?void 0:qe.isSubGrid)===!0?"click-outside-ignore":void 0,provideEditor:cn,imageEditorOverride:g,onFinishEditing:vs,markdownDivCreateNode:y,isOutsideClick:Gr}))))},Id=a.forwardRef(Ed),xl=20,Dd={getAccessibilityString:e=>{var t;return((t=e.data)==null?void 0:t.toString())??"false"},kind:Z.Boolean,needsHover:!0,useLabel:!1,needsHoverPosition:!0,measure:()=>50,draw:e=>Fd(e,e.cell.data,mi(e.cell),e.cell.maxSize??xl),onDelete:e=>({...e,data:!1}),onClick:e=>{const{cell:t,posX:n,posY:o,bounds:r,theme:i}=e,{width:l,height:s,x:c,y:u}=r,f=t.maxSize??xl,m=Math.floor(r.y+s/2),w=Fl(f,s,i.cellVerticalPadding),g=Dl(t.contentAlign??"center",c,l,i.cellHorizontalPadding,w),h=Il(g,m,w),y=Hl(c+n,u+o,h);if(mi(t)&&y)return{...t,data:rs(t.data)}},onPaste:(e,t)=>{let n=zr;return e.toLowerCase()==="true"?n=!0:e.toLowerCase()==="false"?n=!1:e.toLowerCase()==="indeterminate"&&(n=Ci),n===t.data?void 0:{...t,data:n}}};function Fd(e,t,n,o){if(!n&&t===zr)return;const{ctx:r,hoverAmount:i,theme:l,rect:s,highlighted:c,hoverX:u,hoverY:f,cell:{contentAlign:m}}=e,{x:w,y:g,width:h,height:y}=s,b=.35;let x=n?1-b+b*i:.4;t===zr&&(x*=i),x!==0&&(r.globalAlpha=x,Ei(r,l,t,w,g,h,y,c,u,f,o,m),r.globalAlpha=1)}const Hd=Qt("div")({name:"BubblesOverlayEditorStyle",class:"gdg-b1ygi5by",propsAsIs:!1}),Td=e=>{const{bubbles:t}=e;return a.createElement(Hd,null,t.map((n,o)=>a.createElement("div",{key:o,className:"boe-bubble"},n)),a.createElement("textarea",{className:"gdg-input",autoFocus:!0}))},Ad=Td,zd={getAccessibilityString:e=>Tl(e.data),kind:Z.Bubble,needsHover:!1,useLabel:!1,needsHoverPosition:!1,measure:(e,t,n)=>t.data.reduce((o,r)=>e.measureText(r).width+o+20,0)+2*n.cellHorizontalPadding-4,draw:e=>Ld(e,e.cell.data),provideEditor:()=>e=>{const{value:t}=e;return a.createElement(Ad,{bubbles:t.data})},onPaste:()=>{}},Bd=4;function Ld(e,t){const{rect:n,theme:o,ctx:r,highlighted:i}=e,{x:l,y:s,width:c,height:u}=n,f=20,m=8,w=Bd;let g=l+o.cellHorizontalPadding;const h=[];for(const y of t){if(g>l+c)break;const b=Bo(y,r,o.baseFontFull).width;h.push({x:g,width:b}),g+=b+m*2+w}r.beginPath();for(const y of h)Rn(r,y.x,s+(u-f)/2,y.width+m*2,f,o.roundingRadius??f/2);r.fillStyle=i?o.bgBubbleSelected:o.bgBubble,r.fill();for(const[y,b]of h.entries())r.beginPath(),r.fillStyle=o.textBubble,r.fillText(t[y],b.x+m,s+u/2+qn(r,o))}const Pd=Qt("div")({name:"DrilldownOverlayEditorStyle",class:"gdg-d4zsq0x",propsAsIs:!1}),Wd=e=>{const{drilldowns:t}=e;return a.createElement(Pd,null,t.map((n,o)=>a.createElement("div",{key:o,className:"doe-bubble"},n.img!==void 0&&a.createElement("img",{src:n.img}),a.createElement("div",null,n.text))))},Od=Wd,$d={getAccessibilityString:e=>Tl(e.data.map(t=>t.text)),kind:Z.Drilldown,needsHover:!1,useLabel:!1,needsHoverPosition:!1,measure:(e,t,n)=>t.data.reduce((o,r)=>e.measureText(r.text).width+o+20+(r.img!==void 0?18:0),0)+2*n.cellHorizontalPadding-4,draw:e=>Yd(e,e.cell.data),provideEditor:()=>e=>{const{value:t}=e;return a.createElement(Od,{drilldowns:t.data})},onPaste:()=>{}},Nd=4,fi={};function Xd(e,t,n,o){const r=Math.ceil(window.devicePixelRatio),i=5,l=n-i*2,s=4,c=n*r,u=o+i,f=o*3,m=(f+i*2)*r,w=`${e},${t},${r},${n}`;if(fi[w]!==void 0)return{el:fi[w],height:c,width:m,middleWidth:s*r,sideWidth:u*r,padding:i*r,dpr:r};const g=document.createElement("canvas"),h=g.getContext("2d");return h===null?null:(g.width=m,g.height=c,h.scale(r,r),fi[w]=g,h.beginPath(),Rn(h,i,i,f,l,o),h.shadowColor="rgba(24, 25, 34, 0.4)",h.shadowBlur=1,h.fillStyle=e,h.fill(),h.shadowColor="rgba(24, 25, 34, 0.3)",h.shadowOffsetY=1,h.shadowBlur=5,h.fillStyle=e,h.fill(),h.shadowOffsetY=0,h.shadowBlur=0,h.shadowBlur=0,h.beginPath(),Rn(h,i+.5,i+.5,f,l,o),h.strokeStyle=t,h.lineWidth=1,h.stroke(),{el:g,height:c,width:m,sideWidth:u*r,middleWidth:o*r,padding:i*r,dpr:r})}function Yd(e,t){const{rect:n,theme:o,ctx:r,imageLoader:i,col:l,row:s}=e,{x:c,width:u}=n,f=o.baseFontFull,m=Ol(r,f),w=Math.min(n.height,Math.max(16,Math.ceil(m*o.lineHeight)*2)),g=Math.floor(n.y+(n.height-w)/2),h=w-10,y=8,b=Nd;let x=c+o.cellHorizontalPadding;const C=o.roundingRadius??6,z=Xd(o.bgCell,o.drilldownBorder,w,C),X=[];for(const Y of t){if(x>c+u)break;const H=Bo(Y.text,r,f).width;let K=0;Y.img!==void 0&&i.loadOrGetImage(Y.img,l,s)!==void 0&&(K=h-8+4);const S=H+K+y*2;X.push({x,width:S}),x+=S+b}if(z!==null){const{el:Y,height:F,middleWidth:H,sideWidth:K,width:S,dpr:O,padding:P}=z,A=K/O,R=P/O;for(const M of X){const ie=Math.floor(M.x),ne=Math.floor(M.width),oe=ne-(A-R)*2;r.imageSmoothingEnabled=!1,r.drawImage(Y,0,0,K,F,ie-R,g,A,w),oe>0&&r.drawImage(Y,K,0,H,F,ie+(A-R),g,oe,w),r.drawImage(Y,S-K,0,K,F,ie+ne-(A-R),g,A,w),r.imageSmoothingEnabled=!0}}r.beginPath();for(const[Y,F]of X.entries()){const H=t[Y];let K=F.x+y;if(H.img!==void 0){const S=i.loadOrGetImage(H.img,l,s);if(S!==void 0){const O=h-8;let P=0,A=0,R=S.width,M=S.height;R>M?(P+=(R-M)/2,R=M):M>R&&(A+=(M-R)/2,M=R),r.beginPath(),Rn(r,K,g+w/2-O/2,O,O,o.roundingRadius??3),r.save(),r.clip(),r.drawImage(S,P,A,R,M,K,g+w/2-O/2,O,O),r.restore(),K+=O+4}}r.beginPath(),r.fillStyle=o.textBubble,r.fillText(H.text,K,g+w/2+qn(r,o))}}const Gd={getAccessibilityString:e=>e.data.join(", "),kind:Z.Image,needsHover:!1,useLabel:!1,needsHoverPosition:!1,draw:e=>Kd(e,e.cell.displayData??e.cell.data,e.cell.rounding??e.theme.roundingRadius??4,e.cell.contentAlign),measure:(e,t)=>t.data.length*50,onDelete:e=>({...e,data:[]}),provideEditor:()=>e=>{const{value:t,onFinishedEditing:n,imageEditorOverride:o}=e,r=o??ia;return a.createElement(r,{urls:t.data,canWrite:t.readonly!==!1,onCancel:n,onChange:i=>{n({...t,data:[i]})}})},onPaste:(e,t)=>{e=e.trim();const o=e.split(",").map(r=>{try{return new URL(r),r}catch{return}}).filter(r=>r!==void 0);if(!(o.length===t.data.length&&o.every((r,i)=>r===t.data[i])))return{...t,data:o}}},hi=4;function Kd(e,t,n,o){const{rect:r,col:i,row:l,theme:s,ctx:c,imageLoader:u}=e,{x:f,y:m,height:w,width:g}=r,h=w-s.cellVerticalPadding*2,y=[];let b=0;for(let C=0;C<t.length;C++){const z=t[C];if(z.length===0)continue;const X=u.loadOrGetImage(z,i,l);if(X!==void 0){y[C]=X;const Y=X.width*(h/X.height);b+=Y+hi}}if(b===0)return;b-=hi;let x=f+s.cellHorizontalPadding;o==="right"?x=Math.floor(f+g-s.cellHorizontalPadding-b):o==="center"&&(x=Math.floor(f+g/2-b/2));for(const C of y){if(C===void 0)continue;const z=C.width*(h/C.height);n>0&&(c.beginPath(),Rn(c,x,m+s.cellVerticalPadding,z,h,n),c.save(),c.clip()),c.drawImage(C,x,m+s.cellVerticalPadding,z,h),n>0&&c.restore(),x+=z+hi}}function Ud(e,t){let n=e*49632+t*325176;return n^=n<<13,n^=n>>17,n^=n<<5,n/4294967295*2}const _d={getAccessibilityString:()=>"",kind:Z.Loading,needsHover:!1,useLabel:!1,needsHoverPosition:!1,measure:()=>120,draw:e=>{const{cell:t,col:n,row:o,ctx:r,rect:i,theme:l}=e;if(t.skeletonWidth===void 0||t.skeletonWidth===0)return;let s=t.skeletonWidth;t.skeletonWidthVariability!==void 0&&t.skeletonWidthVariability>0&&(s+=Math.round(Ud(n,o)*t.skeletonWidthVariability));const c=l.cellHorizontalPadding,u=t.skeletonHeight??Math.min(18,i.height-2*l.cellVerticalPadding);Rn(r,i.x+c,i.y+(i.height-u)/2,s,u,l.roundingRadius??3),r.fillStyle=io(l.textDark,.1),r.fill()},onPaste:()=>{}},Vd=()=>e=>e.targetWidth,kl=Qt("div")({name:"MarkdownOverlayEditorStyle",class:"gdg-m1pnx84e",propsAsIs:!1,vars:{"m1pnx84e-0":[Vd(),"px"]}}),qd=e=>{const{value:t,onChange:n,forceEditMode:o,createNode:r,targetRect:i,onFinish:l,validatedSelection:s}=e,c=t.data,u=t.readonly===!0,[f,m]=a.useState(c===""||o),w=a.useCallback(()=>{m(h=>!h)},[]),g=c?"gdg-ml-6":"";return f?a.createElement(kl,{targetWidth:i.width-20},a.createElement($r,{autoFocus:!0,highlight:!1,validatedSelection:s,value:c,onKeyDown:h=>{h.key==="Enter"&&h.stopPropagation()},onChange:n}),a.createElement("div",{className:`gdg-edit-icon gdg-checkmark-hover ${g}`,onClick:()=>l(t)},a.createElement(Js,null))):a.createElement(kl,{targetWidth:i.width},a.createElement(sa,{contents:c,createNode:r}),!u&&a.createElement(a.Fragment,null,a.createElement("div",{className:"spacer"}),a.createElement("div",{className:`gdg-edit-icon gdg-edit-hover ${g}`,onClick:w},a.createElement(xi,null))),a.createElement("textarea",{className:"gdg-md-edit-textarea gdg-input",autoFocus:!0}))},jd={getAccessibilityString:e=>{var t;return((t=e.data)==null?void 0:t.toString())??""},kind:Z.Markdown,needsHover:!1,needsHoverPosition:!1,drawPrep:rr,measure:(e,t,n)=>{const o=t.data.split(`
`)[0];return e.measureText(o).width+2*n.cellHorizontalPadding},draw:e=>Mn(e,e.cell.data,e.cell.contentAlign),onDelete:e=>({...e,data:""}),provideEditor:()=>e=>{const{onChange:t,value:n,target:o,onFinishedEditing:r,markdownDivCreateNode:i,forceEditMode:l,validatedSelection:s}=e;return a.createElement(qd,{onFinish:r,targetRect:o,value:n,validatedSelection:s,onChange:c=>t({...n,data:c.target.value}),forceEditMode:l,createNode:i})},onPaste:(e,t)=>e===t.data?void 0:{...t,data:e}},Zd={getAccessibilityString:e=>e.row.toString(),kind:an.Marker,needsHover:!0,needsHoverPosition:!1,drawPrep:Jd,measure:()=>44,draw:e=>eu(e,e.cell.row,e.cell.checked,e.cell.markerKind,e.cell.drawHandle,e.cell.checkboxStyle),onClick:e=>{const{bounds:t,cell:n,posX:o,posY:r}=e,{width:i,height:l}=t,s=n.drawHandle?7+(i-7)/2:i/2,c=l/2;if(Math.abs(o-s)<=10&&Math.abs(r-c)<=10)return{...n,checked:!n.checked}},onPaste:()=>{}};function Jd(e,t){const{ctx:n,theme:o}=e,r=o.markerFontFull,i=t??{};return(i==null?void 0:i.font)!==r&&(n.font=r,i.font=r),i.deprep=Qd,n.textAlign="center",i}function Qd(e){const{ctx:t}=e;t.textAlign="start"}function eu(e,t,n,o,r,i){const{ctx:l,rect:s,hoverAmount:c,theme:u}=e,{x:f,y:m,width:w,height:g}=s,h=n?1:o==="checkbox-visible"?.6+.4*c:c;if(o!=="number"&&h>0){l.globalAlpha=h;const y=7*(n?c:1);if(Ei(l,u,n,r?f+y:f,m,r?w-y:w,g,!0,void 0,void 0,18,"center",i),r){l.globalAlpha=c,l.beginPath();for(const b of[3,6])for(const x of[-5,-1,3])l.rect(f+b,m+g/2+x,2,2);l.fillStyle=u.textLight,l.fill(),l.beginPath()}l.globalAlpha=1}if(o==="number"||o==="both"&&!n){const y=t.toString(),b=u.markerFontFull,x=f+w/2;o==="both"&&c!==0&&(l.globalAlpha=1-c),l.fillStyle=u.textLight,l.font=b,l.fillText(y,x,m+g/2+qn(l,b)),c!==0&&(l.globalAlpha=1)}}const tu={getAccessibilityString:()=>"",kind:an.NewRow,needsHover:!0,needsHoverPosition:!1,measure:()=>200,draw:e=>nu(e,e.cell.hint,e.cell.icon),onPaste:()=>{}};function nu(e,t,n){const{ctx:o,rect:r,hoverAmount:i,theme:l,spriteManager:s}=e,{x:c,y:u,width:f,height:m}=r;o.beginPath(),o.globalAlpha=i,o.rect(c+1,u+1,f,m-2),o.fillStyle=l.bgHeaderHovered,o.fill(),o.globalAlpha=1,o.beginPath();const w=t!=="";let g=0;if(n!==void 0){const y=m-8,b=c+8/2,x=u+8/2;s.drawSprite(n,"normal",o,b,x,y,l,w?1:i),g=y}else{g=24;const h=12,y=w?h:i*h,b=w?0:(1-i)*h*.5,x=l.cellHorizontalPadding+4;y>0&&(o.moveTo(c+x+b,u+m/2),o.lineTo(c+x+b+y,u+m/2),o.moveTo(c+x+b+y*.5,u+m/2-y*.5),o.lineTo(c+x+b+y*.5,u+m/2+y*.5),o.lineWidth=2,o.strokeStyle=l.bgIconHeader,o.lineCap="round",o.stroke())}o.fillStyle=l.textMedium,o.fillText(t,g+c+l.cellHorizontalPadding+.5,u+m/2+qn(o,l)),o.beginPath()}const ou=a.lazy(async()=>await Ml(()=>import("./number-overlay-editor-3ljU3NGx.js"),__vite__mapDeps([8,1,3,9]),import.meta.url)),ru={getAccessibilityString:e=>{var t;return((t=e.data)==null?void 0:t.toString())??""},kind:Z.Number,needsHover:!1,needsHoverPosition:!1,useLabel:!0,drawPrep:rr,draw:e=>Mn(e,e.cell.displayData,e.cell.contentAlign),measure:(e,t,n)=>e.measureText(t.displayData).width+n.cellHorizontalPadding*2,onDelete:e=>({...e,data:void 0}),provideEditor:()=>e=>{const{isHighlighted:t,onChange:n,value:o,validatedSelection:r}=e;return a.createElement(a.Suspense,{fallback:null},a.createElement(ou,{highlight:t,disabled:o.readonly===!0,value:o.data,fixedDecimals:o.fixedDecimals,allowNegative:o.allowNegative,thousandSeparator:o.thousandSeparator,decimalSeparator:o.decimalSeparator,validatedSelection:r,onChange:i=>n({...o,data:Number.isNaN(i.floatValue??0)?0:i.floatValue})}))},onPaste:(e,t,n)=>{const o=typeof n.rawValue=="number"?n.rawValue:Number.parseFloat(typeof n.rawValue=="string"?n.rawValue:e);if(!(Number.isNaN(o)||t.data===o))return{...t,data:o,displayData:n.formattedString??t.displayData}}},iu={getAccessibilityString:()=>"",measure:()=>108,kind:Z.Protected,needsHover:!1,needsHoverPosition:!1,draw:lu,onPaste:()=>{}};function lu(e){const{ctx:t,theme:n,rect:o}=e,{x:r,y:i,height:l}=o;t.beginPath();const s=2.5;let c=r+n.cellHorizontalPadding+s;const u=i+l/2,f=Math.cos(tl(30))*s,m=Math.sin(tl(30))*s;for(let w=0;w<12;w++)t.moveTo(c,u-s),t.lineTo(c,u+s),t.moveTo(c+f,u-m),t.lineTo(c-f,u+m),t.moveTo(c-f,u-m),t.lineTo(c+f,u+m),c+=8;t.lineWidth=1.1,t.lineCap="square",t.strokeStyle=n.textLight,t.stroke()}const su={getAccessibilityString:e=>{var t;return((t=e.data)==null?void 0:t.toString())??""},kind:Z.RowID,needsHover:!1,needsHoverPosition:!1,drawPrep:(e,t)=>rr(e,t,e.theme.textLight),draw:e=>Mn(e,e.cell.data,e.cell.contentAlign),measure:(e,t,n)=>e.measureText(t.data).width+n.cellHorizontalPadding*2,provideEditor:()=>e=>{const{isHighlighted:t,onChange:n,value:o,validatedSelection:r}=e;return yt.createElement($r,{highlight:t,autoFocus:o.readonly!==!0,disabled:o.readonly!==!1,value:o.data,validatedSelection:r,onChange:i=>n({...o,data:i.target.value})})},onPaste:()=>{}},au={getAccessibilityString:e=>{var t;return((t=e.data)==null?void 0:t.toString())??""},kind:Z.Text,needsHover:e=>e.hoverEffect===!0,needsHoverPosition:!1,drawPrep:rr,useLabel:!0,draw:e=>{const{cell:t,hoverAmount:n,hyperWrapping:o,ctx:r,rect:i,theme:l,overrideCursor:s}=e,{displayData:c,contentAlign:u,hoverEffect:f,allowWrapping:m}=t;if(f===!0&&n>0){r.textBaseline="alphabetic";const w=l.cellHorizontalPadding,g=l.cellVerticalPadding,h=Bo(c,r,l.baseFontFull,"alphabetic"),y=i.height-g,b=Math.min(y,h.actualBoundingBoxAscent*2.5);r.beginPath(),Rn(r,i.x+w/2,i.y+(i.height-b)/2+1,h.width+w*3,b-1,l.roundingRadius??4),r.globalAlpha=n,r.fillStyle=io(l.textDark,.1),r.fill(),r.globalAlpha=1,r.fillStyle=l.textDark,r.textBaseline="middle",s==null||s("text")}Mn(e,c,u,m,o)},measure:(e,t,n)=>{const o=t.displayData.split(`
`,t.allowWrapping===!0?void 0:1);let r=0;for(const i of o)r=Math.max(r,e.measureText(i).width);return r+2*n.cellHorizontalPadding},onDelete:e=>({...e,data:""}),provideEditor:e=>({disablePadding:e.allowWrapping===!0,editor:t=>{const{isHighlighted:n,onChange:o,value:r,validatedSelection:i}=t;return a.createElement($r,{style:e.allowWrapping===!0?{padding:"3px 8.5px"}:void 0,highlight:n,autoFocus:r.readonly!==!0,disabled:r.readonly===!0,altNewline:!0,value:r.data,validatedSelection:i,onChange:l=>o({...r,data:l.target.value})})}}),onPaste:(e,t,n)=>e===t.data?void 0:{...t,data:e,displayData:n.formattedString??t.displayData}},cu=Qt("div")({name:"UriOverlayEditorStyle",class:"gdg-u1rrojo",propsAsIs:!1}),du=e=>{const{uri:t,onChange:n,forceEditMode:o,readonly:r,validatedSelection:i,preview:l}=e,[s,c]=a.useState(!r&&(t===""||o)),u=a.useCallback(()=>{c(!0)},[]);return s?a.createElement($r,{validatedSelection:i,highlight:!0,autoFocus:!0,value:t,onChange:n}):a.createElement(cu,null,a.createElement("a",{className:"gdg-link-area",href:t,target:"_blank",rel:"noopener noreferrer"},l),!r&&a.createElement("div",{className:"gdg-edit-icon",onClick:u},a.createElement(xi,null)),a.createElement("textarea",{className:"gdg-input",autoFocus:!0}))},uu=du;function Sl(e,t,n,o){let r=n.cellHorizontalPadding;const i=t.height/2-e.actualBoundingBoxAscent/2,l=e.width,s=e.actualBoundingBoxAscent;return o==="right"?r=t.width-l-n.cellHorizontalPadding:o==="center"&&(r=t.width/2-l/2),{x:r,y:i,width:l,height:s}}const fu={getAccessibilityString:e=>{var t;return((t=e.data)==null?void 0:t.toString())??""},kind:Z.Uri,needsHover:e=>e.hoverEffect===!0,needsHoverPosition:!0,useLabel:!0,drawPrep:rr,draw:e=>{const{cell:t,theme:n,overrideCursor:o,hoverX:r,hoverY:i,rect:l,ctx:s}=e,c=t.displayData??t.data,u=t.hoverEffect===!0;if(o!==void 0&&u&&r!==void 0&&i!==void 0){const f=Bo(c,s,n.baseFontFull),m=Sl(f,l,n,t.contentAlign),{x:w,y:g,width:h,height:y}=m;if(r>=w-4&&r<=w-4+h+8&&i>=g-4&&i<=g-4+y+8){const b=qn(s,n.baseFontFull);o("pointer");const x=5,C=g-b;s.beginPath(),s.moveTo(l.x+w,Math.floor(l.y+C+y+x)+.5),s.lineTo(l.x+w+h,Math.floor(l.y+C+y+x)+.5),s.strokeStyle=n.linkColor,s.stroke(),s.save(),s.fillStyle=e.cellFillColor,Mn({...e,rect:{...l,x:l.x-1}},c,t.contentAlign),Mn({...e,rect:{...l,x:l.x-2}},c,t.contentAlign),Mn({...e,rect:{...l,x:l.x+1}},c,t.contentAlign),Mn({...e,rect:{...l,x:l.x+2}},c,t.contentAlign),s.restore()}}s.fillStyle=u?n.linkColor:n.textDark,Mn(e,c,t.contentAlign)},onClick:e=>{const{cell:t,bounds:n,posX:o,posY:r,theme:i}=e,l=t.displayData??t.data;if(t.hoverEffect!==!0||t.onClickUri===void 0)return;const s=Pl(l,i.baseFontFull);if(s===void 0)return;const c=Sl(s,n,i,t.contentAlign);Ho({x:c.x-4,y:c.y-4,width:c.width+8,height:c.height+8},o,r)&&t.onClickUri(e)},measure:(e,t,n)=>e.measureText(t.displayData??t.data).width+n.cellHorizontalPadding*2,onDelete:e=>({...e,data:""}),provideEditor:e=>t=>{const{onChange:n,value:o,forceEditMode:r,validatedSelection:i}=t;return a.createElement(uu,{forceEditMode:o.readonly!==!0&&(r||e.hoverEffect===!0&&e.onClickUri!==void 0),uri:o.data,preview:o.displayData??o.data,validatedSelection:i,readonly:o.readonly===!0,onChange:l=>n({...o,data:l.target.value})})},onPaste:(e,t,n)=>e===t.data?void 0:{...t,data:e,displayData:n.formattedString??t.displayData}},hu=[Zd,tu,Dd,zd,$d,Gd,_d,jd,ru,iu,su,au,fu],gi=[];class gu extends Nl{constructor(){super(...arguments);Ne(this,"imageLoaded",()=>{});Ne(this,"loadedLocations",[]);Ne(this,"cache",{});Ne(this,"sendLoaded",Gs(()=>{this.imageLoaded(new er(this.loadedLocations)),this.loadedLocations=[]},20));Ne(this,"clearOutOfWindow",()=>{const n=Object.keys(this.cache);for(const o of n){const r=this.cache[o];let i=!1;for(let l=0;l<r.cells.length;l++){const s=r.cells[l];if(this.isInWindow(s)){i=!0;break}}i?r.cells=r.cells.filter(this.isInWindow):(r.cancel(),delete this.cache[o])}})}setCallback(n){this.imageLoaded=n}loadImage(n,o,r,i){let l=!1;const s=gi.pop()??new Image;let c=!1;const u={img:void 0,cells:[wn(o,r)],url:n,cancel:()=>{c||(c=!0,gi.length<12?gi.unshift(s):l||(s.src=""))}},f=new Promise(m=>s.addEventListener("load",()=>m(null)));requestAnimationFrame(async()=>{try{s.src=n,await f,await s.decode();const m=this.cache[i];if(m!==void 0&&!c){m.img=s;for(const w of m.cells)this.loadedLocations.push(Ri(w));l=!0,this.sendLoaded()}}catch{u.cancel()}}),this.cache[i]=u}loadOrGetImage(n,o,r){const i=n,l=this.cache[i];if(l!==void 0){const s=wn(o,r);return l.cells.includes(s)||l.cells.push(s),l.img}else this.loadImage(n,o,r,i)}}const mu=gu,wu=(e,t)=>{const n=a.useMemo(()=>({...rc,...e.headerIcons}),[e.headerIcons]),o=a.useMemo(()=>e.imageWindowLoader??new mu,[e.imageWindowLoader]);return a.createElement(Id,{...e,renderers:hu,headerIcons:n,ref:t,imageWindowLoader:o})},Iu=a.forwardRef(wu);export{Zc as C,Iu as D,Z as G,Gl as T,$r as a,Jt as b,Mu as c,Ru as d,ku as e,Io as f,qn as g,Ji as h,Su as i,Do as j,Vs as k,Ea as l,Bo as m,Ao as p,Rn as r,Eu as u};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./data-grid-overlay-editor-APrLKi4s.js","./index-BMVQvedj.js","./index-wocATsGp.js","./marked.esm-dbrxtycE.js","./iframe-9FFu--7X.js","./throttle-7EuXLZa7.js","./_baseIteratee-WTHxv43n.js","./flatten-qRvRBp6y.js","./number-overlay-editor-3ljU3NGx.js","./react-number-format.es-2Vaki8Uh.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}