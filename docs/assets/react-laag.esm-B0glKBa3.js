import{r as g}from"./iframe-CSTfxI-F.js";import{r as Ge}from"./index-C-ZKpp3l.js";function Ue(e,i){for(var r=0;r<i.length;r++){var t=i[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function te(e,i,r){return i&&Ue(e.prototype,i),e}function R(){return R=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var r=arguments[i];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},R.apply(this,arguments)}function Ve(e,i){e.prototype=Object.create(i.prototype),e.prototype.constructor=e,oe(e,i)}function oe(e,i){return oe=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},oe(e,i)}function _e(e,i){if(e){if(typeof e=="string")return ve(e,i);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ve(e,i)}}function ve(e,i){(i==null||i>e.length)&&(i=e.length);for(var r=0,t=new Array(i);r<i;r++)t[r]=e[r];return t}function _(e,i){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=_e(e))||i){r&&(e=r);var t=0;return function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ge(e){var i=g.useRef(null);function r(t){!t||t===i.current||(i.current=t,e(t))}return r}function qe(e){var i=g.useRef(e);return g.useMemo(function(){function r(n){typeof n=="function"?i.current=n(i.current):i.current=n}function t(){return i.current}return[t,r]},[])}function Je(){var e=g.useRef([]);return g.useMemo(function(){function i(){return e.current.length>0}function r(){for(var n=_(e.current),o;!(o=n()).done;){var s=o.value;s()}e.current=[]}function t(n){e.current.push(n)}return{hasEventSubscriptions:i,removeAllEventSubscriptions:r,addEventSubscription:t}},[])}var ie=typeof window<"u"?g.useLayoutEffect:g.useEffect;function Ke(e,i){var r=g.useRef(e);return i?(r.current=e,r):(r.current=null,r)}function J(e){return parseFloat(e.replace("px",""))}function se(e,i,r){return e<i?i:e>r?r:e}function ye(e){return e!=null}function me(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return function(t){for(var n=_(i),o;!(o=n()).done;){var s=o.value;s&&(typeof s=="function"?s(t):s.current=t)}}}function Qe(e,i){if(!(typeof e>"u"))return i||e.ResizeObserver}function Be(e,i){var r=[];if(!e||!i||e===document.body)return r;var t=i.getComputedStyle(e),n=t.overflow,o=t.overflowX,s=t.overflowY;return[n,o,s].some(function(a){return["auto","scroll"].includes(a)})&&r.push(e),[].concat(r,Be(e.parentElement,i))}function Z(e){return"react-laag: Could not find a valid reference for the "+e+` element. There might be 2 causes:
   - Make sure that the 'ref' is set correctly on the `+e+` element when isOpen: true. Also make sure your component forwards the ref with "forwardRef()".
   - Make sure that you are actually rendering the `+e+" when the isOpen prop is set to true"}function Ze(e){var i=e.enabled,r=e.onChange,t=e.environment,n=e.ResizeObserverPolyfill,o=e.overflowContainer,s=e.triggerOption,a=Qe(t,n);g.useEffect(function(){},[a]);var f=g.useRef(null),l=!!s,u=qe({scrollContainers:[],trigger:null,layer:null}),c=u[0],d=u[1],h=Je(),p=h.hasEventSubscriptions,v=h.addEventSubscription,P=h.removeAllEventSubscriptions,w=g.useCallback(function(){var m=c(),C=m.layer,S=m.trigger,j=m.scrollContainers,B=j[0];if(!C)throw new Error(Z("layer"));if(!S&&!l)throw new Error(Z("trigger"));var N={top:0,left:0};if(B){var W=B.scrollLeft,M=B.scrollTop;N={top:M,left:W}}else{var G=t.scrollX,k=t.scrollY;N={top:k,left:G}}var Y={left:0,top:0};if(B){var I=t.getComputedStyle(B),q=I.borderLeftWidth,X=I.borderTopWidth;Y={left:J(q)||0,top:J(X)||0}}r({layer:C,trigger:S,scrollContainers:j,arrow:f.current},N,Y)},[c,r,t,f,l]),E=g.useCallback(function(){var m=c(),C=m.trigger,S=m.layer,j=m.scrollContainers;if(!S)throw new Error(Z("layer"));if(!C&&!l)throw new Error(Z("trigger"));if(a){for(var B=!1,N=function(){if(!B){B=!0;return}w()},W=new a(N),M=0,G=[C,S,document.body];M<G.length;M++){var k=G[M];k&&W.observe(k)}v(function(){for(var D=0,x=[C,S,document.body];D<x.length;D++){var K=x[D];K&&W.unobserve(K)}W.disconnect()})}for(var Y=[t].concat(j),I=function(){var x=X.value;x.addEventListener("scroll",w),v(function(){return x.removeEventListener("scroll",w)})},q=_(Y),X;!(X=q()).done;)I()},[c,v,w,t,a,l]),L=g.useCallback(function(y,m){i&&y&&y!==m&&(P(),E(),w())},[P,E,w,i]),F=ge(g.useCallback(function(y){var m=c(),C=m.layer;d(function(S){return R({},S,{layer:y})}),L(C,y)},[c,d,L])),T=g.useCallback(function(m){var C=Be(m,t),S=C[0];if(S){var j=t.getComputedStyle(S).position,B=["relative","absolute","fixed"].includes(j)||o;B||(S.style.position="relative")}return C},[t,o]),H=ge(g.useCallback(function(y){var m=T(y),C=c(),S=C.trigger;d(function(j){return R({},j,{trigger:y,scrollContainers:m})}),L(S,y)},[c,d,L,T])),$=s==null||s.getParent==null?void 0:s.getParent();return ie(function(){$&&d(function(y){return R({},y,{scrollContainers:T($)})})},[$,d,T]),ie(function(){return i&&(p()||E()),function(){p()&&P()}},[i,p,E,P]),ie(function(){i&&w()}),{triggerRef:H,layerRef:F,arrowRef:f,closestScrollContainer:c().scrollContainers[0]||null}}var Te=g.createContext({});function et(e){var i=e.children,r=e.registrations,t=g.useCallback(function(o){return r.current.add(o),function(){return r.current.delete(o)}},[r]);return g.createElement(Te.Provider,{value:t},i)}function tt(e,i){for(var r=_(e),t;!(t=r()).done;){var n=t.value.shouldCloseWhenClickedOutside;if(!n(i))return!1}return!0}function rt(e){var i=e.isOpen,r=e.onOutsideClick,t=e.onParentClose,n=g.useRef(null),o=g.useRef(null),s=g.useRef(new Set),a=g.useContext(Te),f=g.useCallback(function(u){var c=u.target,d=n.current&&n.current.contains(c),h=o.current&&o.current.contains(c),p=tt(s.current,u);return h&&p&&s.current.forEach(function(v){var P=v.closeChild;return P()}),!d&&!h&&p},[n,o,s]);return g.useEffect(function(){if(typeof a=="function")return a({shouldCloseWhenClickedOutside:f,closeChild:function(){t&&t()}})},[a,f,t,s]),g.useEffect(function(){var l=typeof a=="function",u=!i||!r||l;if(u)return;function c(d){f(d)&&r()}return document.addEventListener("click",c,!0),function(){return document.removeEventListener("click",c,!0)}},[i,r,f,a]),g.useEffect(function(){i||s.current.forEach(function(l){var u=l.closeChild;return u()})},[i]),{closeOnOutsideClickRefs:{trigger:n,layer:o},registrations:s}}var nt=["bottom-start","bottom-end","bottom-center","top-start","top-center","top-end","left-end","left-center","left-start","right-end","right-center","right-start","center"],it={top:"bottom",left:"right",bottom:"top",right:"left",center:"center"},ot=function(){function e(r,t,n,o,s,a,f,l,u){this.prop=void 0,this.opposite=void 0,this.isHorizontal=void 0,this.sizeProp=void 0,this.oppositeSizeProp=void 0,this.cssProp=void 0,this.oppositeCssProp=void 0,this.isCenter=void 0,this.isPush=void 0,this.prop=r,this.opposite=t,this.isHorizontal=n,this.sizeProp=o,this.oppositeSizeProp=s,this.cssProp=a,this.oppositeCssProp=f,this.isCenter=l,this.isPush=u}var i=e.prototype;return i.factor=function(t){return t*(this.isPush?1:-1)},i.isOppositeDirection=function(t){return this.isHorizontal!==t.isHorizontal},e}();function V(e,i){i===void 0&&(i=!0);var r=["left","right"].includes(e);return new ot(e,i?V(it[e],!1):null,r,r?"width":"height",r?"height":"width",r?"left":"top",r?"top":"left",e==="center",!["right","bottom"].includes(e))}var O={top:V("top"),bottom:V("bottom"),left:V("left"),right:V("right")},b=R({},O,{center:V("center")}),ee=["top","left","bottom","right"],le=function(){function e(i){return this.top=void 0,this.left=void 0,this.right=void 0,this.bottom=void 0,Object.assign(this,i)}return e.mergeSmallestSides=function(r){var t=r[0],n=r.slice(1);if(!t)throw new Error("Please provide at least 1 bounds objects in order to merge");for(var o=Object.fromEntries(ee.map(function(d){return[d,t[d]]})),s=_(n),a;!(a=s()).done;)for(var f=a.value,l=_(ee),u;!(u=l()).done;){var c=u.value;o[c]=Math.min(o[c],f[c])}return new e(o)},te(e,[{key:"allSidesArePositive",get:function(){var r=this;return ee.every(function(t){return r[t]>=0})}},{key:"negativeSides",get:function(){var r=this;return Object.fromEntries(ee.filter(function(t){return r[t]<0}).map(function(t){return[t,r[t]]}))}}]),e}();function be(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return i.reduce(function(t,n){return t+(n?J(n):0)},0)}function ae(e){var i=e.top,r=e.left,t=e.right,n=e.bottom,o=e.width,s=e.height;return{top:i,left:r,right:t,bottom:n,width:o,height:s}}var st={top:0,left:0,right:0,bottom:0,width:0,height:0},A=function(){e.create=function(t){return new e(t)},e.fromElement=function(t,n){n===void 0&&(n={});var o=n,s=o.withTransform,a=s===void 0?!0:s,f=o.environment,l=f===void 0?window:f,u=o.withScrollbars,c=u===void 0?!0:u,d=ae(t.getBoundingClientRect()),h=new e(d);if(!a){var p=l.getComputedStyle(t),v=p.width,P=p.height,w=p.boxSizing,E=p.borderLeft,L=p.borderRight,F=p.borderTop,T=p.borderBottom,H=p.paddingLeft,$=p.paddingRight,y=p.paddingTop,m=p.paddingBottom,C=w==="border-box"?J(v):be(v,E,L,H,$),S=w==="border-box"?J(P):be(P,F,T,y,m);h=new e(R({},h,{width:C,height:S}))}if(!c){var j=h.width-t.clientWidth,B=h.height-t.clientHeight;return h.substract({right:j,bottom:B})}return h},e.empty=function(){return new e},e.fromWindow=function(t){var n,o=(n=t==null?void 0:t.document.scrollingElement)!=null?n:t==null?void 0:t.document.documentElement,s=o??{},a=s.clientWidth,f=a===void 0?0:a,l=s.clientHeight,u=l===void 0?0:l;return new e({width:f,height:u,right:f,bottom:u})};function e(r){return r===void 0&&(r={}),this.top=void 0,this.left=void 0,this.right=void 0,this.bottom=void 0,this.width=void 0,this.height=void 0,Object.assign(this,st,r)}var i=e.prototype;return i.toObject=function(){return ae(this)},i.merge=function(t){var n=this.toObject();return new e(R({},n,typeof t=="function"?t(n):t))},i.substract=function(t){for(var n=this.toObject(),o=Object.entries(t),s=0,a=o;s<a.length;s++){var f=a[s],l=f[0],u=f[1];if(l in O){var c=O[l];n[l]+=c.factor(u),n[c.isHorizontal?"width":"height"]-=u}else n[l]-=u||0}return new e(n)},i.offsetsTo=function(t){return new le({top:t.top-this.top,bottom:this.bottom-t.bottom,left:t.left-this.left,right:this.right-t.right})},i.mapSides=function(t){for(var n=this.toObject(),o=Object.values(O),s=0,a=o;s<a.length;s++){var f=a[s];n[f.prop]=t(f,n[f.prop])}return new e(n)},te(e,[{key:"surface",get:function(){return this.width*this.height}}]),e}(),Le=function(){function e(r,t,n,o,s){this.primary=void 0,this.secondary=void 0,this.offsets=void 0,this.subjectsBounds=void 0,this._cachedLayerBounds=null,this._cachedContainerOffsets=null,this.primary=r,this.secondary=t,this.offsets=s,this.setSubjectsBounds(n,o)}var i=e.prototype;return i.setSubjectsBounds=function(t,n){if(!n){this.subjectsBounds=t;return}var o=typeof n=="function"?n(this.primary.prop):n;this.subjectsBounds=t.merge({layer:R({},t.layer,o)})},i.getLayerBounds=function(t){if(t===void 0&&(t=0),this._cachedLayerBounds&&t===0)return this._cachedLayerBounds;var n=this.primary,o=this.secondary,s=this.subjectsBounds,a=s.trigger,f=s.layer,l=s.arrow,u=n.isHorizontal,c=n.oppositeCssProp,d=n.oppositeSizeProp,h=n.prop,p=n.opposite,v=A.empty();v[p.prop]=a[h]-n.factor(this.offsets.trigger),v[h]=v[p.prop]-n.factor(f[n.sizeProp]);var P=this.offsets.arrow*2,w=a[c]-(f[d]-l[d])+P,E=a[c]+(a[d]-l[d])-P;if(o.isPush||(w+=f[d],E+=f[d]),o.isCenter){var L=(u?O.top:O.left).prop,F=(u?O.bottom:O.right).prop;v[L]=se(a[L]+a[d]/2-f[d]/2+t,w,E),v[F]=v[L]+f[d]}else{var T=o,H=a[T.prop],$=H<w?w-H:H>E?E-H:0;v[T.prop]=se(H+t+$,w,E),v[T.opposite.prop]=v[T.prop]+o.factor(f[d])}v.width=v.right-v.left,v.height=v.bottom-v.top;var y=A.create(v);return t===0&&(this._cachedLayerBounds=y),y},i.getLayerCollisionBounds=function(){var t=this.offsets.container;return this.getLayerBounds().mapSides(function(n,o){return o-=n.factor(t)}).merge(function(n){var o=n.width,s=n.height;return{width:o+t*2,height:s+t*2}})},i.getContainerOffsets=function(t){if(this._cachedContainerOffsets&&!t)return this._cachedContainerOffsets;var n=this.subjectsBounds.merge({layer:t||this.getLayerCollisionBounds()}),o=le.mergeSmallestSides(n.layerOffsetsToScrollContainers);return t||(this._cachedContainerOffsets=o),o},te(e,[{key:"type",get:function(){return this.primary.prop+"-"+(this.secondary.prop==="center"?"center":["bottom","right"].includes(this.secondary.prop)?"end":"start")}},{key:"triggerIsBigger",get:function(){var t=this.secondary.isHorizontal,n=this.subjectsBounds,o=n.triggerHasBiggerWidth,s=n.triggerHasBiggerHeight;return t&&o||!t&&s}},{key:"fitsContainer",get:function(){return this.getContainerOffsets().allSidesArePositive}},{key:"visibleSurface",get:function(){var t=this.getLayerBounds(),n=this.getContainerOffsets(t),o=n.negativeSides;for(var s in o)o[s]=-o[s];return t.substract(o).surface}},{key:"secondaryOffsetSide",get:function(){var t,n,o=this,s=this.getContainerOffsets(),a=(t=(n=Object.entries(s.negativeSides).map(function(l){var u=l[0],c=l[1];return[O[u],c]}).filter(function(l){var u=l[0];return o.primary.isOppositeDirection(u)}).sort(function(l,u){var c=l[1],d=u[1];return d-c}))==null?void 0:n[0])!=null?t:[],f=a[0];return f||null}}]),e}(),we=function(e){Ve(i,e);function i(){return e.apply(this,arguments)||this}var r=i.prototype;return r.getLayerBounds=function(){var n=this.subjectsBounds,o=n.trigger,s=n.layer,a=A.empty();return a.top=o.top+o.height/2-s.height/2,a.bottom=a.top+s.height,a.left=o.left+o.width/2-s.width/2,a.right=a.left+s.width,a.width=a.right-a.left,a.height=a.bottom-a.top,a},i}(Le);function at(e,i,r){var t=e.layer,n=e.trigger,o=e.arrow,s=i.primary.oppositeSizeProp,a=i.primary.isHorizontal?["top","bottom"]:["left","right"],f=a[0],l=a[1],u=t[f]+t[s]/2-n[f]-o[s]/2-r,c=t[l]-t[s]/2-n[l]+o[s]/2+r;return(u<0?-u:0)+(c>0?-c:0)}var Se={position:"absolute",willChange:"top, left",left:null,right:null,top:null,bottom:null};function lt(e,i,r){var t;if(i.primary.isCenter)return Se;var n=e.layer,o=e.trigger,s=e.arrow,a=i.primary.oppositeSizeProp,f=o[a]>n[a],l=r+s[a]/2,u=n[a]-s[a]/2-r,c=at(e,i,r),d=i.primary.prop,h=i.primary.oppositeCssProp,p=f?n[a]/2+c:o[h]+o[a]/2-n[h];return R({},Se,(t={},t[d]="100%",t[h]=se(p,l,u),t))}var Ce=function(){function e(r,t,n){this.placements=void 0,this.config=void 0,this.subjectsBounds=void 0,this.placements=r,this.config=t,this.subjectsBounds=n}e.getSidesFromPlacementType=function(t){var n=t.split("-"),o=n[0],s=n[1],a=O[o],f;return s==="center"?f=b.center:a.isHorizontal?f=s==="start"?b.top:b.bottom:f=s==="start"?b.left:b.right,[a,f]},e.create=function(t,n){var o={arrow:n.arrowOffset,container:n.containerOffset,trigger:n.triggerOffset};function s(a){a===void 0&&(a=n.placement);var f=e.getSidesFromPlacementType(a),l=f[0],u=f[1],c=O[l.isHorizontal?n.preferY:n.preferX],d=!l.isHorizontal&&t.triggerHasBiggerWidth||l.isHorizontal&&t.triggerHasBiggerHeight;function h(v,P){return new Le(v,P,t,n.layerDimensions,o)}var p=[];return p[0]=h(l,u),p[1]=h(l,u.isCenter?c:b.center),p[2]=h(l,b[(u.opposite.isCenter?c.opposite:u.opposite).prop]),p[3]=h(c,d?l:b[l.opposite.prop]),p[4]=h(c,b.center),p[5]=h(c,d?b[l.opposite.prop]:l),p[6]=h(O[c.opposite.prop],d?l:b[l.opposite.prop]),p[7]=h(O[c.opposite.prop],b.center),p[8]=h(O[c.opposite.prop],d?b[l.opposite.prop]:l),p[9]=h(O[l.opposite.prop],u),p[10]=h(O[l.opposite.prop],u.isCenter?c:b.center),p[11]=h(O[l.opposite.prop],b[(u.opposite.isCenter?c.opposite:u.opposite).prop]),p=p.filter(function(v){return v.type===n.placement||n.possiblePlacements.includes(v.type)}),p}return n.placement==="center"?new e([new we(b.center,b.center,t,n.layerDimensions,o)].concat(s(n.preferY+"-"+n.preferX)),n,t):new e(s(),n,t)};var i=e.prototype;return i.filterPlacementsBySide=function(t){return this.placements.filter(function(n){return n.primary===t})},i.findFirstPlacementThatFits=function(){return this.placements.find(function(t){return t.fitsContainer})},i.placementWithBiggestVisibleSurface=function(){var t=this.placements.map(function(o){return{placement:o,surface:o.visibleSurface}}).sort(function(o,s){return s.surface-o.surface}),n=t[0].placement;return n},i.findSuitablePlacement=function(){return this.config.auto?this.findFirstPlacementThatFits()||this.placementWithBiggestVisibleSurface():this.placements[0]},i.getSecondaryOffset=function(t){var n=this.config,o=n.auto,s=n.snap;if(!o||s||t instanceof we)return 0;var a=this.filterPlacementsBySide(t.primary),f=a.indexOf(t)===0;if(f&&t.fitsContainer)return 0;var l=a.find(function(v){return!v.fitsContainer});if(!l)return 0;var u=l.secondaryOffsetSide;if(!u)return 0;var c=t.getContainerOffsets(),d=t.secondary,h;t.triggerIsBigger||l===t?h=u.isPush?-1:1:h=d===b.left||[b.top,b.center].includes(d)&&u.isPush?-1:1;var p=c[u.prop];return p*h},i.getStyles=function(t,n,o,s){var a={willChange:"top, left, width, height"},f=lt(this.subjectsBounds.merge({layer:t}),n,this.config.arrowOffset),l=this.config.overflowContainer?R({},a,{position:"fixed",top:t.top,left:t.left}):R({},a,{position:"absolute",top:t.top-this.subjectsBounds.parent.top+o.top-s.top,left:t.left-this.subjectsBounds.parent.left+o.left-s.left});return{arrow:f,layer:l}},i.getHasDisappeared=function(t){var n=this.config.overflowContainer?this.subjectsBounds.trigger:t,o=le.mergeSmallestSides(this.subjectsBounds.offsetsToScrollContainers(n,!0)),s=Object.entries(o.negativeSides),a=s.some(function(f){var l=f[0],u=f[1],c=O[l];return u<=-n[c.sizeProp]});return a?"full":o.allSidesArePositive?null:"partial"},i.result=function(t,n){var o=this.findSuitablePlacement(),s=this.getSecondaryOffset(o),a=o.getLayerBounds(s),f=this.getStyles(a,o,t,n),l=o.primary.prop;return{styles:f,layerSide:l,placement:o,layerBounds:a,hasDisappeared:this.getHasDisappeared(a)}},e}(),ut=function(){function e(r,t){this.overflowContainer=void 0,this.trigger=void 0,this.layer=void 0,this.arrow=void 0,this.parent=void 0,this.window=void 0,this.scrollContainers=void 0,this.overflowContainer=t,Object.assign(this,r)}e.create=function(t,n,o,s,a,f,l,u){var c=A.fromWindow(t);return new e({layer:A.fromElement(n,{environment:t,withTransform:!1}),trigger:u?A.create(ae(u())):A.fromElement(o),arrow:a?A.fromElement(a):A.empty(),parent:s?A.fromElement(s):c,window:c,scrollContainers:[c].concat(f.map(function(d){return A.fromElement(d,{withScrollbars:!1})}))},l)};var i=e.prototype;return i.merge=function(t){return new e(R({},this,t),this.overflowContainer)},i.offsetsToScrollContainers=function(t,n){n===void 0&&(n=!1);var o=this.overflowContainer&&!n?[this.window]:this.scrollContainers;return o.map(function(s){return s.offsetsTo(t)})},te(e,[{key:"layerOffsetsToScrollContainers",get:function(){return this.offsetsToScrollContainers(this.layer)}},{key:"triggerHasBiggerWidth",get:function(){return this.trigger.width>this.layer.width}},{key:"triggerHasBiggerHeight",get:function(){return this.trigger.height>this.layer.height}}]),e}(),Oe=null,z={auto:!1,arrowOffset:0,containerOffset:10,triggerOffset:0,overflowContainer:!0,placement:"top-center",possiblePlacements:nt,preferX:"right",preferY:"bottom",snap:!1,container:void 0};function ht(e){var i,r=e.isOpen,t=r===void 0?!1:r,n=e.overflowContainer,o=n===void 0?z.overflowContainer:n,s=e.environment,a=s===void 0?typeof window<"u"?window:void 0:s,f=e.ResizeObserver,l=e.placement,u=l===void 0?z.placement:l,c=e.possiblePlacements,d=c===void 0?z.possiblePlacements:c,h=e.preferX,p=h===void 0?z.preferX:h,v=e.preferY,P=v===void 0?z.preferY:v,w=e.auto,E=w===void 0?z.auto:w,L=e.snap,F=L===void 0?z.snap:L,T=e.triggerOffset,H=T===void 0?z.triggerOffset:T,$=e.containerOffset,y=$===void 0?z.containerOffset:$,m=e.arrowOffset,C=m===void 0?z.arrowOffset:m,S=e.container,j=S===void 0?z.container:S,B=e.layerDimensions,N=B===void 0?null:B,W=e.onDisappear,M=e.onOutsideClick,G=e.onParentClose,k=e.trigger,Y=g.useState(function(){return{layerSide:u==="center"?"center":Ce.getSidesFromPlacementType(u)[0].prop,styles:{layer:{position:o?"fixed":"absolute",top:0,left:0},arrow:{position:"absolute",top:0,left:0}}}}),I=Y[0],q=Y[1],X=g.useRef(null),D=Ke(I,t),x=g.useRef({cancelled:!1});g.useEffect(function(){return function(){x.current.cancelled=!0}},[]);var K=g.useCallback(function(U,$e,Ie){var De=U.arrow,We=U.layer,pe=U.scrollContainers,xe=U.trigger,Fe=pe[0],Ne=ut.create(a,We,xe,Fe,De,pe,o,k==null?void 0:k.getBounds),Me={placement:u,possiblePlacements:d,auto:E,layerDimensions:N,arrowOffset:C,containerOffset:y,triggerOffset:H,preferX:p,preferY:P,snap:F,overflowContainer:o},re=Ce.create(Ne,Me).result($e,Ie),de=re.hasDisappeared,Ye=re.layerSide,Xe=re.styles,ne={layerSide:Ye,styles:Xe};if(!D.current||ft(D.current,ne)){D.current=ne,x.current.cancelled=!0;var he={cancelled:!1};x.current=he,Promise.resolve().then(function(){he.cancelled||q(ne)})}ye(de)&&ye(W)&&W(de)},[C,E,y,a,N,W,o,u,d,p,P,F,H,D,k]),Q=Ze({ResizeObserverPolyfill:f,environment:a,enabled:t,overflowContainer:o,onChange:K,triggerOption:k}),Re=Q.triggerRef,He=Q.layerRef,je=Q.arrowRef,ue=Q.closestScrollContainer,fe=rt({isOpen:t,onOutsideClick:M,onParentClose:G}),ce=fe.closeOnOutsideClickRefs,ke=fe.registrations,ze={triggerProps:k?{}:{ref:me(Re,ce.trigger,X)},layerProps:{ref:me(He,ce.layer),style:I.styles.layer},arrowProps:{ref:je,style:I.styles.arrow,layerSide:I.layerSide},layerSide:I.layerSide,triggerBounds:t?k?k.getBounds():(i=X.current)==null?void 0:i.getBoundingClientRect():null,renderLayer:function(U){return typeof document<"u"?Ge.createPortal(g.createElement(et,{registrations:ke,children:U}),o||!ue?ct(j):ue):null}};return ze}function ft(e,i){if(e.layerSide!==i.layerSide)return!0;for(var r=["position","top","left","right","bottom"],t=0,n=r;t<n.length;t++){var o=n[t];if(e.styles.layer[o]!==i.styles.layer[o]||e.styles.arrow[o]!==i.styles.arrow[o])return!0}return!1}var Pe="layers";function ct(e){var i;if(typeof e=="function"){if(i=e(),!i||!(i instanceof HTMLElement))throw new Error("react-laag: You've passed a function to the 'container' prop, but it returned no valid HTMLElement")}else if(e instanceof HTMLElement)i=e;else if(typeof e=="string"){if(i=document.getElementById(e),!i)throw new Error("react-laag: You've passed element with id '"+e+"' to the 'container' prop, but it returned no valid HTMLElement")}else{if(Oe instanceof HTMLElement)return Oe;i=document.getElementById(Pe),i||(i=document.createElement("div"),i.id=Pe,i.style.cssText=`
        position: absolute;
        top: 0px;
        left: 0px;
        right: 0px;
      `,document.body.appendChild(i))}return i}var Ee;(function(e){e[e.ENTERING=0]="ENTERING",e[e.LEAVING=1]="LEAVING",e[e.IDLE=2]="IDLE"})(Ee||(Ee={}));export{ht as u};
