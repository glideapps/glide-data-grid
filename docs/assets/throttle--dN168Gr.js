function T(r,d,{signal:n,edges:l}={}){let u,i=null;const a=l!=null&&l.includes("leading"),c=l==null||l.includes("trailing"),t=()=>{i!==null&&(r.apply(u,i),u=void 0,i=null)},o=()=>{c&&t(),p()};let e=null;const s=()=>{e!=null&&clearTimeout(e),e=setTimeout(()=>{e=null,o()},d)},f=()=>{e!==null&&(clearTimeout(e),e=null)},p=()=>{f(),u=void 0,i=null},b=()=>{t()},h=function(...m){if(n!=null&&n.aborted)return;u=this,i=m;const y=e==null;s(),a&&y&&t()};return h.schedule=s,h.cancel=p,h.flush=b,n==null||n.addEventListener("abort",p,{once:!0}),h}function w(r,d=0,n={}){typeof n!="object"&&(n={});const{leading:l=!1,trailing:u=!0,maxWait:i}=n,a=Array(2);l&&(a[0]="leading"),u&&(a[1]="trailing");let c,t=null;const o=T(function(...f){c=r.apply(this,f),t=null},d,{edges:a}),e=function(...f){return i!=null&&(t===null&&(t=Date.now()),Date.now()-t>=i)?(c=r.apply(this,f),t=Date.now(),o.cancel(),o.schedule(),c):(o.apply(this,f),c)},s=()=>(o.flush(),c);return e.cancel=o.cancel,e.flush=s,e}function x(r,d=0,n={}){const{leading:l=!0,trailing:u=!0}=n;return w(r,d,{leading:l,maxWait:d,trailing:u})}export{w as d,x as t};
