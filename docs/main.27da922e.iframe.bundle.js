(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return GridCellKind})),__webpack_require__.d(__webpack_exports__,"c",(function(){return GridColumnIcon})),__webpack_require__.d(__webpack_exports__,"i",(function(){return lossyCopyData})),__webpack_require__.d(__webpack_exports__,"e",(function(){return isEditableGridCell})),__webpack_require__.d(__webpack_exports__,"h",(function(){return isTextEditableGridCell})),__webpack_require__.d(__webpack_exports__,"f",(function(){return isInnerOnlyCell})),__webpack_require__.d(__webpack_exports__,"g",(function(){return isReadWriteCell})),__webpack_require__.d(__webpack_exports__,"d",(function(){return InnerGridCellKind})),__webpack_require__.d(__webpack_exports__,"a",(function(){return CompactSelection}));__webpack_require__(14),__webpack_require__(3),__webpack_require__(26),__webpack_require__(34),__webpack_require__(163),__webpack_require__(72),__webpack_require__(48),__webpack_require__(2),__webpack_require__(17),__webpack_require__(12),__webpack_require__(10),__webpack_require__(11),__webpack_require__(6),__webpack_require__(16),__webpack_require__(4),__webpack_require__(5),__webpack_require__(114),__webpack_require__(23),__webpack_require__(19),__webpack_require__(9),__webpack_require__(54);var GridCellKind,GridColumnIcon,InnerGridCellKind,lodash_isArray__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(52),lodash_isArray__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(lodash_isArray__WEBPACK_IMPORTED_MODULE_21__),_common_support__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(60);function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function lossyCopyData(source,target){var _sourceData$toString,_sourceData$toString2,_source$data$toString,_source$data,_sourceData$0$toStrin,x,sourceData=source.data;return typeof sourceData==typeof target.data?Object.assign({},target,{data:sourceData}):target.kind===GridCellKind.Uri?lodash_isArray__WEBPACK_IMPORTED_MODULE_21___default()(sourceData)?Object.assign({},target,{data:sourceData[0]}):Object.assign({},target,{data:null!==(_sourceData$toString=null==sourceData?void 0:sourceData.toString())&&void 0!==_sourceData$toString?_sourceData$toString:""}):target.kind===GridCellKind.Boolean?lodash_isArray__WEBPACK_IMPORTED_MODULE_21___default()(sourceData)?Object.assign({},target,{data:void 0!==sourceData[0]}):Object.assign({},target,{data:(x=sourceData,!!x)}):target.kind===GridCellKind.Image?lodash_isArray__WEBPACK_IMPORTED_MODULE_21___default()(sourceData)?Object.assign({},target,{data:[sourceData[0]]}):Object.assign({},target,{data:[null!==(_sourceData$toString2=null==sourceData?void 0:sourceData.toString())&&void 0!==_sourceData$toString2?_sourceData$toString2:""]}):target.kind===GridCellKind.Number?Object.assign({},target,{data:0}):target.kind===GridCellKind.Text||target.kind===GridCellKind.Markdown?lodash_isArray__WEBPACK_IMPORTED_MODULE_21___default()(sourceData)?Object.assign({},target,{data:null!==(_sourceData$0$toStrin=sourceData[0].toString())&&void 0!==_sourceData$0$toStrin?_sourceData$0$toStrin:""}):Object.assign({},target,{data:null!==(_source$data$toString=null===(_source$data=source.data)||void 0===_source$data?void 0:_source$data.toString())&&void 0!==_source$data$toString?_source$data$toString:""}):void Object(_common_support__WEBPACK_IMPORTED_MODULE_22__.b)(target)}function isEditableGridCell(cell){return cell.kind!==GridCellKind.Loading&&cell.kind!==GridCellKind.Bubble&&cell.kind!==GridCellKind.RowID&&cell.kind!==GridCellKind.Protected&&cell.kind!==GridCellKind.Drilldown&&cell.kind!==GridCellKind.Custom&&(Object(_common_support__WEBPACK_IMPORTED_MODULE_22__.d)(cell),!0)}function isTextEditableGridCell(cell){return cell.kind!==GridCellKind.Loading&&cell.kind!==GridCellKind.Bubble&&cell.kind!==GridCellKind.RowID&&cell.kind!==GridCellKind.Protected&&cell.kind!==GridCellKind.Drilldown&&cell.kind!==GridCellKind.Boolean&&cell.kind!==GridCellKind.Image&&cell.kind!==GridCellKind.Custom&&(Object(_common_support__WEBPACK_IMPORTED_MODULE_22__.d)(cell),!0)}function isInnerOnlyCell(cell){return cell.kind===InnerGridCellKind.Marker||cell.kind===InnerGridCellKind.NewRow}function isReadWriteCell(cell){return!(!isEditableGridCell(cell)||cell.kind===GridCellKind.Image||cell.kind===GridCellKind.Boolean)&&(cell.kind===GridCellKind.Text||cell.kind===GridCellKind.Number||cell.kind===GridCellKind.Markdown||cell.kind===GridCellKind.Uri?!0!==cell.readonly:void Object(_common_support__WEBPACK_IMPORTED_MODULE_22__.b)(cell))}!function(GridCellKind){GridCellKind.Uri="uri",GridCellKind.Text="text",GridCellKind.Image="image",GridCellKind.RowID="row-id",GridCellKind.Number="number",GridCellKind.Bubble="bubble",GridCellKind.Boolean="boolean",GridCellKind.Loading="loading",GridCellKind.Markdown="markdown",GridCellKind.Drilldown="drilldown",GridCellKind.Protected="protected",GridCellKind.Custom="custom"}(GridCellKind||(GridCellKind={})),function(GridColumnIcon){GridColumnIcon.HeaderRowID="headerRowID",GridColumnIcon.HeaderCode="headerCode",GridColumnIcon.HeaderNumber="headerNumber",GridColumnIcon.HeaderString="headerString",GridColumnIcon.HeaderBoolean="headerBoolean",GridColumnIcon.HeaderAudioUri="headerAudioUri",GridColumnIcon.HeaderVideoUri="headerVideoUri",GridColumnIcon.HeaderEmoji="headerEmoji",GridColumnIcon.HeaderImage="headerImage",GridColumnIcon.HeaderUri="headerUri",GridColumnIcon.HeaderPhone="headerPhone",GridColumnIcon.HeaderMarkdown="headerMarkdown",GridColumnIcon.HeaderDate="headerDate",GridColumnIcon.HeaderTime="headerTime",GridColumnIcon.HeaderEmail="headerEmail",GridColumnIcon.HeaderReference="headerReference",GridColumnIcon.HeaderIfThenElse="headerIfThenElse",GridColumnIcon.HeaderSingleValue="headerSingleValue",GridColumnIcon.HeaderLookup="headerLookup",GridColumnIcon.HeaderTextTemplate="headerTextTemplate",GridColumnIcon.HeaderMath="headerMath",GridColumnIcon.HeaderRollup="headerRollup",GridColumnIcon.HeaderJoinStrings="headerJoinStrings",GridColumnIcon.HeaderSplitString="headerSplitString",GridColumnIcon.HeaderGeoDistance="headerGeoDistance",GridColumnIcon.HeaderArray="headerArray",GridColumnIcon.RowOwnerOverlay="rowOwnerOverlay",GridColumnIcon.ProtectedColumnOverlay="protectedColumnOverlay"}(GridColumnIcon||(GridColumnIcon={})),function(InnerGridCellKind){InnerGridCellKind.NewRow="new-row",InnerGridCellKind.Marker="marker"}(InnerGridCellKind||(InnerGridCellKind={}));var CompactSelection=function(_Symbol$iterator2){function CompactSelection(items){var _this=this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,CompactSelection),this.items=items,this.offset=function(amount){return 0===amount?_this:new CompactSelection(_this.items.map((function(x){return[x[0]+amount,x[1]+amount]})))},this.add=function(selection){var slice="number"==typeof selection?[selection,selection+1]:selection;return new CompactSelection(function mergeRanges(input){if(void 0===input||0===input.length)return[];var ranges=_toConsumableArray(input),stack=[];return ranges.sort((function(a,b){return a[0]-b[0]})),stack.push(_toConsumableArray(ranges[0])),ranges.slice(1).forEach((function(range){var top=stack[stack.length-1];top[1]<range[0]?stack.push(_toConsumableArray(range)):top[1]<range[1]&&(top[1]=range[1])})),stack}([].concat(_toConsumableArray(_this.items),[slice])))},this.remove=function(selection){var _step,items=_toConsumableArray(_this.items),_iterator=_createForOfIteratorHelper(items.entries());try{for(_iterator.s();!(_step=_iterator.n()).done;){var _ref2=_slicedToArray(_step.value,2),i=_ref2[0],_slice=_slicedToArray(_ref2[1],2),start=_slice[0],end=_slice[1];if(start<=selection&&end>selection){var left=[start,selection],right=[selection+1,end],toAdd=[];left[0]!==left[1]&&toAdd.push(left),right[0]!==right[1]&&toAdd.push(right),items.splice.apply(items,[i,1].concat(toAdd));break}}}catch(err){_iterator.e(err)}finally{_iterator.f()}return new CompactSelection(items)},this.first=function(){if(0!==_this.items.length)return _this.items[0][0]},this.last=function(){if(0!==_this.items.length)return _this.items.slice(-1)[0][1]},this.hasIndex=function(index){for(var i=0;i<_this.items.length;i++){var _this$items$i=_slicedToArray(_this.items[i],2),start=_this$items$i[0],end=_this$items$i[1];if(index>=start&&index<end)return!0}return!1},this.hasAll=function(index){for(var x=index[0];x<index[1];x++)if(!_this.hasIndex(x))return!1;return!0}}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(CompactSelection,[{key:"length",get:function get(){var _step2,len=0,_iterator2=_createForOfIteratorHelper(this.items);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _ref4=_slicedToArray(_step2.value,2),start=_ref4[0];len+=_ref4[1]-start}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}return len}},{key:_Symbol$iterator2,value:regeneratorRuntime.mark((function value(){var _iterator3,_step3,_ref5,_ref6,start,end,x;return regeneratorRuntime.wrap((function value$(_context){for(;;)switch(_context.prev=_context.next){case 0:_iterator3=_createForOfIteratorHelper(this.items),_context.prev=1,_iterator3.s();case 3:if((_step3=_iterator3.n()).done){_context.next=17;break}_ref5=_step3.value,_ref6=_slicedToArray(_ref5,2),start=_ref6[0],end=_ref6[1],x=start;case 9:if(!(x<end)){_context.next=15;break}return _context.next=12,x;case 12:x++,_context.next=9;break;case 15:_context.next=3;break;case 17:_context.next=22;break;case 19:_context.prev=19,_context.t0=_context.catch(1),_iterator3.e(_context.t0);case 22:return _context.prev=22,_iterator3.f(),_context.finish(22);case 25:case"end":return _context.stop()}}),value,this,[[1,19,22,25]])}))}]),CompactSelection}(Symbol.iterator);CompactSelection.empty=function(){return new CompactSelection([])},CompactSelection.fromSingleSelection=function(selection){return CompactSelection.empty().add(selection)}},115:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return InputBox})),__webpack_require__.d(__webpack_exports__,"c",(function(){return ShadowBox})),__webpack_require__.d(__webpack_exports__,"a",(function(){return GrowingEntryStyle}));__webpack_require__(2);var _templateObject,_templateObject2,_templateObject3,_templateObject4,_common_styles__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(27),styled_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(21);function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}var inputProps=Object(styled_components__WEBPACK_IMPORTED_MODULE_2__.b)(_templateObject||(_templateObject=_taggedTemplateLiteralLoose(["\n    font-size: 13px;\n    line-height: 16px;\n    font-family: ",";\n    color: ",";\n    padding: 0;\n    margin: 0;\n"])),(function(p){return p.theme.fontFamily}),(function(p){return p.theme.textDark})),InputBox=_common_styles__WEBPACK_IMPORTED_MODULE_1__.b.textarea(_templateObject2||(_templateObject2=_taggedTemplateLiteralLoose(["\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n\n    border-radius: 0px;\n\n    resize: none;\n    white-space: normal;\n    min-width: 100%;\n    overflow: hidden;\n    border: 0;\n    background-color: transparent;\n\n    ::placeholder {\n        color: ",";\n    }\n\n    ","\n"])),(function(p){return p.theme.textLight}),inputProps),ShadowBox=_common_styles__WEBPACK_IMPORTED_MODULE_1__.b.div(_templateObject3||(_templateObject3=_taggedTemplateLiteralLoose(["\n    visibility: hidden;\n    white-space: pre-wrap;\n    word-wrap: break-word;\n\n    width: max-content;\n    max-width: 100%;\n\n    min-width: 100%;\n\n    ","\n\n    padding-bottom: 2px;\n"])),inputProps),GrowingEntryStyle=_common_styles__WEBPACK_IMPORTED_MODULE_1__.b.div(_templateObject4||(_templateObject4=_taggedTemplateLiteralLoose(["\n    position: relative;\n    margin-top: 6px;\n"])));try{InputBox.displayName="InputBox",InputBox.__docgenInfo={description:"",displayName:"InputBox",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<HTMLTextAreaElement>"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/growing-entry/growing-entry-style.tsx#InputBox"]={docgenInfo:InputBox.__docgenInfo,name:"InputBox",path:"core/src/growing-entry/growing-entry-style.tsx#InputBox"})}catch(__react_docgen_typescript_loader_error){}try{ShadowBox.displayName="ShadowBox",ShadowBox.__docgenInfo={description:"",displayName:"ShadowBox",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<HTMLDivElement>"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/growing-entry/growing-entry-style.tsx#ShadowBox"]={docgenInfo:ShadowBox.__docgenInfo,name:"ShadowBox",path:"core/src/growing-entry/growing-entry-style.tsx#ShadowBox"})}catch(__react_docgen_typescript_loader_error){}try{GrowingEntryStyle.displayName="GrowingEntryStyle",GrowingEntryStyle.__docgenInfo={description:"",displayName:"GrowingEntryStyle",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<HTMLDivElement>"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/growing-entry/growing-entry-style.tsx#GrowingEntryStyle"]={docgenInfo:GrowingEntryStyle.__docgenInfo,name:"GrowingEntryStyle",path:"core/src/growing-entry/growing-entry-style.tsx#GrowingEntryStyle"})}catch(__react_docgen_typescript_loader_error){}},125:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return browserIsFirefox})),__webpack_require__.d(__webpack_exports__,"c",(function(){return browserIsSafari})),__webpack_require__.d(__webpack_exports__,"b",(function(){return browserIsOSX}));__webpack_require__(70),__webpack_require__(71),__webpack_require__(41),__webpack_require__(120),__webpack_require__(54);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var userAgent=window.navigator.userAgent,Lazy=function(){function Lazy(fn){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Lazy),this.fn=void 0,this.val=void 0,this.fn=fn}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Lazy,[{key:"value",get:function get(){var _this$val;return null!==(_this$val=this.val)&&void 0!==_this$val?_this$val:this.val=this.fn()}}]),Lazy}();var browserIsFirefox=userAgent.includes("Firefox"),browserIsSafari=userAgent.indexOf("Mac OS")>-1&&userAgent.indexOf("Safari")>-1&&userAgent.indexOf("Chrome")<0,browserIsOSX=function lazy(fn){return new Lazy(fn)}((function(){return window.navigator.platform.toLowerCase().startsWith("mac")}))},126:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(139),__webpack_require__(57),__webpack_require__(3),__webpack_require__(4),__webpack_require__(14),__webpack_require__(23),__webpack_require__(6),__webpack_require__(16),__webpack_require__(17),__webpack_require__(12),__webpack_require__(10),__webpack_require__(11),__webpack_require__(2),__webpack_require__(9),__webpack_require__(19);var react=__webpack_require__(0),styled_components_browser_esm=__webpack_require__(21),throttle=(__webpack_require__(119),__webpack_require__(69),__webpack_require__(43),__webpack_require__(72),__webpack_require__(48),__webpack_require__(54),__webpack_require__(145)),throttle_default=__webpack_require__.n(throttle);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function packColRowToNumber(col,row){return 65536*row+col}function unpackNumberToColRow(packed){var col=packed%65536;return[col,(packed-col)/65536]}var image_window_loader_ImageWindowLoader=function(){function ImageWindowLoader(){var _this=this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ImageWindowLoader),this.imageLoaded=function(){},this.loadedLocations=[],this.window={x:0,y:0,width:0,height:0},this.cache={},this.sendLoaded=throttle_default()((function(){_this.imageLoaded(_this.loadedLocations),_this.loadedLocations=[]}),20),this.clearOutOfWindowImpl=function(){var old=_this.cache;_this.cache={};var whittled=Object.values(old).map((function(v){return Object.assign({},v,{cells:new Set(Array.from(v.cells).filter((function(n){return _this.isInWindow.apply(_this,_toConsumableArray(unpackNumberToColRow(n)))})))})}));whittled.filter((function(v){return v.cells.size>0})).forEach((function(v){_this.cache[""+v.url]=v}));var _step,_iterator=function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(whittled);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _v$cancel,v=_step.value;if(0===v.cells.size)null===(_v$cancel=v.cancel)||void 0===_v$cancel||_v$cancel.call(v);else _this.cache[v.url]=v}}catch(err){_iterator.e(err)}finally{_iterator.f()}},this.clearOutOfWindow=throttle_default()(this.clearOutOfWindowImpl,600,{leading:!1,trailing:!0})}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ImageWindowLoader,[{key:"isInWindow",value:function isInWindow(col,row){var w=this.window;return col>=w.x&&col<=w.x+w.width&&row>=w.y&&row<=w.y+w.height}},{key:"setCallback",value:function setCallback(imageLoaded){this.imageLoaded=imageLoaded}},{key:"setWindow",value:function setWindow(window){this.window.x===window.x&&this.window.y===window.y&&this.window.width===window.width&&this.window.height===window.height||(this.window=window,this.clearOutOfWindow())}},{key:"loadOrGetImage",value:function loadOrGetImage(url,col,row){var _this2=this,key=""+url,current=this.cache[key];if(void 0!==current)return current.cells.add(packColRowToNumber(col,row)),current.img;var img=new Image;img.src=url;var _ref,cancelled=!1,result={img:void 0,cells:new Set([packColRowToNumber(col,row)]),url:url,cancel:function cancel(){cancelled=!0,img.src=""}},load=(_ref=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(){var errored,toWrite,_i,_Array$from,packed;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return errored=!1,_context.prev=1,_context.next=4,img.decode();case 4:_context.next=9;break;case 6:_context.prev=6,_context.t0=_context.catch(1),errored=!0;case 9:if(void 0!==(toWrite=_this2.cache[key])&&!errored&&!cancelled){for(toWrite.img=img,_i=0,_Array$from=Array.from(toWrite.cells);_i<_Array$from.length;_i++)packed=_Array$from[_i],_this2.loadedLocations.push(unpackNumberToColRow(packed));_this2.sendLoaded()}case 11:case"end":return _context.stop()}}),_callee,null,[[1,6]])}))),function load(){return _ref.apply(this,arguments)});return load(),void(this.cache[key]=result)}}]),ImageWindowLoader}(),image_window_loader=image_window_loader_ImageWindowLoader,data_grid_lib=__webpack_require__(25),data_grid_types=__webpack_require__(1),support=(__webpack_require__(53),__webpack_require__(31),__webpack_require__(33),__webpack_require__(41),__webpack_require__(163),__webpack_require__(60)),iconHead='<svg width="20" height="20" fill="none" xmlns="http://www.w3.org/2000/svg">',headerUri=function headerUri(props){var fg=props.fgColor,bg=props.bgColor;return iconHead+'\n<path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="'+bg+'"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M10.29 4.947a3.368 3.368 0 014.723.04 3.375 3.375 0 01.041 4.729l-.009.009-1.596 1.597a3.367 3.367 0 01-5.081-.364.71.71 0 011.136-.85 1.95 1.95 0 002.942.21l1.591-1.593a1.954 1.954 0 00-.027-2.733 1.95 1.95 0 00-2.732-.027l-.91.907a.709.709 0 11-1.001-1.007l.915-.911.007-.007z" fill="'+fg+'"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M6.55 8.678a3.368 3.368 0 015.082.364.71.71 0 01-1.136.85 1.95 1.95 0 00-2.942-.21l-1.591 1.593a1.954 1.954 0 00.027 2.733 1.95 1.95 0 002.73.028l.906-.906a.709.709 0 111.003 1.004l-.91.91-.008.01a3.368 3.368 0 01-4.724-.042 3.375 3.375 0 01-.041-4.728l.009-.009L6.55 8.678z" fill="'+fg+'"/>\n</svg>\n  '},sprites={headerRowID:function headerRowID(props){var fg=props.fgColor,bg=props.bgColor;return"\n    "+iconHead+'<rect x="2" y="2" width="16" height="16" rx="2" fill="'+bg+'"/><path d="M15.75 4h-1.5a.25.25 0 0 0-.177.074L9.308 8.838a3.75 3.75 0 1 0 1.854 1.854l1.155-1.157.967.322a.5.5 0 0 0 .65-.55l-.18-1.208.363-.363.727.331a.5.5 0 0 0 .69-.59l-.254-.904.647-.647A.25.25 0 0 0 16 5.75v-1.5a.25.25 0 0 0-.25-.25zM7.5 13.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0z" fill="'+fg+'"/></svg>'},headerNumber:function headerNumber(props){var fg=props.fgColor,bg=props.bgColor;return iconHead+'\n    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="'+bg+'"/>\n    <path d="M6.52 12.78H5.51V8.74l-1.33.47v-.87l2.29-.83h.05v5.27zm5.2 0H8.15v-.69l1.7-1.83a6.38 6.38 0 0 0 .34-.4c.09-.11.16-.22.22-.32s.1-.19.12-.27a.9.9 0 0 0 0-.56.63.63 0 0 0-.15-.23.58.58 0 0 0-.22-.15.75.75 0 0 0-.29-.05c-.27 0-.48.08-.62.23a.95.95 0 0 0-.2.65H8.03c0-.24.04-.46.13-.67a1.67 1.67 0 0 1 .97-.91c.23-.1.49-.14.77-.14.26 0 .5.04.7.11.21.08.38.18.52.32.14.13.25.3.32.48a1.74 1.74 0 0 1 .03 1.13 2.05 2.05 0 0 1-.24.47 4.16 4.16 0 0 1-.35.47l-.47.5-1 1.05h2.32v.8zm1.8-3.08h.55c.28 0 .48-.06.61-.2a.76.76 0 0 0 .2-.55.8.8 0 0 0-.05-.28.56.56 0 0 0-.13-.22.6.6 0 0 0-.23-.15.93.93 0 0 0-.32-.05.92.92 0 0 0-.29.05.72.72 0 0 0-.23.12.57.57 0 0 0-.21.46H12.4a1.3 1.3 0 0 1 .5-1.04c.15-.13.33-.23.54-.3a2.48 2.48 0 0 1 1.4 0c.2.06.4.15.55.28.15.13.27.28.36.47.08.19.13.4.13.65a1.15 1.15 0 0 1-.2.65 1.36 1.36 0 0 1-.58.49c.15.05.28.12.38.2a1.14 1.14 0 0 1 .43.62c.03.13.05.26.05.4 0 .25-.05.47-.14.66a1.42 1.42 0 0 1-.4.49c-.16.13-.35.23-.58.3a2.51 2.51 0 0 1-.73.1c-.22 0-.44-.03-.65-.09a1.8 1.8 0 0 1-.57-.28 1.43 1.43 0 0 1-.4-.47 1.41 1.41 0 0 1-.15-.66h1a.66.66 0 0 0 .22.5.87.87 0 0 0 .58.2c.25 0 .45-.07.6-.2a.71.71 0 0 0 .21-.56.97.97 0 0 0-.06-.36.61.61 0 0 0-.18-.25.74.74 0 0 0-.28-.15 1.33 1.33 0 0 0-.37-.04h-.55V9.7z" fill="'+fg+'"/>\n  </svg>'},headerCode:function headerCode(props){var fg=props.fgColor,bg=props.bgColor;return"\n    "+iconHead+'<rect x="2" y="2" width="16" height="16" rx="4" fill="'+bg+'"/><path d="m12.223 13.314 3.052-2.826a.65.65 0 0 0 0-.984l-3.052-2.822c-.27-.25-.634-.242-.865.022-.232.263-.206.636.056.882l2.601 2.41-2.601 2.41c-.262.245-.288.619-.056.882.231.263.595.277.865.026Zm-4.444.005c.266.25.634.241.866-.027.231-.263.206-.636-.06-.882L5.983 10l2.602-2.405c.266-.25.291-.62.06-.887-.232-.263-.596-.272-.866-.022L4.723 9.51a.653.653 0 0 0 0 .983l3.056 2.827Z" fill="'+fg+'"/></svg>'},headerString:function headerString(props){var fg=props.fgColor,bg=props.bgColor;return iconHead+'\n  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="'+bg+'"/>\n  <path d="M8.182 12.4h3.636l.655 1.6H14l-3.454-8H9.455L6 14h1.527l.655-1.6zM10 7.44l1.36 3.651H8.64L10 7.441z" fill="'+fg+'"/>\n</svg>'},headerBoolean:function headerBoolean(props){var fg=props.fgColor,bg=props.bgColor;return iconHead+'\n    <path\n        d="M16.2222 2H3.77778C2.8 2 2 2.8 2 3.77778V16.2222C2 17.2 2.8 18 3.77778 18H16.2222C17.2 18 17.9911 17.2 17.9911 16.2222L18 3.77778C18 2.8 17.2 2 16.2222 2Z"\n        fill="'+bg+'"\n    />\n    <path\n        fill-rule="evenodd"\n        clip-rule="evenodd"\n        d="M7.66667 6.66669C5.73368 6.66669 4.16667 8.15907 4.16667 10C4.16667 11.841 5.73368 13.3334 7.66667 13.3334H12.3333C14.2663 13.3334 15.8333 11.841 15.8333 10C15.8333 8.15907 14.2663 6.66669 12.3333 6.66669H7.66667ZM12.5 12.5C13.8807 12.5 15 11.3807 15 10C15 8.61931 13.8807 7.50002 12.5 7.50002C11.1193 7.50002 10 8.61931 10 10C10 11.3807 11.1193 12.5 12.5 12.5Z"\n        fill="'+fg+'"\n    />\n</svg>'},headerAudioUri:headerUri,headerVideoUri:function headerVideoUri(props){var fg=props.fgColor,bg=props.bgColor;return iconHead+'\n  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="'+bg+'"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M7 13.138a.5.5 0 00.748.434l5.492-3.138a.5.5 0 000-.868L7.748 6.427A.5.5 0 007 6.862v6.276z" fill="'+fg+'"/>\n</svg>'},headerEmoji:function headerEmoji(props){var fg=props.fgColor,bg=props.bgColor;return"\n    "+iconHead+'\n    <path d="M10 5a5 5 0 1 0 0 10 5 5 0 0 0 0-10zm0 9.17A4.17 4.17 0 0 1 5.83 10 4.17 4.17 0 0 1 10 5.83 4.17 4.17 0 0 1 14.17 10 4.17 4.17 0 0 1 10 14.17z" fill="'+fg+'"/>\n    <path d="M8.33 8.21a.83.83 0 1 0-.03 1.67.83.83 0 0 0 .03-1.67zm3.34 0a.83.83 0 1 0-.04 1.67.83.83 0 0 0 .04-1.67z" fill="'+fg+'"/>\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M14.53 13.9a2.82 2.82 0 0 1-5.06 0l.77-.38a1.97 1.97 0 0 0 3.52 0l.77.39z" fill="'+fg+'"/>\n    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="'+bg+'"/>\n    <path d="M10 4a6 6 0 1 0 0 12 6 6 0 0 0 0-12zm0 11a5 5 0 1 1 .01-10.01A5 5 0 0 1 10 15z" fill="'+fg+'"/>\n    <path d="M8 7.86a1 1 0 1 0-.04 2 1 1 0 0 0 .04-2zm4 0a1 1 0 1 0-.04 2 1 1 0 0 0 .04-2z" fill="'+fg+'"/>\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M12.53 11.9a2.82 2.82 0 0 1-5.06 0l.77-.38a1.97 1.97 0 0 0 3.52 0l.77.39z" fill="'+fg+'"/>\n  </svg>'},headerImage:function headerImage(props){var fg=props.fgColor,bg=props.bgColor;return iconHead+'\n  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="'+bg+'"/>\n  <path opacity=".5" fill-rule="evenodd" clip-rule="evenodd" d="M12.499 10.801a.5.5 0 01.835 0l2.698 4.098a.5.5 0 01-.418.775H10.22a.5.5 0 01-.417-.775l2.697-4.098z" fill="'+fg+'"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M8.07 8.934a.5.5 0 01.824 0l4.08 5.958a.5.5 0 01-.412.782h-8.16a.5.5 0 01-.413-.782l4.08-5.958zM13.75 8.333a2.083 2.083 0 100-4.166 2.083 2.083 0 000 4.166z" fill="'+fg+'"/>\n</svg>'},headerUri:headerUri,headerPhone:function headerPhone(props){var fg=props.fgColor,bg=props.bgColor;return"\n    "+iconHead+'\n    <path fill="'+fg+'" d="M3 3h14v14H3z"/>\n    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2zm-7.24 9.78h1.23c.15 0 .27.06.36.18l.98 1.28a.43.43 0 0 1-.05.58l-1.2 1.21a.45.45 0 0 1-.6.04A6.72 6.72 0 0 1 7.33 10c0-.61.1-1.2.25-1.78a6.68 6.68 0 0 1 2.12-3.3.44.44 0 0 1 .6.04l1.2 1.2c.16.17.18.42.05.59l-.98 1.29a.43.43 0 0 1-.36.17H8.98A5.38 5.38 0 0 0 8.67 10c0 .62.11 1.23.3 1.79z" fill="'+bg+'"/>\n  </svg>'},headerMarkdown:function headerMarkdown(props){var fg=props.fgColor,bg=props.bgColor;return"\n    "+iconHead+'\n    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="'+bg+'"/>\n    <path d="m13.49 13.15-2.32-3.27h1.4V7h1.86v2.88h1.4l-2.34 3.27zM11 13H9v-3l-1.5 1.92L6 10v3H4V7h2l1.5 2L9 7h2v6z" fill="'+fg+'"/>\n  </svg>'},headerDate:function headerDate(props){var fg=props.fgColor,bg=props.bgColor;return iconHead+'\n  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="'+bg+'"/>\n  <path d="M14.8 4.182h-.6V3H13v1.182H7V3H5.8v1.182h-.6c-.66 0-1.2.532-1.2 1.182v9.454C4 15.468 4.54 16 5.2 16h9.6c.66 0 1.2-.532 1.2-1.182V5.364c0-.65-.54-1.182-1.2-1.182zm0 10.636H5.2V7.136h9.6v7.682z" fill="'+fg+'"/>\n</svg>'},headerTime:function headerTime(props){var fg=props.fgColor,bg=props.bgColor;return"\n    "+iconHead+'\n    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="'+bg+'"/>\n    <path d="M10 4a6 6 0 0 0-6 6 6 6 0 0 0 6 6 6 6 0 0 0 6-6 6 6 0 0 0-6-6zm0 10.8A4.8 4.8 0 0 1 5.2 10a4.8 4.8 0 1 1 4.8 4.8z" fill="'+fg+'"/>\n    <path d="M10 7H9v3.93L12.5 13l.5-.8-3-1.76V7z" fill="'+fg+'"/>\n  </svg>'},headerEmail:function headerEmail(props){var fg=props.fgColor,bg=props.bgColor;return iconHead+'\n  <rect x="2" y="2" width="16" height="16" rx="2" fill="'+bg+'"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M10 8.643a1.357 1.357 0 100 2.714 1.357 1.357 0 000-2.714zM7.357 10a2.643 2.643 0 115.286 0 2.643 2.643 0 01-5.286 0z" fill="'+fg+'"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M7.589 4.898A5.643 5.643 0 0115.643 10v.5a2.143 2.143 0 01-4.286 0V8a.643.643 0 011.286 0v2.5a.857.857 0 001.714 0V10a4.357 4.357 0 10-1.708 3.46.643.643 0 01.782 1.02 5.643 5.643 0 11-5.842-9.582z" fill="'+fg+'"/>\n</svg>'},headerReference:function headerReference(props){var fg=props.fgColor,bg=props.bgColor;return"\n    "+iconHead+'\n    <rect x="2" y="8" width="10" height="8" rx="2" fill="'+bg+'"/>\n    <rect x="8" y="4" width="10" height="8" rx="2" fill="'+bg+'"/>\n    <path d="M10.68 7.73V6l2.97 3.02-2.97 3.02v-1.77c-2.13 0-3.62.7-4.68 2.2.43-2.15 1.7-4.31 4.68-4.74z" fill="'+fg+'"/>\n  </svg>'},headerIfThenElse:function headerIfThenElse(props){var fg=props.fgColor,bg=props.bgColor;return iconHead+'\n  <path fill="'+fg+'" d="M4 3h12v14H4z"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M3.6 2A1.6 1.6 0 002 3.6v12.8A1.6 1.6 0 003.6 18h12.8a1.6 1.6 0 001.6-1.6V3.6A1.6 1.6 0 0016.4 2H3.6zm11.3 10.8a.7.7 0 01.7.7v1.4a.7.7 0 01-.7.7h-1.4a.7.7 0 01-.7-.7v-1.4a.7.7 0 01.6-.693.117.117 0 00.1-.115V10.35a.117.117 0 00-.117-.116h-2.8a.117.117 0 00-.117.116v2.333c0 .064.053.117.117.117h.117a.7.7 0 01.7.7v1.4a.7.7 0 01-.7.7H9.3a.7.7 0 01-.7-.7v-1.4a.7.7 0 01.7-.7h.117a.117.117 0 00.117-.117V10.35a.117.117 0 00-.117-.117h-2.8a.117.117 0 00-.117.117v2.342c0 .058.042.106.1.115a.7.7 0 01.6.693v1.4a.7.7 0 01-.7.7H5.1a.7.7 0 01-.7-.7v-1.4a.7.7 0 01.7-.7h.35a.116.116 0 00.116-.117v-2.45c0-.515.418-.933.934-.933h2.917a.117.117 0 00.117-.117V6.85a.117.117 0 00-.117-.116h-2.45a.7.7 0 01-.7-.7V5.1a.7.7 0 01.7-.7h6.067a.7.7 0 01.7.7v.934a.7.7 0 01-.7.7h-2.45a.117.117 0 00-.118.116v2.333c0 .064.053.117.117.117H13.5c.516 0 .934.418.934.934v2.45c0 .063.052.116.116.116h.35z" fill="'+bg+'"/>\n</svg>'},headerSingleValue:function headerSingleValue(props){var fg=props.fgColor,bg=props.bgColor;return"\n    "+iconHead+'\n    <rect x="2" y="2" width="16" height="16" rx="2" fill="'+bg+'"/>\n    <path d="M9.98 13.33c.45 0 .74-.3.73-.75l-.01-.1-.16-1.67 1.45 1.05a.81.81 0 0 0 .5.18c.37 0 .72-.32.72-.76 0-.3-.17-.54-.49-.68l-1.63-.77 1.63-.77c.32-.14.49-.37.49-.67 0-.45-.34-.76-.71-.76a.81.81 0 0 0-.5.18l-1.47 1.03.16-1.74.01-.08c.01-.46-.27-.76-.72-.76-.46 0-.76.32-.75.76l.01.08.16 1.74-1.47-1.03a.77.77 0 0 0-.5-.18.74.74 0 0 0-.72.76c0 .3.17.53.49.67l1.63.77-1.62.77c-.32.14-.5.37-.5.68 0 .44.35.75.72.75a.78.78 0 0 0 .5-.17L9.4 10.8l-.16 1.68v.09c-.02.44.28.75.74.75z" fill="'+fg+'"/>\n  </svg>'},headerLookup:function headerLookup(props){var fg=props.fgColor,bg=props.bgColor;return"\n    "+iconHead+'\n    <rect x="2" y="2" width="16" height="16" rx="2" fill="'+bg+'"/>\n    <path d="M8 5.83H5.83a.83.83 0 0 0 0 1.67h1.69A4.55 4.55 0 0 1 8 5.83zm-.33 3.34H5.83a.83.83 0 0 0 0 1.66h2.72a4.57 4.57 0 0 1-.88-1.66zM5.83 12.5a.83.83 0 0 0 0 1.67h7.5a.83.83 0 1 0 0-1.67h-7.5zm8.8-2.9a3.02 3.02 0 0 0 .46-1.6c0-1.66-1.32-3-2.94-3C10.52 5 9.2 6.34 9.2 8s1.31 3 2.93 3c.58 0 1.11-.17 1.56-.47l2.04 2.08.93-.94-2.04-2.08zm-2.48.07c-.9 0-1.63-.75-1.63-1.67s.73-1.67 1.63-1.67c.9 0 1.63.75 1.63 1.67s-.73 1.67-1.63 1.67z" fill="'+fg+'"/>\n  </svg>'},headerTextTemplate:function headerTextTemplate(props){var fg=props.fgColor,bg=props.bgColor;return iconHead+'\n  <rect x="2" y="2" width="16" height="16" rx="2" fill="'+bg+'"/>\n  <path d="M7.676 4.726V3l2.976 3.021-2.976 3.022v-1.77c-2.125 0-3.613.69-4.676 2.201.425-2.158 1.7-4.316 4.676-4.748zM10.182 14.4h3.636l.655 1.6H16l-3.454-8h-1.091L8 16h1.527l.655-1.6zM12 9.44l1.36 3.65h-2.72L12 9.44z" fill="'+fg+'"/>\n</svg>'},headerMath:function headerMath(props){var fg=props.fgColor,bg=props.bgColor;return iconHead+'\n  <rect x="2" y="2" width="16" height="16" rx="2" fill="'+bg+'"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M4.167 5.417a.833.833 0 100 1.666h4.166a.833.833 0 100-1.666H4.167z" fill="'+fg+'"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M7.083 4.167a.833.833 0 10-1.666 0v4.166a.833.833 0 101.666 0V4.167zM11.667 5.417a.833.833 0 100 1.666h4.166a.833.833 0 100-1.666h-4.166zM5.367 11.688a.833.833 0 00-1.179 1.179l2.947 2.946a.833.833 0 001.178-1.178l-2.946-2.947z" fill="'+fg+'"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M8.313 12.867a.833.833 0 10-1.178-1.179l-2.947 2.947a.833.833 0 101.179 1.178l2.946-2.946z" fill="'+fg+'"/>\n  <path d="M10.833 12.5c0-.46.373-.833.834-.833h4.166a.833.833 0 110 1.666h-4.166a.833.833 0 01-.834-.833zM10.833 15c0-.46.373-.833.834-.833h4.166a.833.833 0 110 1.666h-4.166a.833.833 0 01-.834-.833z" fill="'+fg+'"/>\n</svg>'},headerRollup:function headerRollup(props){var fg=props.fgColor,bg=props.bgColor;return"\n    "+iconHead+'\n    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="'+bg+'"/>\n    <path d="M10 8.84a1.16 1.16 0 1 0 0 2.32 1.16 1.16 0 0 0 0-2.32zm3.02 3.61a3.92 3.92 0 0 0 .78-3.28.49.49 0 1 0-.95.2c.19.87-.02 1.78-.58 2.47a2.92 2.92 0 1 1-4.13-4.08 2.94 2.94 0 0 1 2.43-.62.49.49 0 1 0 .17-.96 3.89 3.89 0 1 0 2.28 6.27zM10 4.17a5.84 5.84 0 0 0-5.44 7.93.49.49 0 1 0 .9-.35 4.86 4.86 0 1 1 2.5 2.67.49.49 0 1 0-.4.88c.76.35 1.6.54 2.44.53a5.83 5.83 0 0 0 0-11.66zm3.02 3.5a.7.7 0 1 0-1.4 0 .7.7 0 0 0 1.4 0zm-6.97 5.35a.7.7 0 1 1 0 1.4.7.7 0 0 1 0-1.4z" fill="'+fg+'"/>\n  </svg>'},headerJoinStrings:function headerJoinStrings(props){var fg=props.fgColor,bg=props.bgColor;return iconHead+'\n  <rect x="2" y="2" width="16" height="16" rx="2" fill="'+bg+'"/>\n  <path d="M12.4 13.565c1.865-.545 3.645-2.083 3.645-4.396 0-1.514-.787-2.604-2.071-2.604C12.69 6.565 12 7.63 12 8.939c1.114.072 1.865.726 1.865 1.683 0 .933-.8 1.647-1.84 2.023l.375.92zM4 5h6v2H4zM4 9h5v2H4zM4 13h4v2H4z" fill="'+fg+'"/>\n</svg>'},headerSplitString:function headerSplitString(props){var fg=props.fgColor,bg=props.bgColor;return"\n    "+iconHead+'\n    <rect x="2" y="2" width="16" height="16" rx="2" fill="'+bg+'"/>\n    <path d="M12.4 13.56c1.86-.54 3.65-2.08 3.65-4.4 0-1.5-.8-2.6-2.08-2.6S12 7.64 12 8.95c1.11.07 1.86.73 1.86 1.68 0 .94-.8 1.65-1.83 2.03l.37.91zM4 5h6v2H4zm0 4h5v2H4zm0 4h4v2H4z" fill="'+fg+'"/>\n  </svg>'},headerGeoDistance:function headerGeoDistance(props){var fg=props.fgColor,bg=props.bgColor;return iconHead+'\n  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="'+bg+'"/>\n  <path d="M10 7a1 1 0 100-2v2zm0 6a1 1 0 100 2v-2zm0-8H7v2h3V5zm-3 6h5V9H7v2zm5 2h-2v2h2v-2zm1-1a1 1 0 01-1 1v2a3 3 0 003-3h-2zm-1-1a1 1 0 011 1h2a3 3 0 00-3-3v2zM4 8a3 3 0 003 3V9a1 1 0 01-1-1H4zm3-3a3 3 0 00-3 3h2a1 1 0 011-1V5z" fill="'+fg+'"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M4.856 12.014a.5.5 0 00-.712.702L5.409 14l-1.265 1.284a.5.5 0 00.712.702l1.255-1.274 1.255 1.274a.5.5 0 00.712-.702L6.813 14l1.265-1.284a.5.5 0 00-.712-.702L6.11 13.288l-1.255-1.274zM12.856 4.014a.5.5 0 00-.712.702L13.409 6l-1.265 1.284a.5.5 0 10.712.702l1.255-1.274 1.255 1.274a.5.5 0 10.712-.702L14.813 6l1.265-1.284a.5.5 0 00-.712-.702L14.11 5.288l-1.255-1.274z" fill="'+fg+'"/>\n</svg>'},headerArray:function headerArray(props){var fg=props.fgColor,bg=props.bgColor;return iconHead+'\n  <rect x="2" y="2" width="16" height="16" rx="2" fill="'+bg+'"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M14.25 7.25a.75.75 0 000-1.5h-6.5a.75.75 0 100 1.5h6.5zM15 10a.75.75 0 01-.75.75h-6.5a.75.75 0 010-1.5h6.5A.75.75 0 0115 10zm-.75 4.25a.75.75 0 000-1.5h-6.5a.75.75 0 000 1.5h6.5zm-8.987-7a.75.75 0 100-1.5.75.75 0 000 1.5zm.75 2.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm-.75 4.25a.75.75 0 100-1.5.75.75 0 000 1.5z" fill="'+fg+'"/>\n</svg>'},rowOwnerOverlay:function rowOwnerOverlay(props){var fg=props.fgColor;return'\n    <svg width="18" height="18" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M2 15v1h14v-2.5c0-.87-.44-1.55-.98-2.04a6.19 6.19 0 0 0-1.9-1.14 12.1 12.1 0 0 0-2.48-.67A4 4 0 1 0 5 6a4 4 0 0 0 2.36 3.65c-.82.13-1.7.36-2.48.67-.69.28-1.37.65-1.9 1.13A2.8 2.8 0 0 0 2 13.5V15z" fill="'+props.bgColor+'" stroke="'+fg+'" stroke-width="2"/>\n  </svg>'},protectedColumnOverlay:function protectedColumnOverlay(props){var fg=props.fgColor;return'\n    <svg width="18" height="18" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M12.43 6.04v-.18a3.86 3.86 0 0 0-7.72 0v.18A2.15 2.15 0 0 0 3 8.14v5.72C3 15.04 3.96 16 5.14 16H12c1.18 0 2.14-.96 2.14-2.14V8.14c0-1.03-.73-1.9-1.71-2.1zM7.86 6v-.14a.71.71 0 1 1 1.43 0V6H7.86z" fill="'+props.bgColor+'" stroke="'+fg+'" stroke-width="2"/>\n  </svg>\n'}};function data_grid_sprites_toConsumableArray(arr){return function data_grid_sprites_arrayWithoutHoles(arr){if(Array.isArray(arr))return data_grid_sprites_arrayLikeToArray(arr)}(arr)||function data_grid_sprites_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||data_grid_sprites_unsupportedIterableToArray(arr)||function data_grid_sprites_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function data_grid_sprites_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=data_grid_sprites_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function data_grid_sprites_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||data_grid_sprites_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function data_grid_sprites_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return data_grid_sprites_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?data_grid_sprites_arrayLikeToArray(o,minLen):void 0}}function data_grid_sprites_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function data_grid_sprites_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var variantList=["normal","selected","special"];function makeExtraMapIndex(bgColor,fgColor){return bgColor+"|"+fgColor}function getColors(variant,theme){return"normal"===variant?[theme.bgIconHeader,theme.fgIconHeader]:"selected"===variant?["white",theme.accentColor]:[theme.accentColor,theme.bgHeader]}var data_grid_sprites_SpriteManager=function(){function SpriteManager(headerIcons){!function data_grid_sprites_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SpriteManager),this.colorMap=[],this.spriteCanvas=void 0,this.spriteList=void 0,this.headerIcons=void 0,this.headerIcons=Object.assign({},sprites,null!=headerIcons?headerIcons:{}),this.spriteList=Object.keys(this.headerIcons)}var _buildSpriteMap;return function data_grid_sprites_createClass(Constructor,protoProps,staticProps){return protoProps&&data_grid_sprites_defineProperties(Constructor.prototype,protoProps),staticProps&&data_grid_sprites_defineProperties(Constructor,staticProps),Constructor}(SpriteManager,[{key:"drawSprite",value:function drawSprite(sprite,variant,ctx,x,y,size,theme){if(void 0===this.spriteCanvas)throw new Error;var spriteIndex=this.spriteList.indexOf(sprite);if(-1===spriteIndex)throw new Error("Unknown header icon: "+sprite);var _getColors2=_slicedToArray(getColors(variant,theme),2),bgColor=_getColors2[0],fgColor=_getColors2[1],variantIndex=this.colorMap.indexOf(makeExtraMapIndex(bgColor,fgColor)),xOffset=40*spriteIndex,yOffset=Math.max(0,40*variantIndex);ctx.drawImage(this.spriteCanvas,xOffset,yOffset,40,40,x,y,size,size)}},{key:"buildSpriteMap",value:(_buildSpriteMap=function data_grid_sprites_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){data_grid_sprites_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){data_grid_sprites_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(theme,cols){var map,_iterator,_step,v,_getColors3,_getColors4,bg,fg,_iterator2,_step2,c,_c$themeOverride,_c$themeOverride2,finalTheme,_iterator5,_step5,_v,_getColors5,_getColors6,_bg,_fg,newMap,hasDiff,_iterator3,_step3,_ref,_ref2,index,ctx,x,_iterator4,_step4,_key,sprite,y,_iterator6,_step6,ex,_getColorsForIndex2,bgColor,fgColor,imgSource;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:map=new Set,_iterator=data_grid_sprites_createForOfIteratorHelper(variantList);try{for(_iterator.s();!(_step=_iterator.n()).done;)v=_step.value,_getColors3=getColors(v,theme),_getColors4=_slicedToArray(_getColors3,2),bg=_getColors4[0],fg=_getColors4[1],map.add(makeExtraMapIndex(bg,fg))}catch(err){_iterator.e(err)}finally{_iterator.f()}_iterator2=data_grid_sprites_createForOfIteratorHelper(cols);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;)if(c=_step2.value,void 0!==(null===(_c$themeOverride=c.themeOverride)||void 0===_c$themeOverride?void 0:_c$themeOverride.bgIconHeader)||void 0!==(null===(_c$themeOverride2=c.themeOverride)||void 0===_c$themeOverride2?void 0:_c$themeOverride2.fgIconHeader)){finalTheme=Object.assign({},theme,c.themeOverride),_iterator5=data_grid_sprites_createForOfIteratorHelper(variantList);try{for(_iterator5.s();!(_step5=_iterator5.n()).done;)_v=_step5.value,_getColors5=getColors(_v,finalTheme),_getColors6=_slicedToArray(_getColors5,2),_bg=_getColors6[0],_fg=_getColors6[1],map.add(makeExtraMapIndex(_bg,_fg))}catch(err){_iterator5.e(err)}finally{_iterator5.f()}}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}(newMap=data_grid_sprites_toConsumableArray(map)).sort(),hasDiff=!1,_iterator3=data_grid_sprites_createForOfIteratorHelper(newMap.entries()),_context.prev=9,_iterator3.s();case 11:if((_step3=_iterator3.n()).done){_context.next=21;break}if(_ref=_step3.value,_ref2=_slicedToArray(_ref,2),index=_ref2[0],_ref2[1]===this.colorMap[index]){_context.next=19;break}return hasDiff=!0,_context.abrupt("break",21);case 19:_context.next=11;break;case 21:_context.next=26;break;case 23:_context.prev=23,_context.t0=_context.catch(9),_iterator3.e(_context.t0);case 26:return _context.prev=26,_iterator3.f(),_context.finish(26);case 29:if(hasDiff){_context.next=31;break}return _context.abrupt("return",!1);case 31:if(this.colorMap=newMap,this.spriteCanvas=document.createElement("canvas"),this.spriteCanvas.width=40*this.spriteList.length,this.spriteCanvas.height=40*this.colorMap.length,null!==(ctx=this.spriteCanvas.getContext("2d"))){_context.next=38;break}return _context.abrupt("return",!1);case 38:x=0,_iterator4=data_grid_sprites_createForOfIteratorHelper(this.spriteList),_context.prev=40,_iterator4.s();case 42:if((_step4=_iterator4.n()).done){_context.next=71;break}_key=_step4.value,sprite=this.headerIcons[_key],y=0,_iterator6=data_grid_sprites_createForOfIteratorHelper(this.colorMap),_context.prev=47,_iterator6.s();case 49:if((_step6=_iterator6.n()).done){_context.next=60;break}return ex=_step6.value,r=void 0,r=ex.split("|"),Object(support.a)(2===r.length),_getColorsForIndex2=_slicedToArray(r,2),bgColor=_getColorsForIndex2[0],fgColor=_getColorsForIndex2[1],(imgSource=new Image).src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(sprite({fgColor:fgColor,bgColor:bgColor})),_context.next=56,imgSource.decode();case 56:ctx.drawImage(imgSource,x,y,40,40),y+=40;case 58:_context.next=49;break;case 60:_context.next=65;break;case 62:_context.prev=62,_context.t1=_context.catch(47),_iterator6.e(_context.t1);case 65:return _context.prev=65,_iterator6.f(),_context.finish(65);case 68:x+=40;case 69:_context.next=42;break;case 71:_context.next=76;break;case 73:_context.prev=73,_context.t2=_context.catch(40),_iterator4.e(_context.t2);case 76:return _context.prev=76,_iterator4.f(),_context.finish(76);case 79:return _context.abrupt("return",!0);case 80:case"end":return _context.stop()}var r}),_callee,this,[[9,23,26,29],[40,73,76,79],[47,62,65,68]])}))),function buildSpriteMap(_x,_x2){return _buildSpriteMap.apply(this,arguments)})}]),SpriteManager}(),utils=__webpack_require__(36),lodash_range=__webpack_require__(98),range_default=__webpack_require__.n(lodash_range),color_parser=(__webpack_require__(63),__webpack_require__(124),__webpack_require__(202),__webpack_require__(203),__webpack_require__(111),__webpack_require__(206)),cells=__webpack_require__(81);function data_grid_render_slicedToArray(arr,i){return function data_grid_render_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function data_grid_render_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||data_grid_render_unsupportedIterableToArray(arr,i)||function data_grid_render_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function data_grid_render_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=data_grid_render_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function data_grid_render_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return data_grid_render_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?data_grid_render_arrayLikeToArray(o,minLen):void 0}}function data_grid_render_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function drawCell(ctx,row,cell,col,x,y,w,h,highlighted,theme,drawCustomCell,imageLoader,hoverAmount,hoverInfo){var hoverX,hoverY;(void 0!==hoverInfo&&hoverInfo[0][0]===col&&hoverInfo[0][1]===row&&(hoverX=hoverInfo[1][0],hoverY=hoverInfo[1][1]),!Object(data_grid_types.f)(cell)&&!0===(null==drawCustomCell?void 0:drawCustomCell({ctx:ctx,cell:cell,theme:theme,rect:{x:x,y:y,width:w,height:h},hoverAmount:hoverAmount,hoverX:hoverX,hoverY:hoverY,highlighted:highlighted,imageLoader:imageLoader}))||cell.kind===data_grid_types.b.Custom)||cells.a[cell.kind].render({ctx:ctx,theme:theme,col:col,row:row,cell:cell,x:x,y:y,w:w,h:h,highlighted:highlighted,hoverAmount:hoverAmount,hoverX:hoverX,hoverY:hoverY,imageLoader:imageLoader})}function drawGridLines(ctx,effectiveCols,cellYOffset,translateX,translateY,width,height,headerHeight,getRowHeight,verticalBorder,lastRowSticky,rows,theme){var verticalOnly=arguments.length>13&&void 0!==arguments[13]&&arguments[13];ctx.beginPath(),ctx.moveTo(0,headerHeight+.5),ctx.lineTo(width,headerHeight+.5),ctx.strokeStyle=theme.bgHeader,ctx.lineWidth=1,ctx.stroke(),ctx.beginPath();for(var x=.5,index=0;index<effectiveCols.length;index++){var c=effectiveCols[index];x+=c.width;var tx=c.sticky?x:x+translateX;(index===effectiveCols.length-1||verticalBorder(index+1))&&(ctx.moveTo(tx,0),ctx.lineTo(tx,height))}var stickyHeight=getRowHeight(rows-1),stickyRowY=height-stickyHeight+.5;if(lastRowSticky&&(ctx.moveTo(0,stickyRowY),ctx.lineTo(width,stickyRowY)),!0!==verticalOnly)for(var y=headerHeight+.5,row=cellYOffset,isHeader=!0,target=lastRowSticky?height-stickyHeight:height;y+translateY<=target;){var ty=isHeader?y:y+translateY;(!lastRowSticky||row!==rows-1||Math.abs(ty-stickyRowY)>1)&&(ctx.moveTo(0,ty),ctx.lineTo(width,ty)),y+=getRowHeight(row),isHeader=!1,row++}ctx.strokeStyle=theme.borderColor,ctx.lineWidth=1,ctx.stroke(),ctx.beginPath()}function drawGridHeaders(ctx,effectiveCols,enableGroups,hoveredCol,width,height,translateX,headerHeight,selectedColumns,dragAndDropState,isResizing,selectedCell,outerTheme,spriteManager,hoverValues,verticalBorder){if(0!==headerHeight){ctx.fillStyle=outerTheme.bgHeader,ctx.fillRect(0,0,width,headerHeight);var trueHeaderHeight=enableGroups?headerHeight/2:headerHeight,x=0,clipX=0,font=outerTheme.headerFontStyle+" "+outerTheme.fontFamily;ctx.font=font;var _step,_loop=function _loop(c){var theme=void 0===c.themeOverride?outerTheme:Object.assign({},outerTheme,c.themeOverride),f=theme.headerFontStyle+" "+theme.fontFamily;font!==f&&(ctx.font=f,font=f);var selected=selectedColumns.hasIndex(c.sourceIndex),noHover=void 0!==dragAndDropState||isResizing,hoveredBoolean=!noHover&&hoveredCol===c.sourceIndex,hover=noHover?0:null!==(_hoverValues$find$hov=null===(_hoverValues$find=hoverValues.find((function(s){return s.item[0]===c.sourceIndex&&void 0===s.item[1]})))||void 0===_hoverValues$find?void 0:_hoverValues$find.hoverAmount)&&void 0!==_hoverValues$find$hov?_hoverValues$find$hov:0,hasSelectedCell=void 0!==selectedCell&&selectedCell.cell[0]===c.sourceIndex,fillStyle=selected?theme.textHeaderSelected:theme.textHeader,bgFillStyle=selected?theme.accentColor:hasSelectedCell?theme.bgHeaderHasFocus:theme.bgHeader;ctx.save(),c.sticky?clipX=Math.max(clipX,x+c.width):(ctx.beginPath(),ctx.rect(clipX,0,width,height),ctx.clip(),ctx.translate(translateX,0));var y=enableGroups?headerHeight/2:0,xOffset=0===c.sourceIndex?0:1;selected?(ctx.fillStyle=bgFillStyle,ctx.fillRect(x+xOffset,y,c.width-xOffset,trueHeaderHeight)):(hasSelectedCell||hover>0)&&(ctx.beginPath(),ctx.rect(x+xOffset,y,c.width-xOffset,trueHeaderHeight),hasSelectedCell&&(ctx.fillStyle=theme.bgHeaderHasFocus,ctx.fill()),hover>0&&(ctx.globalAlpha=hover,ctx.fillStyle=theme.bgHeaderHovered,ctx.fill(),ctx.globalAlpha=1)),ctx.beginPath(),ctx.rect(x+8,2,c.width-8,headerHeight-4),ctx.clip();var drawX=x+8;if(void 0!==c.icon){var variant=selected?"selected":"normal";"highlight"===c.style&&(variant=selected?"selected":"special"),spriteManager.drawSprite(c.icon,variant,ctx,drawX,y+(trueHeaderHeight-20)/2,20,theme),void 0!==c.overlayIcon&&spriteManager.drawSprite(c.overlayIcon,selected?"selected":"special",ctx,drawX+9,y+((trueHeaderHeight-18)/2+6),18,theme),drawX+=26}if(hoveredBoolean&&!0===c.hasMenu){var fadeStart=c.width-35,fadeEnd=c.width-24.5,fadeStartPercent=fadeStart/c.width,fadeEndPercent=fadeEnd/c.width,grad=ctx.createLinearGradient(x,0,x+c.width,0),_parseToRgba2=data_grid_render_slicedToArray(Object(color_parser.a)(fillStyle),3),r=_parseToRgba2[0],g=_parseToRgba2[1],b=_parseToRgba2[2];grad.addColorStop(0,fillStyle),grad.addColorStop(fadeStartPercent,fillStyle),grad.addColorStop(fadeEndPercent,"rgba("+r+", "+g+", "+b+", 0)"),grad.addColorStop(1,"rgba("+r+", "+g+", "+b+", 0)"),ctx.fillStyle=grad}else ctx.fillStyle=fillStyle;if(ctx.fillText(c.title,drawX,y+(trueHeaderHeight/2+5)),hoveredBoolean&&!0===c.hasMenu){ctx.beginPath();var triangleX=x+c.width-20,triangleY=y+(trueHeaderHeight/2-3);Object(data_grid_lib.m)(ctx,[{x:triangleX,y:triangleY},{x:triangleX+11,y:triangleY},{x:triangleX+5.5,y:triangleY+6}],1),ctx.fillStyle=fillStyle,ctx.fill()}ctx.restore(),x+=c.width},_iterator=data_grid_render_createForOfIteratorHelper(effectiveCols);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _hoverValues$find$hov,_hoverValues$find;_loop(_step.value)}}catch(err){_iterator.e(err)}finally{_iterator.f()}enableGroups&&function drawGroups(ctx,effectiveCols,width,height,translateX,headerHeight,theme,verticalBorder){for(var trueHeaderHeight=headerHeight/2,x=0,clipX=0,index=0;index<effectiveCols.length;index++){var _theme$textGroupHeade,startCol=effectiveCols[index],group=startCol.group,end=index+1,boxWidth=startCol.width;for(startCol.sticky&&(clipX+=boxWidth);end<effectiveCols.length&&effectiveCols[end].group===group&&effectiveCols[end].sticky===effectiveCols[index].sticky;){var endCol=effectiveCols[end];boxWidth+=endCol.width,end++,index++,endCol.sticky&&(clipX+=endCol.width)}var localX=x+(startCol.sticky?0:translateX);ctx.save(),ctx.beginPath();var delta=startCol.sticky?0:Math.max(0,clipX-localX);ctx.rect(localX+delta,0,boxWidth-delta,height),ctx.clip(),ctx.fillStyle=null!==(_theme$textGroupHeade=theme.textGroupHeader)&&void 0!==_theme$textGroupHeade?_theme$textGroupHeade:theme.textHeader,void 0!==group&&ctx.fillText(group,localX+delta+8,trueHeaderHeight/2+5),verticalBorder(startCol.sourceIndex)&&(ctx.beginPath(),ctx.moveTo(localX+delta+.5,0),ctx.lineTo(localX+delta+.5,trueHeaderHeight),ctx.strokeStyle=theme.borderColor,ctx.lineWidth=1,ctx.stroke()),ctx.restore(),x+=boxWidth}ctx.beginPath(),ctx.moveTo(x+.5,0),ctx.lineTo(x+.5,trueHeaderHeight),ctx.moveTo(0,trueHeaderHeight+.5),ctx.lineTo(width,trueHeaderHeight+.5),ctx.strokeStyle=theme.borderColor,ctx.lineWidth=1,ctx.stroke()}(ctx,effectiveCols,width,height,translateX,headerHeight,outerTheme,verticalBorder)}}function intersectRect(x1,y1,w1,h1,x2,y2,w2,h2){return x1<=x2+w2&&x2<=x1+w1&&y1<=y2+h2&&y2<=y1+h1}function drawCells(ctx,effectiveColumns,height,headerHeight,translateX,translateY,cellYOffset,rows,getRowHeight,getCellContent,selectedRows,disabledRows,lastRowSticky,drawRegions,damage,selectedCell,selectedColumns,prelightCells,drawCustomCell,imageLoader,hoverValues,hoverInfo,outerTheme){var _damage$length,toDraw=null!==(_damage$length=null==damage?void 0:damage.length)&&void 0!==_damage$length?_damage$length:Number.MAX_SAFE_INTEGER;walkColumns(effectiveColumns,cellYOffset,translateX,translateY,headerHeight,(function(c,drawX,colDrawY,clipX,startRow){var diff=Math.max(0,clipX-drawX);ctx.save(),ctx.beginPath(),ctx.rect(drawX+diff,headerHeight+1,c.width-diff,height-headerHeight-1),ctx.clip();var colTheme=void 0===c.themeOverride?outerTheme:Object.assign({},outerTheme,c.themeOverride);return walkRowsInCol(startRow,colDrawY,height,rows,getRowHeight,lastRowSticky,(function(drawY,row,rh,isSticky){var _hoverValue$hoverAmou;if((void 0===damage||damage.some((function(d){return d[0]===c.sourceIndex&&d[1]===row})))&&(!(drawRegions.length>0)||drawRegions.some((function(dr){return intersectRect(drawX,drawY,c.width,rh,dr.x,dr.y,dr.width,dr.height)})))){var rowSelected=selectedRows.hasIndex(row),rowDisabled=disabledRows.hasIndex(row),cell=row<rows?getCellContent([c.sourceIndex,row]):{kind:data_grid_types.b.Loading,allowOverlay:!1},theme=void 0===cell.themeOverride?outerTheme:Object.assign({},colTheme,cell.themeOverride);ctx.beginPath();var highlighted=(null==selectedCell?void 0:selectedCell.cell[0])===c.sourceIndex&&(null==selectedCell?void 0:selectedCell.cell[1])===row||!isSticky&&(rowSelected||selectedColumns.hasIndex(c.sourceIndex));if(void 0!==(null==selectedCell?void 0:selectedCell.range)){var range=selectedCell.range;c.sourceIndex>=range.x&&c.sourceIndex<range.x+range.width&&row>=range.y&&row<range.y+range.height&&(highlighted=!0)}(isSticky||theme.bgCell!==outerTheme.bgCell)&&(ctx.fillStyle=theme.bgCell,ctx.fillRect(drawX,drawY,c.width,rh)),highlighted||rowDisabled?(rowDisabled&&(ctx.fillStyle=theme.bgHeader,ctx.fillRect(drawX,drawY,c.width,rh)),highlighted&&(ctx.fillStyle=theme.accentLight,ctx.fillRect(drawX,drawY,c.width,rh))):void 0!==(null==prelightCells?void 0:prelightCells.find((function(pre){return pre[0]===c.sourceIndex&&pre[1]===row})))&&(ctx.fillStyle=theme.bgSearchResult,ctx.fillRect(drawX,drawY,c.width,rh)),"faded"===cell.style&&(ctx.globalAlpha=.6);var hoverValue=hoverValues.find((function(hv){return hv.item[0]===c.sourceIndex&&hv.item[1]===row}));return drawCell(ctx,row,cell,c.sourceIndex,drawX,drawY,c.width,rh,highlighted,theme,drawCustomCell,imageLoader,null!==(_hoverValue$hoverAmou=null==hoverValue?void 0:hoverValue.hoverAmount)&&void 0!==_hoverValue$hoverAmou?_hoverValue$hoverAmou:0,hoverInfo),ctx.globalAlpha=1,--toDraw<=0}})),ctx.restore(),toDraw<=0}))}function drawFocusRing(ctx,width,height,cellYOffset,translateX,translateY,effectiveCols,theme,headerHeight,selectedCell,getRowHeight,lastRowSticky,rows){if(void 0!==selectedCell&&!effectiveCols.find((function(c){return c.sourceIndex===selectedCell.cell[0]===void 0}))){var _selectedCell$cell=data_grid_render_slicedToArray(selectedCell.cell,2),targetCol=_selectedCell$cell[0],targetRow=_selectedCell$cell[1],stickRowHeight=lastRowSticky&&!(lastRowSticky&&targetRow===rows-1)?getRowHeight(rows-1)-1:0;ctx.beginPath(),ctx.rect(0,headerHeight,width,height-headerHeight-stickRowHeight),ctx.clip(),walkColumns(effectiveCols,cellYOffset,translateX,translateY,headerHeight,(function(col,drawX,colDrawY,clipX,startRow){col.sourceIndex===targetCol&&walkRowsInCol(startRow,colDrawY,height,rows,getRowHeight,lastRowSticky,(function(drawY,row,rh){var _col$themeOverride$ac,_col$themeOverride;if(row===targetRow){if(ctx.save(),clipX>drawX){var diff=Math.max(0,clipX-drawX);ctx.beginPath(),ctx.rect(drawX+diff,drawY,col.width-diff+1,rh+1),ctx.clip()}ctx.beginPath(),ctx.rect(drawX+.5,drawY+.5,col.width,rh),ctx.strokeStyle=null!==(_col$themeOverride$ac=null===(_col$themeOverride=col.themeOverride)||void 0===_col$themeOverride?void 0:_col$themeOverride.accentColor)&&void 0!==_col$themeOverride$ac?_col$themeOverride$ac:theme.accentColor,ctx.lineWidth=1,ctx.stroke(),ctx.restore()}}))}))}}function drawGrid(canvas,buffers,width,height,cellXOffset,cellYOffset,translateX,translateY,columns,mappedColumns,enableGroups,freezeColumns,dragAndDropState,theme,headerHeight,selectedRows,disabledRows,rowHeight,verticalBorder,selectedColumns,hoveredCol,isResizing,selectedCell,lastRowSticky,rows,getCellContent,drawCustomCell,prelightCells,imageLoader,lastBlitData,canBlit,damage,hoverValues,hoverInfo,spriteManager,scrolling){var _window$devicePixelRa;if(0!==width&&0!==height){var dpr=scrolling?1:Math.ceil(null!==(_window$devicePixelRa=window.devicePixelRatio)&&void 0!==_window$devicePixelRa?_window$devicePixelRa:1);canvas.width===width*dpr&&canvas.height===height*dpr||(canvas.width=width*dpr,canvas.height=height*dpr);var overlayCanvas=buffers.overlay;overlayCanvas.width===width*dpr&&overlayCanvas.height===headerHeight*dpr||(overlayCanvas.width=width*dpr,overlayCanvas.height=headerHeight*dpr);var last=lastBlitData.current;if(!0!==canBlit||cellXOffset!==last.cellXOffset||cellYOffset!==last.cellYOffset||translateX!==last.translateX||translateY!==last.translateY){var targetCtx=canvas.getContext("2d",{alpha:!1}),overlayCtx=overlayCanvas.getContext("2d",{alpha:!1});if(null!==overlayCtx&&null!==targetCtx){var getRowHeight=function getRowHeight(r){return"number"==typeof rowHeight?rowHeight:rowHeight(r)};overlayCtx.save(),overlayCtx.beginPath(),targetCtx.save(),targetCtx.beginPath(),targetCtx.font=theme.baseFontStyle+" "+theme.fontFamily,overlayCtx.font=theme.baseFontStyle+" "+theme.fontFamily,1!==dpr&&(overlayCtx.scale(dpr,dpr),targetCtx.scale(dpr,dpr));var effectiveCols=Object(data_grid_lib.j)(mappedColumns,cellXOffset,width,dragAndDropState,translateX),drawRegions=[],drawHeaderTexture=function drawHeaderTexture(){drawGridHeaders(overlayCtx,effectiveCols,enableGroups,hoveredCol,width,height,translateX,headerHeight,selectedColumns,dragAndDropState,isResizing,selectedCell,theme,spriteManager,hoverValues,verticalBorder),enableGroups&&(overlayCtx.save(),overlayCtx.rect(0,headerHeight/2,width,headerHeight/2),overlayCtx.clip()),drawGridLines(overlayCtx,effectiveCols,cellYOffset,translateX,translateY,width,height,headerHeight,getRowHeight,verticalBorder,lastRowSticky,rows,theme,!0),enableGroups&&overlayCtx.restore()};if(void 0!==damage){(damage=damage.filter((function(x){return void 0===x[1]||intersectRect(cellXOffset,cellYOffset,effectiveCols.length,300,x[0],x[1],1,1)||intersectRect(0,cellYOffset,freezeColumns,300,x[0],x[1],1,1)}))).length>0&&(!function clipDamage(ctx,effectiveColumns,height,headerHeight,translateX,translateY,cellYOffset,rows,getRowHeight,lastRowSticky,damage){if(void 0!==damage&&0!==damage.length){var stickyRowHeight=lastRowSticky?getRowHeight(rows-1):0;ctx.beginPath(),walkColumns(effectiveColumns,cellYOffset,translateX,translateY,headerHeight,(function(c,drawX,colDrawY,clipX,startRow){var diff=Math.max(0,clipX-drawX);walkRowsInCol(startRow,colDrawY,height,rows,getRowHeight,lastRowSticky,(function(drawY,row,rh,isSticky){if(damage.some((function(d){return d[0]===c.sourceIndex&&d[1]===row}))){var top=drawY+1,bottom=isSticky?top+rh-1:Math.min(top+rh-1,height-stickyRowHeight),x=drawX+diff+1,y=top,w=c.width-diff-1,h=bottom-top;h>0&&ctx.rect(x,y,w,h)}}))})),ctx.clip()}}(targetCtx,effectiveCols,height,headerHeight,translateX,translateY,cellYOffset,rows,getRowHeight,lastRowSticky,damage),targetCtx.fillStyle=theme.bgCell,targetCtx.fillRect(0,headerHeight+1,width,height-headerHeight-1),drawCells(targetCtx,effectiveCols,height,headerHeight,translateX,translateY,cellYOffset,rows,getRowHeight,getCellContent,selectedRows,disabledRows,lastRowSticky,drawRegions,damage,selectedCell,selectedColumns,prelightCells,drawCustomCell,imageLoader,hoverValues,hoverInfo,theme));var doHeaders=damage.some((function(d){return void 0===d[1]}));return doHeaders&&drawHeaderTexture(),targetCtx.restore(),overlayCtx.restore(),void(doHeaders&&headerHeight>0&&(targetCtx.imageSmoothingEnabled=!1,targetCtx.drawImage(overlayCanvas,0,0),targetCtx.imageSmoothingEnabled=!1))}if(!0===canBlit){var _blitLastFrame=function blitLastFrame(ctx,canvas,last,cellXOffset,cellYOffset,translateX,translateY,lastRowSticky,width,height,rows,headerHeight,dpr,columns,effectiveCols,getRowHeight){var drawRegions=[],blittedYOnly=!1;ctx.imageSmoothingEnabled=!1;for(var minY=Math.min(last.cellYOffset,cellYOffset),maxY=Math.max(last.cellYOffset,cellYOffset),deltaY=0,i=minY;i<maxY;i++)deltaY+=getRowHeight(i);cellYOffset>last.cellYOffset&&(deltaY=-deltaY),deltaY+=translateY-last.translateY;for(var minX=Math.min(last.cellXOffset,cellXOffset),maxX=Math.max(last.cellXOffset,cellXOffset),deltaX=0,_i=minX;_i<maxX;_i++)deltaX+=columns[_i].width;cellXOffset>last.cellXOffset&&(deltaX=-deltaX),deltaX+=translateX-last.translateX;var stickyWidth=Object(data_grid_lib.l)(effectiveCols);if(stickyWidth>0&&stickyWidth++,0!==deltaX&&0!==deltaY)return{regions:[],yOnly:!1};var stickyRowHeight=lastRowSticky?getRowHeight(rows-1):0,blitWidth=width-stickyWidth-Math.abs(deltaX),blitHeight=height-headerHeight-stickyRowHeight-Math.abs(deltaY)-1;if(blitWidth>150&&blitHeight>150){blittedYOnly=0===deltaX;var args={sx:0,sy:0,sw:width*dpr,sh:height*dpr,dx:0,dy:0,dw:width,dh:height};deltaY>0?(args=Object.assign({},args,{sy:(headerHeight+1)*dpr,sh:blitHeight*dpr,dy:deltaY+headerHeight+1,dh:blitHeight}),drawRegions.push({x:0,y:headerHeight,width:width,height:deltaY+1})):deltaY<0&&(args=Object.assign({},args,{sy:(-deltaY+headerHeight+1)*dpr,sh:blitHeight*dpr,dy:headerHeight+1,dh:blitHeight}),drawRegions.push({x:0,y:height+deltaY-stickyRowHeight,width:width,height:-deltaY+stickyRowHeight})),deltaX>0?(args=Object.assign({},args,{sx:stickyWidth*dpr,sw:blitWidth*dpr,dx:deltaX+stickyWidth,dw:blitWidth}),drawRegions.push({x:stickyWidth-1,y:0,width:deltaX+2,height:height})):deltaX<0&&(args=Object.assign({},args,{sx:(stickyWidth-deltaX)*dpr,sw:blitWidth*dpr,dx:stickyWidth,dw:blitWidth}),drawRegions.push({x:width+deltaX,y:0,width:-deltaX,height:height}),ctx.beginPath()),ctx.drawImage(canvas,args.sx,args.sy,args.sw,args.sh,args.dx,args.dy,args.dw,args.dh)}return ctx.imageSmoothingEnabled=!0,{regions:drawRegions,yOnly:blittedYOnly}}(targetCtx,canvas,last,cellXOffset,cellYOffset,translateX,translateY,lastRowSticky,width,height,rows,headerHeight,dpr,columns,effectiveCols,getRowHeight);drawRegions=_blitLastFrame.regions}if(function overdrawStickyBoundaries(ctx,effectiveCols,width,height,headerHeight,lastRowSticky,rows,getRowHeight,theme){var _step2,drawX=0,_iterator2=data_grid_render_createForOfIteratorHelper(effectiveCols);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var c=_step2.value;if(!c.sticky)break;drawX+=c.width}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}if(ctx.beginPath(),ctx.moveTo(0,headerHeight+.5),ctx.lineTo(width,headerHeight+.5),ctx.strokeStyle=theme.bgHeader,ctx.stroke(),ctx.strokeStyle=theme.borderColor,ctx.stroke(),ctx.beginPath(),0!==drawX&&(ctx.moveTo(drawX+.5,0),ctx.lineTo(drawX+.5,height)),lastRowSticky){var h=getRowHeight(rows-1);ctx.moveTo(0,height-h+.5),ctx.lineTo(width,height-h+.5)}ctx.strokeStyle=theme.bgCell,ctx.stroke(),ctx.strokeStyle=theme.borderColor,ctx.stroke()}(targetCtx,effectiveCols,width,height,headerHeight,lastRowSticky,rows,getRowHeight,theme),void 0!==selectedCell&&selectedCell.cell[0]===freezeColumns-1&&drawFocusRing(targetCtx,width,height,cellYOffset,translateX,translateY,effectiveCols,theme,headerHeight,selectedCell,getRowHeight,lastRowSticky,rows),drawRegions.length>0){targetCtx.beginPath();var _step3,_iterator3=data_grid_render_createForOfIteratorHelper(drawRegions);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var r=_step3.value;targetCtx.rect(r.x,r.y,r.width,r.height)}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}targetCtx.clip(),targetCtx.beginPath()}targetCtx.fillStyle=theme.bgCell,targetCtx.fillRect(0,headerHeight,width,height-headerHeight),drawCells(targetCtx,effectiveCols,height,headerHeight,translateX,translateY,cellYOffset,rows,getRowHeight,getCellContent,selectedRows,disabledRows,lastRowSticky,drawRegions,damage,selectedCell,selectedColumns,prelightCells,drawCustomCell,imageLoader,hoverValues,hoverInfo,theme),function drawBlanks(ctx,effectiveColumns,height,headerHeight,translateX,translateY,cellYOffset,rows,getRowHeight,selectedRows,disabledRows,lastRowSticky,drawRegions,damage,theme){void 0===damage&&walkColumns(effectiveColumns,cellYOffset,translateX,translateY,headerHeight,(function(c,drawX,colDrawY,clipX,startRow){c===effectiveColumns.slice(-1)[0]&&(ctx.save(),ctx.beginPath(),drawX+=c.width,ctx.rect(Math.max(drawX,clipX),headerHeight+1,1e4,height-headerHeight-1),ctx.clip(),walkRowsInCol(startRow,colDrawY,height,rows,getRowHeight,lastRowSticky,(function(drawY,row,rh,isSticky){if(isSticky||!(drawRegions.length>0)||drawRegions.some((function(dr){return intersectRect(drawX,drawY,1e4,rh,dr.x,dr.y,dr.width,dr.height)}))){var rowSelected=selectedRows.hasIndex(row),rowDisabled=disabledRows.hasIndex(row);ctx.beginPath(),rowDisabled&&(ctx.fillStyle=theme.bgHeader,ctx.fillRect(drawX,drawY,1e4,rh)),rowSelected&&(ctx.fillStyle=theme.accentLight,ctx.fillRect(drawX,drawY,1e4,rh))}})),ctx.restore())}))}(targetCtx,effectiveCols,height,headerHeight,translateX,translateY,cellYOffset,rows,getRowHeight,selectedRows,disabledRows,lastRowSticky,drawRegions,damage,theme),drawGridLines(targetCtx,effectiveCols,cellYOffset,translateX,translateY,width,height,headerHeight,getRowHeight,verticalBorder,lastRowSticky,rows,theme),drawFocusRing(targetCtx,width,height,cellYOffset,translateX,translateY,effectiveCols,theme,headerHeight,selectedCell,getRowHeight,lastRowSticky,rows),canBlit&&cellXOffset===last.cellXOffset&&translateX===last.translateX||drawHeaderTexture(),null==imageLoader||imageLoader.setWindow({x:cellXOffset,y:cellYOffset,width:effectiveCols.length,height:100}),lastBlitData.current={cellXOffset:cellXOffset,cellYOffset:cellYOffset,translateX:translateX,translateY:translateY},targetCtx.restore(),overlayCtx.restore(),headerHeight>0&&(targetCtx.imageSmoothingEnabled=!1,targetCtx.drawImage(overlayCanvas,0,0),targetCtx.imageSmoothingEnabled=!0)}}}}function walkRowsInCol(startRow,drawY,height,rows,getRowHeight,lastRowSticky,cb){for(var y=drawY,row=startRow,doSticky=lastRowSticky;y<height||doSticky;){var doingSticky=doSticky&&y>=height;doingSticky&&(doSticky=!1,row=rows-1);var rh=getRowHeight(row);if(doingSticky&&(y=height-rh),!(doSticky&&row===rows-1)&&!0===cb(y,row,rh,doingSticky))break;if(doingSticky)break;y+=rh,row++}}function walkColumns(effectiveCols,cellYOffset,translateX,translateY,headerHeight,cb){var _step4,x=0,clipX=0,drawY=headerHeight+translateY,_iterator4=data_grid_render_createForOfIteratorHelper(effectiveCols);try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var c=_step4.value;if(!0===cb(c,c.sticky?clipX:x+translateX,drawY,clipX,cellYOffset))break;x+=c.width,clipX+=c.sticky?c.width:0}}catch(err){_iterator4.e(err)}finally{_iterator4.f()}}__webpack_require__(5);var clamp=__webpack_require__(88),clamp_default=__webpack_require__.n(clamp);function animation_manager_toConsumableArray(arr){return function animation_manager_arrayWithoutHoles(arr){if(Array.isArray(arr))return animation_manager_arrayLikeToArray(arr)}(arr)||function animation_manager_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||animation_manager_unsupportedIterableToArray(arr)||function animation_manager_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function animation_manager_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return animation_manager_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?animation_manager_arrayLikeToArray(o,minLen):void 0}}function animation_manager_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function animation_manager_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function animation_manager_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var ease=new(function(){function Easing(p1x,p1y,p2x,p2y){animation_manager_classCallCheck(this,Easing),this.ax=0,this.ay=0,this.bx=0,this.by=0,this.cx=0,this.cy=0,this.cx=3*p1x,this.bx=3*(p2x-p1x)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*p1y,this.by=3*(p2y-p1y)-this.cy,this.ay=1-this.cy-this.by}return function animation_manager_createClass(Constructor,protoProps,staticProps){return protoProps&&animation_manager_defineProperties(Constructor.prototype,protoProps),staticProps&&animation_manager_defineProperties(Constructor,staticProps),Constructor}(Easing,[{key:"sampleCurveX",value:function sampleCurveX(t){return((this.ax*t+this.bx)*t+this.cx)*t}},{key:"sampleCurveY",value:function sampleCurveY(t){return((this.ay*t+this.by)*t+this.cy)*t}},{key:"sampleCurveDerivativeX",value:function sampleCurveDerivativeX(t){return(3*this.ax*t+2*this.bx)*t+this.cx}},{key:"solveCurveX",value:function solveCurveX(x){var t0,t1,t2,x2,d2,i;for(t2=x,i=0;i<8;i++){if(x2=this.sampleCurveX(t2)-x,Math.abs(x2)<1e-6)return t2;if(d2=this.sampleCurveDerivativeX(t2),Math.abs(d2)<1e-6)break;t2-=x2/d2}if((t2=x)<(t0=0))return t0;if(t2>(t1=1))return t1;for(;t0<t1;){if(x2=this.sampleCurveX(t2),Math.abs(x2-x)<1e-6)return t2;x>x2?t0=t2:t1=t2,t2=.5*(t1-t0)+t0}return t2}},{key:"solve",value:function solve(x){return this.sampleCurveY(this.solveCurveX(x))}}]),Easing}())(.25,.1,.25,1),animation_manager_AnimationManager=function AnimationManager(callback){var _this=this;animation_manager_classCallCheck(this,AnimationManager),this.callback=callback,this.currentHoveredItem=void 0,this.leavingItems=[],this.lastAnimationTime=void 0,this.areSameItems=function(left,right){return(null==left?void 0:left[0])===(null==right?void 0:right[0])&&(null==left?void 0:left[1])===(null==right?void 0:right[1])},this.addToLeavingItems=function(item){void 0!==_this.leavingItems.find((function(i){return _this.areSameItems(i.item,item.item)}))||_this.leavingItems.push(item)},this.removeFromLeavingItems=function(item){var _leavingItem$hoverAmo,leavingItem=_this.leavingItems.find((function(e){return _this.areSameItems(e.item,item)}));return _this.leavingItems=_this.leavingItems.filter((function(i){return i!==leavingItem})),null!==(_leavingItem$hoverAmo=null==leavingItem?void 0:leavingItem.hoverAmount)&&void 0!==_leavingItem$hoverAmo?_leavingItem$hoverAmo:0},this.cleanUpLeavingElements=function(){_this.leavingItems=_this.leavingItems.filter((function(i){return i.hoverAmount>0}))},this.shouldStep=function(){var hasLeavingItems=_this.leavingItems.length>0,currentHoveredIsAnimating=void 0!==_this.currentHoveredItem&&_this.currentHoveredItem.hoverAmount<1;return hasLeavingItems||currentHoveredIsAnimating},this.getAnimatingItems=function(){return void 0!==_this.currentHoveredItem?[].concat(animation_manager_toConsumableArray(_this.leavingItems),[_this.currentHoveredItem]):_this.leavingItems.map((function(x){return Object.assign({},x,{hoverAmount:ease.solve(x.hoverAmount)})}))},this.step=function(timestamp){if(void 0===_this.lastAnimationTime)_this.lastAnimationTime=timestamp;else{var _step,delta=(timestamp-_this.lastAnimationTime)/80,_iterator=function animation_manager_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=animation_manager_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(_this.leavingItems);try{for(_iterator.s();!(_step=_iterator.n()).done;){var item=_step.value;item.hoverAmount=clamp_default()(item.hoverAmount-delta,0,1)}}catch(err){_iterator.e(err)}finally{_iterator.f()}void 0!==_this.currentHoveredItem&&(_this.currentHoveredItem.hoverAmount=clamp_default()(_this.currentHoveredItem.hoverAmount+delta,0,1));var animating=_this.getAnimatingItems();_this.callback(animating),_this.cleanUpLeavingElements()}_this.shouldStep()?(_this.lastAnimationTime=timestamp,window.requestAnimationFrame(_this.step)):_this.lastAnimationTime=void 0},this.setHovered=function(item){var _this$currentHoveredI;if(!_this.areSameItems(null===(_this$currentHoveredI=_this.currentHoveredItem)||void 0===_this$currentHoveredI?void 0:_this$currentHoveredI.item,item)){if(void 0!==_this.currentHoveredItem&&_this.addToLeavingItems(_this.currentHoveredItem),void 0!==item){var hoverAmount=_this.removeFromLeavingItems(item);_this.currentHoveredItem={item:item,hoverAmount:hoverAmount}}else _this.currentHoveredItem=void 0;void 0===_this.lastAnimationTime&&window.requestAnimationFrame(_this.step)}}},browser_detect=__webpack_require__(125);function data_grid_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function data_grid_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){data_grid_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){data_grid_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function data_grid_slicedToArray(arr,i){return function data_grid_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function data_grid_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function data_grid_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return data_grid_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return data_grid_arrayLikeToArray(o,minLen)}(arr,i)||function data_grid_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function data_grid_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.a=react.memo(Object(styled_components_browser_esm.e)(react.forwardRef((function DataGrid(p,forwardedRef){var _p$translateX,_p$translateY,_p$experimental,_eventTargetRef$curre,width=p.width,height=p.height,className=p.className,theme=p.theme,columns=p.columns,cellXOffsetReal=p.cellXOffset,cellYOffset=p.cellYOffset,headerHeight=p.headerHeight,rowHeight=p.rowHeight,rows=p.rows,getCellContent=p.getCellContent,onHeaderMenuClick=p.onHeaderMenuClick,selectedRows=p.selectedRows,enableGroups=p.enableGroups,selectedCell=p.selectedCell,selectedColumns=p.selectedColumns,freezeColumns=p.freezeColumns,lastRowSticky=p.lastRowSticky,onMouseDown=p.onMouseDown,onMouseUp=p.onMouseUp,onMouseMove=p.onMouseMove,onItemHovered=p.onItemHovered,dragAndDropState=p.dragAndDropState,onKeyDown=p.onKeyDown,onKeyUp=p.onKeyUp,canvasRef=p.canvasRef,onDragStart=p.onDragStart,eventTargetRef=p.eventTargetRef,isResizing=p.isResizing,isDragging=p.isDragging,isDraggable=p.isDraggable,allowResize=p.allowResize,disabledRows=p.disabledRows,prelightCells=p.prelightCells,headerIcons=p.headerIcons,verticalBorder=p.verticalBorder,drawCustomCell=p.drawCustomCell,onCellFocused=p.onCellFocused,translateX=null!==(_p$translateX=p.translateX)&&void 0!==_p$translateX?_p$translateX:0,translateY=null!==(_p$translateY=p.translateY)&&void 0!==_p$translateY?_p$translateY:0,cellXOffset=Math.max(freezeColumns,Math.min(columns.length-1,cellXOffsetReal)),ref=react.useRef(null),imageLoader=react.useMemo((function(){return new image_window_loader}),[]),canBlit=react.useRef(),damageRegion=react.useRef(void 0),_React$useState2=data_grid_slicedToArray(react.useState(!1),2),scrolling=_React$useState2[0],setScrolling=_React$useState2[1],hoverValues=react.useRef([]),lastBlitData=react.useRef({cellXOffset:cellXOffset,cellYOffset:cellYOffset,translateX:translateX,translateY:translateY}),_React$useState4=data_grid_slicedToArray(react.useState(),2),hoveredItemInfo=_React$useState4[0],setHoveredItemInfo=_React$useState4[1],_React$useState6=data_grid_slicedToArray(react.useState(),2),hoveredOnEdge=_React$useState6[0],setHoveredOnEdge=_React$useState6[1],buffers=data_grid_slicedToArray(react.useState((function(){return function makeBuffers(){return{overlay:document.createElement("canvas")}}()})),1)[0],spriteManager=react.useMemo((function(){return new data_grid_sprites_SpriteManager(headerIcons)}),[headerIcons]),scrollingStopRef=react.useRef(-1),disableFirefoxRescaling=!0===(null===(_p$experimental=p.experimental)||void 0===_p$experimental?void 0:_p$experimental.disableFirefoxRescaling);react.useEffect((function(){browser_detect.a&&1!==window.devicePixelRatio&&!disableFirefoxRescaling&&(-1!==scrollingStopRef.current&&setScrolling(!0),window.clearTimeout(scrollingStopRef.current),scrollingStopRef.current=window.setTimeout((function(){setScrolling(!1),scrollingStopRef.current=-1}),200))}),[cellYOffset,cellXOffset,translateX,translateY,disableFirefoxRescaling]),react.useEffect((function(){var _ref,fn=(_ref=data_grid_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,spriteManager.buildSpriteMap(theme,columns);case 2:_context.sent&&lastDrawRef.current();case 4:case"end":return _context.stop()}}),_callee)}))),function fn(){return _ref.apply(this,arguments)});fn()}),[columns,spriteManager,theme]);var mappedColumns=Object(data_grid_lib.n)(columns,freezeColumns),getBoundsForItem=react.useCallback((function(canvas,col,row){var rect=canvas.getBoundingClientRect(),result={x:rect.x,y:rect.y+headerHeight+translateY,width:0,height:0};if(col>=freezeColumns){var dir=cellXOffset>col?-1:1,freezeWidth=Object(data_grid_lib.l)(mappedColumns);result.x+=freezeWidth+translateX;for(var i=cellXOffset;i!==col;i+=dir)result.x+=mappedColumns[i].width*dir}else for(var _i2=0;_i2<col;_i2++)result.x+=mappedColumns[_i2].width;if(result.width=mappedColumns[col].width+1,void 0===row)result.y=rect.y,result.height=headerHeight;else if(lastRowSticky&&row===rows-1){var stickyHeight="number"==typeof rowHeight?rowHeight:rowHeight(row);result.y=rect.y+(height-stickyHeight),result.height=stickyHeight}else{for(var _dir=cellYOffset>row?-1:1,r=cellYOffset;r!==row;r+=_dir)result.y+=("number"==typeof rowHeight?rowHeight:rowHeight(r))*_dir;result.height=("number"==typeof rowHeight?rowHeight:rowHeight(row))+1}return result}),[headerHeight,translateY,freezeColumns,lastRowSticky,rows,cellXOffset,mappedColumns,translateX,rowHeight,height,cellYOffset]),getMouseArgsForPosition=react.useCallback((function(canvas,posX,posY,ev){var result,rect=canvas.getBoundingClientRect(),x=posX-rect.left,y=posY-rect.top,effectiveCols=Object(data_grid_lib.j)(mappedColumns,cellXOffset,width,void 0,translateX),col=Object(data_grid_lib.i)(x,effectiveCols,translateX),row=Object(data_grid_lib.k)(y,height,headerHeight,rows,rowHeight,cellYOffset,translateY,lastRowSticky),shiftKey=!0===(null==ev?void 0:ev.shiftKey),ctrlKey=!0===(null==ev?void 0:ev.ctrlKey),metaKey=!0===(null==ev?void 0:ev.metaKey),isTouch=void 0!==ev&&!(ev instanceof MouseEvent);if(-1===col||y<0||x<0||void 0===row||x>width||y>height){var horizontal=x>width?-1:x<0?1:0,vertical=y>height?1:y<0?-1:0,isEdge=!1;if(-1===col&&-1===row){var b=getBoundsForItem(canvas,mappedColumns.length-1,void 0);isEdge=posX<b.x+b.width+5}result={kind:"out-of-bounds",location:[-1!==col?col:x<0?0:mappedColumns.length-1,null!=row?row:rows-1],direction:[horizontal,vertical],shiftKey:shiftKey,ctrlKey:ctrlKey,metaKey:metaKey,isEdge:isEdge,isTouch:isTouch}}else if(row<=-1){var bounds=getBoundsForItem(canvas,col,void 0),_isEdge=void 0!==bounds&&bounds.x+bounds.width-posX<=5,previousCol=col-1;posX-bounds.x<=5?(_isEdge=!0,bounds=getBoundsForItem(canvas,previousCol,void 0),result={kind:enableGroups&&-2===row?"group-header":"header",location:[previousCol,void 0],bounds:bounds,isEdge:_isEdge,shiftKey:shiftKey,ctrlKey:ctrlKey,metaKey:metaKey,isTouch:isTouch,localEventX:posX-bounds.x,localEventY:posY-bounds.y}):result={kind:enableGroups&&-2===row?"group-header":"header",location:[col,void 0],bounds:bounds,isEdge:_isEdge,shiftKey:shiftKey,ctrlKey:ctrlKey,metaKey:metaKey,isTouch:isTouch,localEventX:posX-bounds.x,localEventY:posY-bounds.y}}else{var _bounds=getBoundsForItem(canvas,col,row);result={kind:"cell",location:[col,row],bounds:_bounds,isEdge:void 0!==_bounds&&_bounds.x+_bounds.width-posX<5,shiftKey:shiftKey,ctrlKey:ctrlKey,metaKey:metaKey,isTouch:isTouch,localEventX:posX-_bounds.x,localEventY:posY-_bounds.y}}return result}),[mappedColumns,cellXOffset,width,translateX,height,headerHeight,rows,rowHeight,cellYOffset,translateY,lastRowSticky,getBoundsForItem,enableGroups]);var hoveredCol,hoveredItem=data_grid_slicedToArray(null!=hoveredItemInfo?hoveredItemInfo:[],1)[0];void 0!==(null==hoveredItem?void 0:hoveredItem[0])&&void 0===hoveredItem[1]&&(hoveredCol=hoveredItem[0]);var hoverInfoRef=react.useRef(hoveredItemInfo);hoverInfoRef.current=hoveredItemInfo;var draw=react.useCallback((function(){var canvas=ref.current;null!==canvas&&drawGrid(canvas,buffers,width,height,cellXOffset,cellYOffset,Math.round(translateX),Math.round(translateY),columns,mappedColumns,enableGroups,freezeColumns,dragAndDropState,theme,headerHeight,null!=selectedRows?selectedRows:data_grid_types.a.empty(),null!=disabledRows?disabledRows:data_grid_types.a.empty(),rowHeight,verticalBorder,null!=selectedColumns?selectedColumns:data_grid_types.a.empty(),hoveredCol,isResizing,selectedCell,lastRowSticky,rows,getCellContent,drawCustomCell,prelightCells,imageLoader,lastBlitData,canBlit.current,damageRegion.current,hoverValues.current,hoverInfoRef.current,spriteManager,scrolling)}),[buffers,width,height,cellXOffset,cellYOffset,translateX,translateY,columns,mappedColumns,enableGroups,freezeColumns,dragAndDropState,theme,headerHeight,selectedRows,disabledRows,rowHeight,verticalBorder,selectedColumns,hoveredCol,isResizing,selectedCell,lastRowSticky,imageLoader,rows,getCellContent,drawCustomCell,prelightCells,spriteManager,scrolling]);canBlit.current=void 0!==canBlit.current,react.useEffect((function(){canBlit.current=!1}),[width,height,columns,theme,headerHeight,rowHeight,rows,isResizing,getCellContent,selectedRows,selectedColumns,selectedCell,dragAndDropState,prelightCells,scrolling]);var lastDrawRef=react.useRef(draw);react.useEffect((function(){draw(),lastDrawRef.current=draw}),[draw]),react.useEffect((function(){var _ref4,fn=(_ref4=data_grid_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var prev;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,document.fonts.ready;case 2:prev=canBlit.current,canBlit.current=!1,lastDrawRef.current(),canBlit.current=prev;case 6:case"end":return _context2.stop()}}),_callee2)}))),function fn(){return _ref4.apply(this,arguments)});fn()}),[]);var damageInternal=react.useCallback((function(locations){var last=canBlit.current;canBlit.current=!1,damageRegion.current=locations,lastDrawRef.current(),damageRegion.current=void 0,canBlit.current=last}),[]),damage=react.useCallback((function(cells){damageInternal(cells.map((function(x){return x.cell})))}),[damageInternal]);imageLoader.setCallback(damageInternal);var _ref6=data_grid_slicedToArray(null!=hoveredItem?hoveredItem:[],2),hCol=_ref6[0],hRow=_ref6[1],headerHovered=void 0!==hCol&&void 0===hRow,clickableInnerCellHovered=!1,editableBoolHovered=!1;if(void 0!==hCol&&void 0!==hRow){var cell=getCellContent([hCol,hRow]);clickableInnerCellHovered=cell.kind===data_grid_types.d.NewRow||cell.kind===data_grid_types.d.Marker&&"number"!==cell.markerKind,editableBoolHovered=cell.kind===data_grid_types.b.Boolean&&!0===cell.allowEdit}var canDrag=null!=hoveredOnEdge&&hoveredOnEdge,style=react.useMemo((function(){return{width:width,height:height,display:"block",cursor:isDragging?"grabbing":canDrag||isResizing?"col-resize":headerHovered||clickableInnerCellHovered||editableBoolHovered?"pointer":"default"}}),[width,height,isDragging,canDrag,isResizing,headerHovered,clickableInnerCellHovered,editableBoolHovered]),target=null==eventTargetRef?void 0:eventTargetRef.current;null!=target&&(target.style.cursor=style.cursor);var onMouseDownImpl=react.useCallback((function(ev){var canvas=ref.current,eventTarget=null==eventTargetRef?void 0:eventTargetRef.current;if(null!==canvas&&(ev.target===canvas||ev.target===eventTarget)){var clientX,clientY;if(ev instanceof MouseEvent){if(0!==ev.button)return;clientX=ev.clientX,clientY=ev.clientY}else clientX=ev.touches[0].clientX,clientY=ev.touches[0].clientY;if(ev.target===eventTarget&&null!==eventTarget){var bounds=eventTarget.getBoundingClientRect();if(clientX>bounds.left+eventTarget.clientWidth)return;if(clientY>bounds.top+eventTarget.clientHeight)return}var args=getMouseArgsForPosition(canvas,clientX,clientY,ev);if("header"===args.kind){var col=data_grid_slicedToArray(args.location,1)[0];if(!0===columns[col].hasMenu&&(null==hoveredOnEdge||!hoveredOnEdge)){var headerBounds=getBoundsForItem(canvas,col,void 0);if(clientX>headerBounds.x+headerBounds.width-40)return}}null==onMouseDown||onMouseDown(args)}}),[columns,eventTargetRef,getBoundsForItem,getMouseArgsForPosition,hoveredOnEdge,onMouseDown]);Object(utils.g)("touchstart",onMouseDownImpl,window,!0),Object(utils.g)("mousedown",onMouseDownImpl,window,!0);var onMouseUpImpl=react.useCallback((function(ev){var canvas=ref.current;if(void 0!==onMouseUp&&null!=canvas){var clientX,clientY,eventTarget=null==eventTargetRef?void 0:eventTargetRef.current,isOutside=ev.target!==canvas&&ev.target!==eventTarget;if(isOutside||ev.preventDefault(),ev instanceof MouseEvent){if(0!==ev.button)return;clientX=ev.clientX,clientY=ev.clientY}else clientX=ev.changedTouches[0].clientX,clientY=ev.changedTouches[0].clientY;var args=getMouseArgsForPosition(canvas,clientX,clientY,ev);if("header"===args.kind){var col=data_grid_slicedToArray(args.location,1)[0];if(!0===columns[col].hasMenu&&(null==hoveredOnEdge||!hoveredOnEdge)){var headerBounds=getBoundsForItem(canvas,col,void 0);if(clientX>headerBounds.x+headerBounds.width-40)return void(null==onHeaderMenuClick||onHeaderMenuClick(col,headerBounds))}}onMouseUp(args,isOutside)}}),[onMouseUp,eventTargetRef,getMouseArgsForPosition,columns,hoveredOnEdge,getBoundsForItem,onHeaderMenuClick]);Object(utils.g)("mouseup",onMouseUpImpl,window,!1),Object(utils.g)("touchend",onMouseUpImpl,window,!1);var onAnimationFrame=react.useCallback((function(values){var last=canBlit.current;canBlit.current=!1,damageRegion.current=values.map((function(x){return x.item})),hoverValues.current=values,lastDrawRef.current(),damageRegion.current=void 0,canBlit.current=last}),[]),animationManager=react.useRef(new animation_manager_AnimationManager(onAnimationFrame));react.useEffect((function(){var am=animationManager.current;if(void 0!==hoveredItem&&void 0!==hoveredItem[1]){var cell=getCellContent(hoveredItem);am.setHovered(cell.kind===data_grid_types.b.Custom||cells.a[cell.kind].needsHover?hoveredItem:void 0)}else am.setHovered(hoveredItem)}),[getCellContent,hoveredItem]);var hoveredRef=react.useRef(),onMouseMoveImpl=react.useCallback((function(ev){var canvas=ref.current;if(null!==canvas){var args=getMouseArgsForPosition(canvas,ev.clientX,ev.clientY,ev);if(function isSameItem(item,other){return item===other||(null==item?void 0:item.kind)===(null==other?void 0:other.kind)&&(null==item?void 0:item.location[0])===(null==other?void 0:other.location[0])&&(null==item?void 0:item.location[1])===(null==other?void 0:other.location[1])}(args,hoveredRef.current)){if("cell"===args.kind||"header"===args.kind){var newInfo=[args.location,[args.localEventX,args.localEventY]];if(setHoveredItemInfo(newInfo),hoverInfoRef.current=newInfo,"cell"===args.kind){var toCheck=getCellContent(args.location);(toCheck.kind===data_grid_types.b.Custom||cells.a[toCheck.kind].needsHoverPosition)&&damageInternal([args.location])}}}else null==onItemHovered||onItemHovered(args),setHoveredItemInfo("out-of-bounds"===args.kind||"group-header"===args.kind?void 0:[args.location,[args.localEventX,args.localEventY]]),hoveredRef.current=args;setHoveredOnEdge("header"===args.kind&&args.isEdge&&!0===allowResize),null==onMouseMove||onMouseMove(ev)}}),[getMouseArgsForPosition,allowResize,onMouseMove,onItemHovered,getCellContent,damageInternal]);Object(utils.g)("mousemove",onMouseMoveImpl,window,!0);var onKeyDownImpl=react.useCallback((function(event){var bounds,canvas=ref.current;null!==canvas&&(void 0!==selectedCell&&(bounds=getBoundsForItem(canvas,selectedCell.cell[0],selectedCell.cell[1])),null==onKeyDown||onKeyDown({bounds:bounds,cancel:function cancel(){event.stopPropagation(),event.preventDefault()},ctrlKey:event.ctrlKey,metaKey:event.metaKey,shiftKey:event.shiftKey,key:event.key,keyCode:event.keyCode}))}),[onKeyDown,selectedCell,getBoundsForItem]),onKeyUpImpl=react.useCallback((function(event){var bounds,canvas=ref.current;null!==canvas&&(void 0!==selectedCell&&(bounds=getBoundsForItem(canvas,selectedCell.cell[0],selectedCell.cell[1])),null==onKeyUp||onKeyUp({bounds:bounds,cancel:function cancel(){event.stopPropagation(),event.preventDefault()},ctrlKey:event.ctrlKey,metaKey:event.metaKey,shiftKey:event.shiftKey,key:event.key,keyCode:event.keyCode}))}),[onKeyUp,selectedCell,getBoundsForItem]),refImpl=react.useCallback((function(instance){ref.current=instance,void 0!==canvasRef&&(canvasRef.current=instance)}),[canvasRef]),onDragStartImpl=react.useCallback((function(event){var dragMime,dragData,canvas=ref.current;if(null===canvas||!0==!isDraggable)return!1;var dragImage,dragImageX,dragImageY,args=getMouseArgsForPosition(canvas,event.clientX,event.clientY);if(null==onDragStart||onDragStart(Object.assign({},args,{setData:function setData(mime,payload){dragMime=mime,dragData=payload},setDragImage:function setDragImage(image,x,y){dragImage=image,dragImageX=x,dragImageY=y}})),void 0!==dragMime&&void 0!==dragData&&null!==event.dataTransfer)if(event.dataTransfer.setData(dragMime,dragData),event.dataTransfer.effectAllowed="link",void 0!==dragImage&&void 0!==dragImageX&&void 0!==dragImageY)event.dataTransfer.setDragImage(dragImage,dragImageX,dragImageY);else{var _args$location3=data_grid_slicedToArray(args.location,2),col=_args$location3[0],row=_args$location3[1];if(void 0!==row){var offscreen=document.createElement("canvas"),boundsForDragTarget=getBoundsForItem(canvas,col,row);offscreen.width=boundsForDragTarget.width,offscreen.height=boundsForDragTarget.height;var ctx=offscreen.getContext("2d");null!==ctx&&(ctx.fillStyle=theme.bgCell,ctx.fillRect(0,0,offscreen.width,offscreen.height),drawCell(ctx,row,getCellContent([col,row]),0,0,0,boundsForDragTarget.width,boundsForDragTarget.height,!1,theme,drawCustomCell,imageLoader,1,void 0)),offscreen.style.left="-100%",offscreen.style.position="absolute",document.body.appendChild(offscreen),event.dataTransfer.setDragImage(offscreen,boundsForDragTarget.width/2,boundsForDragTarget.height/2),window.setTimeout((function(){document.body.removeChild(offscreen)}),0)}}else event.preventDefault()}),[isDraggable,getMouseArgsForPosition,onDragStart,getBoundsForItem,theme,getCellContent,drawCustomCell,imageLoader]);Object(utils.g)("dragstart",onDragStartImpl,null!==(_eventTargetRef$curre=null==eventTargetRef?void 0:eventTargetRef.current)&&void 0!==_eventTargetRef$curre?_eventTargetRef$curre:null,!1,!1);var focusRef=react.useRef(null),focusElement=react.useCallback((function(el){if(null!==ref.current&&ref.current.contains(document.activeElement)){var _canvasRef$current;if(null===el)null==canvasRef||null===(_canvasRef$current=canvasRef.current)||void 0===_canvasRef$current||_canvasRef$current.focus({preventScroll:!0});else el.focus({preventScroll:!0});focusRef.current=el}}),[canvasRef]);react.useImperativeHandle(forwardedRef,(function(){return{focus:function focus(){var _canvasRef$current2,el=focusRef.current;null!==el&&document.contains(el)?el.focus({preventScroll:!0}):null==canvasRef||null===(_canvasRef$current2=canvasRef.current)||void 0===_canvasRef$current2||_canvasRef$current2.focus({preventScroll:!0})},getBounds:function getBounds(col,row){if(void 0!==canvasRef&&null!==canvasRef.current)return getBoundsForItem(canvasRef.current,col,row)},damage:damage}}),[canvasRef,damage,getBoundsForItem]);var stickyShadow,accessibilityTree=Object(utils.f)((function(){var effectiveCols=Object(data_grid_lib.j)(mappedColumns,cellXOffset,width,dragAndDropState,translateX);return react.createElement("div",{role:"grid","aria-rowcount":rows,"aria-colcount":mappedColumns.length},react.createElement("div",{role:"rowgroup"},react.createElement("div",{role:"row","aria-rowindex":1,"row-index":1},effectiveCols.map((function(c){return react.createElement("div",{role:"columnheader","aria-colindex":c.sourceIndex+1,key:c.sourceIndex},c.title)})))),react.createElement("div",{role:"rowgroup"},range_default()(cellYOffset,Math.min(rows,cellYOffset+50)).map((function(row){return react.createElement("div",{role:"row",key:row,"aria-rowindex":row+2,"row-index":row+2},effectiveCols.map((function(c){var _selectedCell$cell,col=c.sourceIndex,key=col+","+row,_ref8=data_grid_slicedToArray(null!==(_selectedCell$cell=null==selectedCell?void 0:selectedCell.cell)&&void 0!==_selectedCell$cell?_selectedCell$cell:[],2),fCol=_ref8[0],fRow=_ref8[1],focused=fCol===col&&fRow===row;return react.createElement("div",{key:key,role:"gridcell","aria-colindex":col+1,id:"glide-cell-"+col+"-"+row,onClick:function onClick(){var canvas=null==canvasRef?void 0:canvasRef.current;if(null!=canvas)return null==onKeyDown?void 0:onKeyDown({bounds:getBoundsForItem(canvas,col,row),cancel:function cancel(){},ctrlKey:!1,key:"Enter",keyCode:13,metaKey:!1,shiftKey:!1})},onFocusCapture:function onFocusCapture(e){if(e.target!==focusRef.current)return null==onCellFocused?void 0:onCellFocused([col,row])},ref:focused?focusElement:void 0,tabIndex:-1},function getRowData(cell){return cell.kind===data_grid_types.b.Custom?cell.copyData:cells.a[cell.kind].getAccessibilityString(cell)}(getCellContent([col,row])))})))}))))}),[cellXOffset,cellYOffset,mappedColumns,dragAndDropState,focusElement,getCellContent,null==selectedCell?void 0:selectedCell.cell,translateX,width],100),stickyX=Object(data_grid_lib.l)(mappedColumns),stickyShadowStyle=react.useMemo((function(){return{position:"absolute",top:0,left:stickyX,width:style.width-stickyX,height:style.height,opacity:cellXOffset>freezeColumns||0!==translateX?1:0,pointerEvents:"none",boxShadow:"inset 13px 0 10px -13px rgba(0, 0, 0, 0.2)",transition:"opacity 150ms"}}),[cellXOffset,freezeColumns,stickyX,style.height,style.width,translateX]);return mappedColumns[0].sticky&&(stickyShadow=react.createElement("div",{style:stickyShadowStyle})),react.createElement(react.Fragment,null,react.createElement("canvas",{tabIndex:0,onKeyDown:onKeyDownImpl,onKeyUp:onKeyUpImpl,className:className,ref:refImpl,style:style},accessibilityTree),stickyShadow)}))));try{datagrid.displayName="datagrid",datagrid.__docgenInfo={description:"",displayName:"datagrid",props:{rowHeight:{defaultValue:null,description:"",name:"rowHeight",required:!0,type:{name:"number | ((index: number) => number)"}},headerHeight:{defaultValue:null,description:"",name:"headerHeight",required:!0,type:{name:"number"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},eventTargetRef:{defaultValue:null,description:"",name:"eventTargetRef",required:!1,type:{name:"MutableRefObject<HTMLDivElement>"}},dragAndDropState:{defaultValue:null,description:"",name:"dragAndDropState",required:!1,type:{name:"{ src: number; dest: number; }"}},isResizing:{defaultValue:null,description:"",name:"isResizing",required:!0,type:{name:"boolean"}},isDragging:{defaultValue:null,description:"",name:"isDragging",required:!0,type:{name:"boolean"}},onMouseMove:{defaultValue:null,description:"",name:"onMouseMove",required:!1,type:{name:"(event: MouseEvent) => void"}},allowResize:{defaultValue:null,description:"",name:"allowResize",required:!1,type:{name:"boolean"}},cellXOffset:{defaultValue:null,description:"",name:"cellXOffset",required:!0,type:{name:"number"}},cellYOffset:{defaultValue:null,description:"",name:"cellYOffset",required:!0,type:{name:"number"}},translateX:{defaultValue:null,description:"",name:"translateX",required:!1,type:{name:"number"}},translateY:{defaultValue:null,description:"",name:"translateY",required:!1,type:{name:"number"}},freezeColumns:{defaultValue:null,description:"",name:"freezeColumns",required:!0,type:{name:"number"}},lastRowSticky:{defaultValue:null,description:"",name:"lastRowSticky",required:!0,type:{name:"boolean"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"readonly GridColumn[]"}},rows:{defaultValue:null,description:"",name:"rows",required:!0,type:{name:"number"}},enableGroups:{defaultValue:null,description:"",name:"enableGroups",required:!0,type:{name:"boolean"}},canvasRef:{defaultValue:null,description:"",name:"canvasRef",required:!1,type:{name:"MutableRefObject<HTMLCanvasElement>"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},getCellContent:{defaultValue:null,description:"",name:"getCellContent",required:!0,type:{name:"(cell: readonly [number, number]) => InnerGridCell"}},onHeaderMenuClick:{defaultValue:null,description:"",name:"onHeaderMenuClick",required:!1,type:{name:"(col: number, screenPosition: Rectangle) => void"}},selectedRows:{defaultValue:null,description:"",name:"selectedRows",required:!1,type:{name:"CompactSelection"}},selectedColumns:{defaultValue:null,description:"",name:"selectedColumns",required:!1,type:{name:"CompactSelection"}},selectedCell:{defaultValue:null,description:"",name:"selectedCell",required:!1,type:{name:"GridSelection"}},prelightCells:{defaultValue:null,description:"",name:"prelightCells",required:!1,type:{name:"readonly (readonly [number, number])[]"}},disabledRows:{defaultValue:null,description:"",name:"disabledRows",required:!1,type:{name:"CompactSelection"}},onItemHovered:{defaultValue:null,description:"",name:"onItemHovered",required:!1,type:{name:"(args: GridMouseEventArgs) => void"}},onMouseDown:{defaultValue:null,description:"",name:"onMouseDown",required:!1,type:{name:"(args: GridMouseEventArgs) => void"}},onMouseUp:{defaultValue:null,description:"",name:"onMouseUp",required:!1,type:{name:"(args: GridMouseEventArgs, isOutside: boolean) => void"}},onCellFocused:{defaultValue:null,description:"",name:"onCellFocused",required:!1,type:{name:"(args: readonly [number, number]) => void"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"(event: GridKeyEventArgs) => void"}},onKeyUp:{defaultValue:null,description:"",name:"onKeyUp",required:!1,type:{name:"(event: GridKeyEventArgs) => void"}},verticalBorder:{defaultValue:null,description:"",name:"verticalBorder",required:!0,type:{name:"(col: number) => boolean"}},isDraggable:{defaultValue:null,description:"",name:"isDraggable",required:!1,type:{name:"boolean"}},onDragStart:{defaultValue:null,description:"",name:"onDragStart",required:!1,type:{name:"(args: GridDragEventArgs) => void"}},drawCustomCell:{defaultValue:null,description:"",name:"drawCustomCell",required:!1,type:{name:"DrawCustomCellCallback"}},experimental:{defaultValue:null,description:"",name:"experimental",required:!1,type:{name:"{ readonly paddingRight?: number; readonly paddingBottom?: number; readonly disableFirefoxRescaling?: boolean; }"}},headerIcons:{defaultValue:null,description:"",name:"headerIcons",required:!1,type:{name:"SpriteMap"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-grid/data-grid.tsx#datagrid"]={docgenInfo:datagrid.__docgenInfo,name:"datagrid",path:"core/src/data-grid/data-grid.tsx#datagrid"})}catch(__react_docgen_typescript_loader_error){}},13:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DataEditor}));__webpack_require__(23),__webpack_require__(6),__webpack_require__(16),__webpack_require__(17),__webpack_require__(10),__webpack_require__(11),__webpack_require__(9),__webpack_require__(33),__webpack_require__(41),__webpack_require__(14),__webpack_require__(202),__webpack_require__(5),__webpack_require__(380),__webpack_require__(111),__webpack_require__(57),__webpack_require__(3),__webpack_require__(139),__webpack_require__(68),__webpack_require__(31),__webpack_require__(95),__webpack_require__(4),__webpack_require__(8),__webpack_require__(19),__webpack_require__(12),__webpack_require__(203),__webpack_require__(382),__webpack_require__(110),__webpack_require__(120),__webpack_require__(256),__webpack_require__(2),__webpack_require__(112),__webpack_require__(383);var react=__webpack_require__(0),support=__webpack_require__(60),fp=__webpack_require__(144),react_dom=__webpack_require__(64),_excluded=(__webpack_require__(140),__webpack_require__(113),__webpack_require__(123),__webpack_require__(141),__webpack_require__(54),["onClickOutside","stopPropagation"]);function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}var click_outside_container_ClickOutsideContainer=function(_React$PureComponent){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(ClickOutsideContainer,_React$PureComponent);var _super=_createSuper(ClickOutsideContainer);function ClickOutsideContainer(){var _this;return _classCallCheck(this,ClickOutsideContainer),(_this=_super.apply(this,arguments)).wrapperRef=react.createRef(),_this.clickOutside=function(event){if(null!==_this.wrapperRef.current&&!_this.wrapperRef.current.contains(event.target)){for(var node=event.target;null!==node;){if(node.classList.contains("click-outside-ignore"))return;node=node.parentElement}!0===_this.props.stopPropagation&&(event.stopPropagation(),event.preventDefault()),_this.props.onClickOutside()}},_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ClickOutsideContainer,[{key:"componentDidMount",value:function componentDidMount(){document.addEventListener(!0===this.props.stopPropagation?"click":"mousedown",this.clickOutside,!0),document.addEventListener("contextmenu",this.clickOutside,!0)}},{key:"componentWillUnmount",value:function componentWillUnmount(){document.removeEventListener(!0===this.props.stopPropagation?"click":"mousedown",this.clickOutside),document.removeEventListener("contextmenu",this.clickOutside)}},{key:"render",value:function render(){var _this$props=this.props,rest=(_this$props.onClickOutside,_this$props.stopPropagation,_objectWithoutProperties(_this$props,_excluded));return react.createElement("div",_extends({},rest,{ref:this.wrapperRef}),this.props.children)}}]),ClickOutsideContainer}(react.PureComponent);try{clickoutsidecontainer.displayName="clickoutsidecontainer",clickoutsidecontainer.__docgenInfo={description:"",displayName:"clickoutsidecontainer",props:{onClickOutside:{defaultValue:null,description:"",name:"onClickOutside",required:!0,type:{name:"() => void"}},stopPropagation:{defaultValue:null,description:"",name:"stopPropagation",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/click-outside-container/click-outside-container.tsx#clickoutsidecontainer"]={docgenInfo:clickoutsidecontainer.__docgenInfo,name:"clickoutsidecontainer",path:"core/src/click-outside-container/click-outside-container.tsx#clickoutsidecontainer"})}catch(__react_docgen_typescript_loader_error){}var _templateObject,data_grid_cells=__webpack_require__(81),data_grid_types=__webpack_require__(1),styles=__webpack_require__(27),growing_entry_style=__webpack_require__(115);var DataGridOverlayEditorStyle=styles.b.div(_templateObject||(_templateObject=function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n    position: absolute;\n\n    display: flex;\n    flex-direction: column;\n    overflow: hidden;\n    box-sizing: border-box;\n\n    --overlay-top: ","px;\n\n    left: ","px;\n    top: ","px;\n    min-width: ","px;\n    min-height: ","px;\n    width: max-content;\n    max-width: 400px;\n    max-height: calc(100vh - ","px);\n\n    border-radius: 2px;\n    background-color: ",";\n\n    box-shadow: 0 0 0 1px ",", 0px 0px 1px rgba(62, 65, 86, 0.4),\n        0px 6px 12px rgba(62, 65, 86, 0.15);\n\n    font-family: ",";\n    font-size: 13px;\n\n    padding: ","px 8.5px 3px;\n\n    @keyframes glide_fade_in {\n        from {\n            opacity: 0%;\n        }\n\n        to {\n            opacity: 100%;\n        }\n    }\n\n    animation: glide_fade_in 60ms 1;\n\n    .clip-region {\n        display: flex;\n        flex-direction: column;\n        overflow-y: auto;\n        overflow-x: hidden;\n        border-radius: 2px;\n        input {\n            width: 100%;\n\n            border: none;\n            border-width: 0;\n            outline: none;\n        }\n\n        textarea {\n            border: none;\n            border-width: 0;\n            outline: none;\n        }\n\n        "," {\n            height: 100%;\n        }\n    }\n\n    text-align: start;\n"])),(function(p){return p.targetRect.y}),(function(p){return p.targetRect.x-1}),(function(p){return p.targetRect.y-1}),(function(p){return p.targetRect.width+2}),(function(p){return p.targetRect.height+2}),(function(p){return p.targetRect.y+10}),(function(p){return p.theme.bgCell}),(function(p){return p.theme.accentColor}),(function(p){return p.theme.fontFamily}),(function(p){return Math.max(0,(p.targetRect.height-28)/2)}),growing_entry_style.a);try{DataGridOverlayEditorStyle.displayName="DataGridOverlayEditorStyle",DataGridOverlayEditorStyle.__docgenInfo={description:"",displayName:"DataGridOverlayEditorStyle",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<HTMLDivElement>"}},targetRect:{defaultValue:null,description:"",name:"targetRect",required:!0,type:{name:"Rectangle"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-grid-overlay-editor/data-grid-overlay-editor-style.tsx#DataGridOverlayEditorStyle"]={docgenInfo:DataGridOverlayEditorStyle.__docgenInfo,name:"DataGridOverlayEditorStyle",path:"core/src/data-grid-overlay-editor/data-grid-overlay-editor-style.tsx#DataGridOverlayEditorStyle"})}catch(__react_docgen_typescript_loader_error){}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var data_grid_overlay_editor=function DataGridOverlayEditor(p){var editor,target=p.target,content=p.content,onFinishEditing=p.onFinishEditing,forceEditMode=p.forceEditMode,imageEditorOverride=p.imageEditorOverride,markdownDivCreateNode=p.markdownDivCreateNode,highlight=p.highlight,provideEditor=p.provideEditor,_React$useState2=_slicedToArray(react.useState(forceEditMode?content:void 0),2),tempValue=_React$useState2[0],setTempValue=_React$useState2[1],onClickOutside=react.useCallback((function(){onFinishEditing(tempValue,[0,0])}),[tempValue,onFinishEditing]),onKeyDown=react.useCallback((function(event){"Escape"===event.key?onFinishEditing(void 0,[0,0]):"Enter"!==event.key||event.shiftKey?"Tab"===event.key&&(onFinishEditing(tempValue,[event.shiftKey?-1:1,0]),event.stopPropagation(),event.preventDefault()):(onFinishEditing(tempValue,[0,1]),event.stopPropagation(),event.preventDefault())}),[onFinishEditing,tempValue]),targetValue=null!=tempValue?tempValue:content,CustomEditor=react.useMemo((function(){return null==provideEditor?void 0:provideEditor(content)}),[content,provideEditor]),CellEditor=react.useMemo((function(){var _renderer$getEditor;if(content.kind!==data_grid_types.b.Custom){var renderer=data_grid_cells.a[content.kind];return null===(_renderer$getEditor=renderer.getEditor)||void 0===_renderer$getEditor?void 0:_renderer$getEditor.call(renderer,content)}}),[content]);void 0!==CustomEditor?editor=react.createElement(CustomEditor,{isHighlighted:highlight,onChange:setTempValue,value:targetValue,onFinishedEditing:onClickOutside}):void 0!==CellEditor&&(editor=react.createElement(CellEditor,{forceEditMode:forceEditMode,isHighlighted:highlight,onChange:setTempValue,value:targetValue,onFinishedEditing:function onFinishedEditing(e){return onFinishEditing(e,[0,0])},onKeyDown:onKeyDown,target:target,imageEditorOverride:imageEditorOverride,markdownDivCreateNode:markdownDivCreateNode}));var f=function f(ev){ev.stopPropagation()},portalElement=document.getElementById("portal");return null===portalElement?(console.error('Cannot open Data Grid overlay editor, because portal not found.  Please add `<div id="portal" />` as the last child of your `<body>`.'),null):Object(react_dom.createPortal)(react.createElement(click_outside_container_ClickOutsideContainer,{onClickOutside:onClickOutside},react.createElement(DataGridOverlayEditorStyle,{targetRect:target,onMouseDown:f,onClick:f},react.createElement("div",{className:"clip-region"},editor))),portalElement)};try{datagridoverlayeditor.displayName="datagridoverlayeditor",datagridoverlayeditor.__docgenInfo={description:"",displayName:"datagridoverlayeditor",props:{target:{defaultValue:null,description:"",name:"target",required:!0,type:{name:"Rectangle"}},content:{defaultValue:null,description:"",name:"content",required:!0,type:{name:"GridCell"}},onFinishEditing:{defaultValue:null,description:"",name:"onFinishEditing",required:!0,type:{name:"(newCell: GridCell, movement: readonly [0 | 1 | -1, 0 | 1 | -1]) => void"}},forceEditMode:{defaultValue:null,description:"",name:"forceEditMode",required:!0,type:{name:"boolean"}},highlight:{defaultValue:null,description:"",name:"highlight",required:!0,type:{name:"boolean"}},imageEditorOverride:{defaultValue:null,description:"",name:"imageEditorOverride",required:!1,type:{name:"ImageEditorType"}},markdownDivCreateNode:{defaultValue:null,description:"",name:"markdownDivCreateNode",required:!1,type:{name:"(content: string) => DocumentFragment"}},provideEditor:{defaultValue:null,description:"",name:"provideEditor",required:!1,type:{name:"ProvideEditorCallback<GridCell>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-grid-overlay-editor/data-grid-overlay-editor.tsx#datagridoverlayeditor"]={docgenInfo:datagridoverlayeditor.__docgenInfo,name:"datagridoverlayeditor",path:"core/src/data-grid-overlay-editor/data-grid-overlay-editor.tsx#datagridoverlayeditor"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__(142),__webpack_require__(26),__webpack_require__(72),__webpack_require__(48),__webpack_require__(34);var data_grid_search_style_templateObject,scrolling_data_grid=__webpack_require__(211),utils=__webpack_require__(36);var SearchWrapper=styles.b.div(data_grid_search_style_templateObject||(data_grid_search_style_templateObject=function data_grid_search_style_taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n    position: absolute;\n    top: 4px;\n    right: 20px;\n\n    background-color: ",";\n    color: ",";\n\n    padding: 8px;\n    border: 1px solid ",";\n\n    font-size: 13px;\n\n    transform: translateX(","px);\n    transition: transform 0.15s;\n\n    .search-bar-inner {\n        display: flex;\n    }\n\n    .search-status {\n        margin-top: 4px;\n        font-size: 11px;\n    }\n\n    .search-progress {\n        position: absolute;\n        height: 4px;\n        left: 0;\n        bottom: 0;\n\n        background-color: ",";\n    }\n\n    input {\n        width: 220px;\n        color: ",";\n        border: none;\n        border-width: 0;\n        outline: none;\n    }\n\n    button {\n        width: 24px;\n        height: 24px;\n        padding: 0;\n\n        border: none;\n        outline: none;\n        background: none;\n\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        cursor: pointer;\n        color: ",";\n\n        :hover {\n            color: ",";\n        }\n\n        .button-icon {\n            width: 16px;\n            height: 16px;\n        }\n\n        :disabled {\n            ","\n        }\n    }\n"])),(function(p){return p.theme.bgCell}),(function(p){return p.theme.textDark}),(function(p){return p.theme.borderColor}),(function(p){return p.showSearch?0:400}),(function(p){return p.theme.textLight}),(function(p){return p.theme.textDark}),(function(p){return p.theme.textMedium}),(function(p){return p.theme.textDark}),utils.e);try{SearchWrapper.displayName="SearchWrapper",SearchWrapper.__docgenInfo={description:"",displayName:"SearchWrapper",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<HTMLDivElement>"}},showSearch:{defaultValue:null,description:"",name:"showSearch",required:!0,type:{name:"boolean"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-grid-search/data-grid-search-style.tsx#SearchWrapper"]={docgenInfo:SearchWrapper.__docgenInfo,name:"SearchWrapper",path:"core/src/data-grid-search/data-grid-search-style.tsx#SearchWrapper"})}catch(__react_docgen_typescript_loader_error){}var data_grid_search_excluded=["onKeyDown","getCellsForSelection","onSearchResultsChanged","searchColOffset","showSearch","onSearchClose"];function data_grid_search_slicedToArray(arr,i){return function data_grid_search_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function data_grid_search_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function data_grid_search_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return data_grid_search_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return data_grid_search_arrayLikeToArray(o,minLen)}(arr,i)||function data_grid_search_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function data_grid_search_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function data_grid_search_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function data_grid_search_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function data_grid_search_extends(){return data_grid_search_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},data_grid_search_extends.apply(this,arguments)}var data_grid_search_UpArrow=function UpArrow(){return react.createElement("svg",{className:"button-icon",viewBox:"0 0 512 512"},react.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M112 244l144-144 144 144M256 120v292"}))},data_grid_search_DownArrow=function DownArrow(){return react.createElement("svg",{className:"button-icon",viewBox:"0 0 512 512"},react.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M112 268l144 144 144-144M256 392V100"}))},data_grid_search_CloseX=function CloseX(){return react.createElement("svg",{className:"button-icon",viewBox:"0 0 512 512"},react.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M368 368L144 144M368 144L144 368"}))},data_grid_search=function DataGridSearch(p){var _searchStatus$rowsSea,_searchStatus$results,_searchStatus$results2,onKeyDown=p.onKeyDown,getCellsForSelection=p.getCellsForSelection,onSearchResultsChanged=p.onSearchResultsChanged,searchColOffset=p.searchColOffset,_p$showSearch=p.showSearch,showSearch=void 0!==_p$showSearch&&_p$showSearch,onSearchClose=p.onSearchClose,rest=data_grid_search_objectWithoutProperties(p,data_grid_search_excluded),canvasRef=p.canvasRef,cellYOffset=p.cellYOffset,rows=p.rows,columns=p.columns,getCellContent=p.getCellContent,_React$useState2=data_grid_search_slicedToArray(react.useState(""),2),searchString=_React$useState2[0],setSearchString=_React$useState2[1],_React$useState4=data_grid_search_slicedToArray(react.useState(),2),searchStatus=_React$useState4[0],setSearchStatus=_React$useState4[1],searchStatusRef=react.useRef(searchStatus);searchStatusRef.current=searchStatus;var inputRef=react.useRef(null),searchHandle=react.useRef(),_React$useState6=data_grid_search_slicedToArray(react.useState([]),2),searchResults=_React$useState6[0],setSearchResults=_React$useState6[1],cancelSearch=react.useCallback((function(){void 0!==searchHandle.current&&(window.cancelAnimationFrame(searchHandle.current),searchHandle.current=void 0)}),[]),getCellsForSelectionMangled=react.useCallback((function(selection){if(void 0!==getCellsForSelection)return getCellsForSelection(selection.range);if(void 0===selection.range)return[[getCellContent(selection.cell)]];for(var range=selection.range,result=[],row=range.y;row<range.y+range.height;row++){for(var inner=[],col=range.x;col<range.x+range.width;col++)inner.push(getCellContent([col+searchColOffset,row]));result.push(inner)}return result}),[getCellContent,getCellsForSelection,searchColOffset]),beginSearch=react.useCallback((function(str){var regex=new RegExp(str.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"i"),startY=cellYOffset,searchStride=Math.min(10,rows),rowsSearched=0;setSearchStatus(void 0),setSearchResults([]);var runningResult=[];cancelSearch(),searchHandle.current=window.requestAnimationFrame((function tick(){var _searchStatusRef$curr,_searchStatusRef$curr2,tStart=performance.now(),rowsLeft=rows-rowsSearched,data=getCellsForSelectionMangled({cell:[0,0],range:{x:0,y:startY,width:columns.length-searchColOffset,height:Math.min(searchStride,rowsLeft,rows-startY)}}),added=!1;data.forEach((function(d,row){return d.forEach((function(cell,col){var testString;switch(cell.kind){case data_grid_types.b.Text:case data_grid_types.b.Number:testString=cell.displayData;break;case data_grid_types.b.Uri:case data_grid_types.b.Markdown:testString=cell.data;break;case data_grid_types.b.Boolean:testString=cell.data.toString();break;case data_grid_types.b.Image:case data_grid_types.b.Bubble:testString=cell.data.join("")}void 0!==testString&&regex.test(testString)&&(runningResult.push([col+searchColOffset,row+startY]),added=!0)}))}));var tEnd=performance.now();added&&setSearchResults([].concat(runningResult)),rowsSearched+=data.length,Object(support.a)(rowsSearched<=rows);var selectedIndex=null!==(_searchStatusRef$curr=null===(_searchStatusRef$curr2=searchStatusRef.current)||void 0===_searchStatusRef$curr2?void 0:_searchStatusRef$curr2.selectedIndex)&&void 0!==_searchStatusRef$curr?_searchStatusRef$curr:-1;setSearchStatus({results:runningResult.length,rowsSearched:rowsSearched,selectedIndex:selectedIndex}),null==onSearchResultsChanged||onSearchResultsChanged(runningResult,selectedIndex),startY+searchStride>=rows?startY=0:startY+=searchStride;var tElapsed=tEnd-tStart,scalar=10/Math.max(tElapsed,1);searchStride=Math.ceil(searchStride*scalar),rowsSearched<rows&&runningResult.length<1e3&&(searchHandle.current=window.requestAnimationFrame(tick))}))}),[cancelSearch,cellYOffset,columns.length,getCellsForSelectionMangled,onSearchResultsChanged,rows,searchColOffset]),cancelEvent=react.useCallback((function(ev){ev.stopPropagation()}),[]),onClose=react.useCallback((function(){var _canvasRef$current;null==onSearchClose||onSearchClose(),setSearchStatus(void 0),setSearchResults([]),null==onSearchResultsChanged||onSearchResultsChanged([],-1),cancelSearch(),null==canvasRef||null===(_canvasRef$current=canvasRef.current)||void 0===_canvasRef$current||_canvasRef$current.focus()}),[cancelSearch,canvasRef,onSearchClose,onSearchResultsChanged]),onSearchChange=react.useCallback((function(event){setSearchString(event.target.value),""===event.target.value?(setSearchStatus(void 0),setSearchResults([]),cancelSearch()):beginSearch(event.target.value)}),[beginSearch,cancelSearch]);react.useEffect((function(){showSearch&&null!==inputRef.current&&(setSearchString(""),inputRef.current.focus({preventScroll:!0}))}),[showSearch]);var resultString,onNext=react.useCallback((function(ev){var _ev$stopPropagation;if(null==ev||null===(_ev$stopPropagation=ev.stopPropagation)||void 0===_ev$stopPropagation||_ev$stopPropagation.call(ev),void 0!==searchStatus){var newIndex=(searchStatus.selectedIndex+1)%searchStatus.results;setSearchStatus(Object.assign({},searchStatus,{selectedIndex:newIndex})),null==onSearchResultsChanged||onSearchResultsChanged(searchResults,newIndex)}}),[searchStatus,onSearchResultsChanged,searchResults]),onPrev=react.useCallback((function(ev){var _ev$stopPropagation2;if(null==ev||null===(_ev$stopPropagation2=ev.stopPropagation)||void 0===_ev$stopPropagation2||_ev$stopPropagation2.call(ev),void 0!==searchStatus){var newIndex=(searchStatus.selectedIndex-1)%searchStatus.results;newIndex<0&&(newIndex+=searchStatus.results),setSearchStatus(Object.assign({},searchStatus,{selectedIndex:newIndex})),null==onSearchResultsChanged||onSearchResultsChanged(searchResults,newIndex)}}),[onSearchResultsChanged,searchResults,searchStatus]),onSearchKeyDown=react.useCallback((function(event){(event.ctrlKey||event.metaKey)&&"f"===event.key||"Escape"===event.key?(onClose(),event.stopPropagation(),event.preventDefault()):"Enter"===event.key&&(event.shiftKey?onPrev():onNext())}),[onClose,onNext,onPrev]),rowsSearchedProgress=Math.floor((null!==(_searchStatus$rowsSea=null==searchStatus?void 0:searchStatus.rowsSearched)&&void 0!==_searchStatus$rowsSea?_searchStatus$rowsSea:0)/rows*100),progressStyle=react.useMemo((function(){return{width:rowsSearchedProgress+"%"}}),[rowsSearchedProgress]);return react.useEffect((function(){return function(){cancelSearch()}}),[cancelSearch]),void 0!==searchStatus&&(resultString=searchStatus.results>=1e3?"over 1000":searchStatus.results+" result"+(1!==searchStatus.results?"s":""),searchStatus.selectedIndex>=0&&(resultString=searchStatus.selectedIndex+1+" of "+resultString)),react.createElement(react.Fragment,null,react.createElement(scrolling_data_grid.a,data_grid_search_extends({},rest,{onKeyDown:onKeyDown,prelightCells:searchResults})),react.createElement(SearchWrapper,{showSearch:showSearch,onMouseDown:cancelEvent,onMouseMove:cancelEvent,onMouseUp:cancelEvent,onClick:cancelEvent},react.createElement("div",{className:"search-bar-inner"},react.createElement("input",{ref:inputRef,onChange:onSearchChange,value:searchString,tabIndex:showSearch?void 0:-1,onKeyDownCapture:onSearchKeyDown}),react.createElement("button",{tabIndex:showSearch?void 0:-1,onClick:onPrev,disabled:0===(null!==(_searchStatus$results=null==searchStatus?void 0:searchStatus.results)&&void 0!==_searchStatus$results?_searchStatus$results:0)},react.createElement(data_grid_search_UpArrow,null)),react.createElement("button",{tabIndex:showSearch?void 0:-1,onClick:onNext,disabled:0===(null!==(_searchStatus$results2=null==searchStatus?void 0:searchStatus.results)&&void 0!==_searchStatus$results2?_searchStatus$results2:0)},react.createElement(data_grid_search_DownArrow,null)),void 0!==onSearchClose&&react.createElement("button",{tabIndex:showSearch?void 0:-1,onClick:onClose},react.createElement(data_grid_search_CloseX,null))),void 0!==searchStatus&&react.createElement(react.Fragment,null,react.createElement("div",{className:"search-status"},react.createElement("div",null,resultString)),react.createElement("div",{className:"search-progress",style:progressStyle}))))};try{datagridsearch.displayName="datagridsearch",datagridsearch.__docgenInfo={description:"",displayName:"datagridsearch",props:{getCellsForSelection:{defaultValue:null,description:"",name:"getCellsForSelection",required:!1,type:{name:"(selection: Rectangle) => readonly (readonly GridCell[])[]"}},onSearchResultsChanged:{defaultValue:null,description:"",name:"onSearchResultsChanged",required:!1,type:{name:"(results: readonly (readonly [number, number])[], navIndex: number) => void"}},searchColOffset:{defaultValue:null,description:"",name:"searchColOffset",required:!0,type:{name:"number"}},showSearch:{defaultValue:null,description:"",name:"showSearch",required:!1,type:{name:"boolean"}},onSearchClose:{defaultValue:null,description:"",name:"onSearchClose",required:!1,type:{name:"() => void"}},smoothScrollX:{defaultValue:null,description:"",name:"smoothScrollX",required:!1,type:{name:"boolean"}},smoothScrollY:{defaultValue:null,description:"",name:"smoothScrollY",required:!1,type:{name:"boolean"}},rowHeight:{defaultValue:null,description:"",name:"rowHeight",required:!0,type:{name:"number | ((index: number) => number)"}},headerHeight:{defaultValue:null,description:"",name:"headerHeight",required:!0,type:{name:"number"}},cellXOffset:{defaultValue:null,description:"",name:"cellXOffset",required:!0,type:{name:"number"}},cellYOffset:{defaultValue:null,description:"",name:"cellYOffset",required:!0,type:{name:"number"}},translateX:{defaultValue:null,description:"",name:"translateX",required:!1,type:{name:"number"}},translateY:{defaultValue:null,description:"",name:"translateY",required:!1,type:{name:"number"}},freezeColumns:{defaultValue:null,description:"",name:"freezeColumns",required:!0,type:{name:"number"}},lastRowSticky:{defaultValue:null,description:"",name:"lastRowSticky",required:!0,type:{name:"boolean"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"readonly GridColumn[]"}},rows:{defaultValue:null,description:"",name:"rows",required:!0,type:{name:"number"}},enableGroups:{defaultValue:null,description:"",name:"enableGroups",required:!0,type:{name:"boolean"}},canvasRef:{defaultValue:null,description:"",name:"canvasRef",required:!1,type:{name:"MutableRefObject<HTMLCanvasElement>"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},getCellContent:{defaultValue:null,description:"",name:"getCellContent",required:!0,type:{name:"(cell: readonly [number, number]) => InnerGridCell"}},onHeaderMenuClick:{defaultValue:null,description:"",name:"onHeaderMenuClick",required:!1,type:{name:"(col: number, screenPosition: Rectangle) => void"}},selectedRows:{defaultValue:null,description:"",name:"selectedRows",required:!1,type:{name:"CompactSelection"}},selectedColumns:{defaultValue:null,description:"",name:"selectedColumns",required:!1,type:{name:"CompactSelection"}},selectedCell:{defaultValue:null,description:"",name:"selectedCell",required:!1,type:{name:"GridSelection"}},disabledRows:{defaultValue:null,description:"",name:"disabledRows",required:!1,type:{name:"CompactSelection"}},onItemHovered:{defaultValue:null,description:"",name:"onItemHovered",required:!1,type:{name:"(args: GridMouseEventArgs) => void"}},onMouseDown:{defaultValue:null,description:"",name:"onMouseDown",required:!1,type:{name:"(args: GridMouseEventArgs) => void"}},onMouseUp:{defaultValue:null,description:"",name:"onMouseUp",required:!1,type:{name:"(args: GridMouseEventArgs, isOutside: boolean) => void"}},onCellFocused:{defaultValue:null,description:"",name:"onCellFocused",required:!1,type:{name:"(args: readonly [number, number]) => void"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"(event: GridKeyEventArgs) => void"}},onKeyUp:{defaultValue:null,description:"",name:"onKeyUp",required:!1,type:{name:"(event: GridKeyEventArgs) => void"}},verticalBorder:{defaultValue:null,description:"",name:"verticalBorder",required:!0,type:{name:"(col: number) => boolean"}},isDraggable:{defaultValue:null,description:"",name:"isDraggable",required:!1,type:{name:"boolean"}},onDragStart:{defaultValue:null,description:"",name:"onDragStart",required:!1,type:{name:"(args: GridDragEventArgs) => void"}},drawCustomCell:{defaultValue:null,description:"",name:"drawCustomCell",required:!1,type:{name:"DrawCustomCellCallback"}},experimental:{defaultValue:null,description:"",name:"experimental",required:!1,type:{name:"{ readonly paddingRight?: number; readonly paddingBottom?: number; readonly disableFirefoxRescaling?: boolean; }"}},headerIcons:{defaultValue:null,description:"",name:"headerIcons",required:!1,type:{name:"SpriteMap"}},onRowMoved:{defaultValue:null,description:"",name:"onRowMoved",required:!1,type:{name:"(startIndex: number, endIndex: number) => void"}},onColumnMoved:{defaultValue:null,description:"",name:"onColumnMoved",required:!1,type:{name:"(startIndex: number, endIndex: number) => void"}},onColumnResized:{defaultValue:null,description:"",name:"onColumnResized",required:!1,type:{name:"(column: GridColumn, newSize: number) => void"}},gridRef:{defaultValue:null,description:"",name:"gridRef",required:!1,type:{name:"MutableRefObject<DataGridRef>"}},maxColumnWidth:{defaultValue:null,description:"",name:"maxColumnWidth",required:!1,type:{name:"number"}},onVisibleRegionChanged:{defaultValue:null,description:"",name:"onVisibleRegionChanged",required:!1,type:{name:"(range: Rectangle, tx?: number, ty?: number) => void"}},scrollToEnd:{defaultValue:null,description:"",name:"scrollToEnd",required:!1,type:{name:"boolean"}},scrollRef:{defaultValue:null,description:"",name:"scrollRef",required:!1,type:{name:"MutableRefObject<HTMLDivElement>"}},overscrollX:{defaultValue:null,description:"",name:"overscrollX",required:!1,type:{name:"number"}},rightElementSticky:{defaultValue:null,description:"",name:"rightElementSticky",required:!1,type:{name:"boolean"}},rightElement:{defaultValue:null,description:"",name:"rightElement",required:!1,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-grid-search/data-grid-search.tsx#datagridsearch"]={docgenInfo:datagridsearch.__docgenInfo,name:"datagridsearch",path:"core/src/data-grid-search/data-grid-search.tsx#datagridsearch"})}catch(__react_docgen_typescript_loader_error){}var browser_detect=__webpack_require__(125),styled_components_browser_esm=__webpack_require__(21),data_editor_excluded=["columns","rows","getCellContent","onCellClicked","onHeaderClicked","onCellEdited","enableDownfill","onRowAppended","onColumnMoved","drawCell","drawCustomCell","onDeleteRows","onDragStart","onPaste","freezeColumns","rowSelectionMode","onHeaderMenuClick","onItemHovered","onVisibleRegionChanged","selectedColumns","onSelectedColumnsChange","selectedRows","onSelectedRowsChange","gridSelection","onGridSelectionChange","provideEditor","trailingRowOptions","verticalBorder"];function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=data_editor_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return data_editor_arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||data_editor_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function data_editor_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function data_editor_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function data_editor_slicedToArray(arr,i){return function data_editor_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function data_editor_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||data_editor_unsupportedIterableToArray(arr,i)||function data_editor_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function data_editor_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return data_editor_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?data_editor_arrayLikeToArray(o,minLen):void 0}}function data_editor_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function data_editor_extends(){return data_editor_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},data_editor_extends.apply(this,arguments)}var DataEditor=react.forwardRef((function DataEditorImpl(p,forwardedRef){var _gridSelection$cell,_React$useState2=data_editor_slicedToArray(react.useState(),2),gridSelectionInner=_React$useState2[0],setGridSelectionInner=_React$useState2[1],_React$useState4=data_editor_slicedToArray(react.useState(data_grid_types.a.empty()),2),selectedColumnsInner=_React$useState4[0],setSelectedColumnsInner=_React$useState4[1],_React$useState6=data_editor_slicedToArray(react.useState(data_grid_types.a.empty()),2),selectedRowsInner=_React$useState6[0],setSelectedRowsInner=_React$useState6[1],_React$useState8=data_editor_slicedToArray(react.useState(),2),overlay=_React$useState8[0],setOverlay=_React$useState8[1],canvasRef=react.useRef(null),mouseState=react.useRef(),scrollRef=react.useRef(null),scrollTimer=react.useRef(),lastSent=react.useRef(),isDraggable=p.isDraggable,getCellsForSelection=p.getCellsForSelection,_p$rowMarkers=p.rowMarkers,rowMarkers=void 0===_p$rowMarkers?"none":_p$rowMarkers,_p$rowHeight=p.rowHeight,rowHeight=void 0===_p$rowHeight?34:_p$rowHeight,_p$headerHeight=p.headerHeight,rawHeaderHeight=void 0===_p$headerHeight?36:_p$headerHeight,rowMarkerWidthRaw=p.rowMarkerWidth,imageEditorOverride=p.imageEditorOverride,markdownDivCreateNode=p.markdownDivCreateNode,columns=p.columns,rows=p.rows,getCellContent=p.getCellContent,onCellClicked=p.onCellClicked,onHeaderClicked=p.onHeaderClicked,onCellEdited=p.onCellEdited,_p$enableDownfill=p.enableDownfill,enableDownfill=void 0!==_p$enableDownfill&&_p$enableDownfill,onRowAppended=p.onRowAppended,onColumnMoved=p.onColumnMoved,drawCell=p.drawCell,drawCustomCell=p.drawCustomCell,onDeleteRows=p.onDeleteRows,onDragStart=p.onDragStart,onPaste=p.onPaste,_p$freezeColumns=p.freezeColumns,freezeColumns=void 0===_p$freezeColumns?0:_p$freezeColumns,_p$rowSelectionMode=p.rowSelectionMode,rowSelectionMode=void 0===_p$rowSelectionMode?"auto":_p$rowSelectionMode,onHeaderMenuClick=p.onHeaderMenuClick,onItemHovered=p.onItemHovered,onVisibleRegionChanged=p.onVisibleRegionChanged,selectedColumnsOuter=p.selectedColumns,setSelectedColumnsOuter=p.onSelectedColumnsChange,selectedRowsOuter=p.selectedRows,setSelectedRowsOuter=p.onSelectedRowsChange,gridSelectionOuter=p.gridSelection,onGridSelectionChange=p.onGridSelectionChange,provideEditor=p.provideEditor,trailingRowOptions=p.trailingRowOptions,verticalBorder=p.verticalBorder,rest=data_editor_objectWithoutProperties(p,data_editor_excluded),rowMarkerWidth=(null!=rowMarkerWidthRaw?rowMarkerWidthRaw:rows>1e4)?48:rows>1e3?44:rows>100?36:32,hasRowMarkers="none"!==rowMarkers,rowMarkerOffset=hasRowMarkers?1:0,showTrailingBlankRow=void 0!==onRowAppended,lastRowSticky=!0===(null==trailingRowOptions?void 0:trailingRowOptions.sticky),mangledFreezeColumns=freezeColumns+(hasRowMarkers?1:0),gridSelection=null!=gridSelectionOuter?gridSelectionOuter:gridSelectionInner,setGridSelection=null!=onGridSelectionChange?onGridSelectionChange:setGridSelectionInner,selectedRows=null!=selectedRowsOuter?selectedRowsOuter:selectedRowsInner,setSelectedRows=null!=setSelectedRowsOuter?setSelectedRowsOuter:setSelectedRowsInner,mangledOuterCols=null==selectedColumnsOuter?void 0:selectedColumnsOuter.offset(rowMarkerOffset),selectedColumns=null!=mangledOuterCols?mangledOuterCols:selectedColumnsInner,mangledSetSelectedColumns=react.useCallback((function(newColumns){null==setSelectedColumnsOuter||setSelectedColumnsOuter(newColumns.offset(-rowMarkerOffset))}),[rowMarkerOffset,setSelectedColumnsOuter]),enableGroups=react.useMemo((function(){return columns.some((function(c){return void 0!==c.group}))}),[columns]),headerHeight=enableGroups?2*rawHeaderHeight:rawHeaderHeight,setSelectedColumns=void 0!==setSelectedColumnsOuter?mangledSetSelectedColumns:setSelectedColumnsInner,_React$useState10=data_editor_slicedToArray(react.useState({x:0,y:0,width:1,height:1}),2),visibleRegion=_React$useState10[0],setVisibleRegion=_React$useState10[1],cellXOffset=visibleRegion.x+rowMarkerOffset,cellYOffset=visibleRegion.y,gridRef=react.useRef(null);react.useImperativeHandle(forwardedRef,(function(){return{updateCells:function updateCells(){for(var _gridRef$current9,_gridRef$current,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return null===(_gridRef$current=gridRef.current)||void 0===_gridRef$current?void 0:(_gridRef$current9=_gridRef$current).damage.apply(_gridRef$current9,args)}}}),[]);var focus=react.useCallback((function(immediate){var _gridRef$current2;!0===immediate?null===(_gridRef$current2=gridRef.current)||void 0===_gridRef$current2||_gridRef$current2.focus():window.requestAnimationFrame((function(){var _gridRef$current3;null===(_gridRef$current3=gridRef.current)||void 0===_gridRef$current3||_gridRef$current3.focus()}))}),[]),mangledRows=showTrailingBlankRow?rows+1:rows,mangledOnCellEdited=react.useCallback((function(cell,newValue){null==onCellEdited||onCellEdited([cell[0]-rowMarkerOffset,cell[1]],newValue)}),[onCellEdited,rowMarkerOffset]),mangledCols=react.useMemo((function(){return"none"===rowMarkers?columns:[{title:"",width:rowMarkerWidth,icon:void 0,hasMenu:!1,style:"normal"}].concat(_toConsumableArray(columns))}),[columns,rowMarkerWidth,rowMarkers]),getMangedCellContent=react.useCallback((function(_ref){var _ref2=data_editor_slicedToArray(_ref,2),col=_ref2[0],row=_ref2[1],isTrailing=showTrailingBlankRow&&row===mangledRows-1;if(0===col&&hasRowMarkers)return isTrailing?{kind:data_grid_types.b.Loading,allowOverlay:!1}:{kind:data_grid_types.d.Marker,allowOverlay:!1,checked:selectedRows.hasIndex(row),markerKind:rowMarkers,row:row};if(isTrailing){var _trailingRowOptions$h,isFirst=col===rowMarkerOffset,display=isFirst&&null!==(_trailingRowOptions$h=null==trailingRowOptions?void 0:trailingRowOptions.hint)&&void 0!==_trailingRowOptions$h?_trailingRowOptions$h:"";return{kind:data_grid_types.d.NewRow,hint:display,isFirst:isFirst,allowOverlay:!1}}return getCellContent([col-rowMarkerOffset,row])}),[showTrailingBlankRow,mangledRows,hasRowMarkers,selectedRows,rowMarkers,rowMarkerOffset,null==trailingRowOptions?void 0:trailingRowOptions.hint,getCellContent]),reselect=react.useCallback((function(bounds,initialValue){if(void 0!==gridSelection){var _gridSelection$cell2=data_editor_slicedToArray(gridSelection.cell,2),col=_gridSelection$cell2[0],row=_gridSelection$cell2[1],c=getMangedCellContent([col,row]);if(c.kind!==data_grid_types.b.Boolean&&c.allowOverlay){var content=c;if(void 0!==initialValue)switch(content.kind){case data_grid_types.b.Text:content=Object.assign({},content,{data:initialValue});break;case data_grid_types.b.Number:content=Object.assign({},content,{data:Object(support.c)((function(){return Number.parseFloat(initialValue)}),0)});break;case data_grid_types.b.Markdown:case data_grid_types.b.Uri:content=Object.assign({},content,{data:initialValue})}setOverlay({target:bounds,content:content,cell:[col,row],highlight:void 0===initialValue,forceEditMode:void 0!==initialValue})}}}),[getMangedCellContent,gridSelection]),focusOnRowFromTrailingBlankRow=react.useCallback((function(col,row){var _gridRef$current4,bounds=null===(_gridRef$current4=gridRef.current)||void 0===_gridRef$current4?void 0:_gridRef$current4.getBounds(col,row);if(void 0!==bounds&&null!==scrollRef.current){var content=getMangedCellContent([col,row]);if(content.allowOverlay){switch(content.kind){case data_grid_types.b.Text:content=Object.assign({},content,{data:""});break;case data_grid_types.b.Number:content=Object.assign({},content,{data:void 0});break;case data_grid_types.b.Markdown:case data_grid_types.b.Uri:content=Object.assign({},content,{data:""})}setOverlay({target:bounds,content:content,highlight:!0,cell:[col,row],forceEditMode:!0})}}}),[getMangedCellContent]),focusCallback=react.useRef(focusOnRowFromTrailingBlankRow),getCellContentRef=react.useRef(getCellContent),rowsRef=react.useRef(rows);focusCallback.current=focusOnRowFromTrailingBlankRow,getCellContentRef.current=getCellContent,rowsRef.current=rows;var _ref3,appendRow=react.useCallback((_ref3=_asyncToGenerator(regeneratorRuntime.mark((function _callee(col){var appendResult,bottom,backoff;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(appendResult=null==onRowAppended?void 0:onRowAppended(),bottom=!0,void 0===appendResult){_context.next=7;break}return _context.next=5,appendResult;case 5:"top"===_context.sent&&(bottom=!1);case 7:backoff=0,function doFocus(){var _scrollRef$current;if(rowsRef.current<=rows)return backoff<500&&window.setTimeout(doFocus,backoff),void(backoff=50+2*backoff);var row=bottom?rows:0;null===(_scrollRef$current=scrollRef.current)||void 0===_scrollRef$current||_scrollRef$current.scrollBy(0,(bottom?1:-1)*scrollRef.current.scrollHeight+1e3),setGridSelection({cell:[col,row],range:{x:col,y:row,width:1,height:1}});var cell=getCellContentRef.current([col-rowMarkerOffset,row]);cell.allowOverlay&&Object(data_grid_types.g)(cell)&&!0!==cell.readonly&&window.setTimeout((function(){focusCallback.current(col,row)}),0)}();case 10:case"end":return _context.stop()}}),_callee)}))),function(_x){return _ref3.apply(this,arguments)}),[onRowAppended,rowMarkerOffset,rows,setGridSelection]),lastSelectedRowRef=react.useRef(),lastSelectedColRef=react.useRef(),onMouseDown=react.useCallback((function(args){mouseState.current={previousSelection:gridSelection};var isMultiKey=browser_detect.b.value?args.metaKey:args.ctrlKey;if("cell"===args.kind){lastSelectedColRef.current=void 0;var _args$location=data_editor_slicedToArray(args.location,2),col=_args$location[0],row=_args$location[1];if(0===col&&hasRowMarkers){if(!0===showTrailingBlankRow&&row===rows||"number"===rowMarkers)return;setGridSelection(void 0),setOverlay(void 0),focus(),setSelectedColumns(data_grid_types.a.empty());var isSelected=selectedRows.hasIndex(row),lastHighlighted=lastSelectedRowRef.current;if(args.shiftKey&&void 0!==lastHighlighted&&selectedRows.hasIndex(lastHighlighted)){var newSlice=[Math.min(lastHighlighted,row),Math.max(lastHighlighted,row)+1];setSelectedRows(isMultiKey||"multi"===rowSelectionMode?selectedRows.add(newSlice):data_grid_types.a.fromSingleSelection(newSlice))}else isMultiKey||args.isTouch||"multi"===rowSelectionMode?isSelected?setSelectedRows(selectedRows.remove(row)):(setSelectedRows(selectedRows.add(row)),lastSelectedRowRef.current=row):isSelected&&1===selectedRows.length?setSelectedRows(data_grid_types.a.empty()):(setSelectedRows(data_grid_types.a.fromSingleSelection(row)),lastSelectedRowRef.current=row)}else if(col>=rowMarkerOffset&&showTrailingBlankRow&&row===rows)appendRow(col);else if((null==gridSelection?void 0:gridSelection.cell[0])!==col||gridSelection.cell[1]!==row){var isLastStickyRow=lastRowSticky&&row===rows,startedFromLastSticky=lastRowSticky&&void 0!==gridSelection&&gridSelection.cell[1]===rows;if(args.shiftKey&&void 0!==gridSelection&&!startedFromLastSticky){if(isLastStickyRow)return;var _gridSelection$cell3=data_editor_slicedToArray(gridSelection.cell,2),sCol=_gridSelection$cell3[0],sRow=_gridSelection$cell3[1],left=Math.min(col,sCol),right=Math.max(col,sCol),top=Math.min(row,sRow),_bottom=Math.max(row,sRow);setGridSelection(Object.assign({},gridSelection,{range:{x:left,y:top,width:right-left+1,height:_bottom-top+1}})),lastSelectedRowRef.current=void 0,focus()}else setGridSelection({cell:[col,row],range:{x:col,y:row,width:1,height:1}}),setSelectedColumns(data_grid_types.a.empty()),setSelectedRows(data_grid_types.a.empty()),lastSelectedRowRef.current=void 0,setOverlay(void 0),focus()}}else if("header"===args.kind){var _col=data_editor_slicedToArray(args.location,1)[0];if(setGridSelection(void 0),setOverlay(void 0),hasRowMarkers&&0===_col)lastSelectedRowRef.current=void 0,lastSelectedColRef.current=void 0,selectedRows.length!==rows?setSelectedRows(data_grid_types.a.fromSingleSelection([0,rows])):setSelectedRows(data_grid_types.a.empty()),focus();else{var lastCol=lastSelectedColRef.current;if(args.shiftKey&&void 0!==lastCol&&selectedColumns.hasIndex(lastCol)){var _newSlice=[Math.min(lastCol,_col),Math.max(lastCol,_col)+1];setSelectedColumns(isMultiKey?selectedColumns.add(_newSlice):data_grid_types.a.fromSingleSelection(_newSlice))}else isMultiKey?(selectedColumns.hasIndex(_col)?setSelectedColumns(selectedColumns.remove(_col)):setSelectedColumns(selectedColumns.add(_col)),lastSelectedColRef.current=_col):(setSelectedColumns(data_grid_types.a.fromSingleSelection(_col)),lastSelectedColRef.current=_col);setSelectedRows(data_grid_types.a.empty()),lastSelectedRowRef.current=void 0,focus()}}else if("out-of-bounds"===args.kind)setGridSelection(void 0),setOverlay(void 0),focus(),setSelectedColumns(data_grid_types.a.empty()),setSelectedRows(data_grid_types.a.empty()),lastSelectedRowRef.current=void 0,lastSelectedColRef.current=void 0;else if("group-header"===args.kind){var _col2=data_editor_slicedToArray(args.location,1)[0];if(_col2<rowMarkerOffset)return;for(var needle=mangledCols[_col2],start=_col2,end=_col2,i=_col2-1;i>=rowMarkerOffset&&needle.group===mangledCols[i].group;i--)start--;for(var _i2=_col2+1;_i2<mangledCols.length&&needle.group===mangledCols[_i2].group;_i2++)end++;if(setSelectedRows(data_grid_types.a.empty()),setGridSelection(void 0),focus(),isMultiKey)if(selectedColumns.hasAll([start,end+1])){for(var newVal=selectedColumns,index=start;index<=end;index++)newVal=newVal.remove(index);setSelectedColumns(newVal)}else setSelectedColumns(selectedColumns.add([start,end+1]));else setSelectedColumns(data_grid_types.a.fromSingleSelection([start,end+1]))}}),[gridSelection,hasRowMarkers,rowMarkerOffset,showTrailingBlankRow,rows,rowMarkers,setGridSelection,focus,setSelectedColumns,selectedRows,rowSelectionMode,setSelectedRows,appendRow,lastRowSticky,selectedColumns,mangledCols]),onMouseUp=react.useCallback((function(args,isOutside){var _mouse$previousSelect,mouse=mouseState.current;if(mouseState.current=void 0,!isOutside&&(void 0!==scrollTimer.current&&window.clearInterval(scrollTimer.current),"header"===args.kind&&(null==onHeaderClicked||onHeaderClicked(args.location[0]-rowMarkerOffset)),"cell"===args.kind&&void 0!==gridSelection&&void 0!==(null==mouse||null===(_mouse$previousSelect=mouse.previousSelection)||void 0===_mouse$previousSelect?void 0:_mouse$previousSelect.cell))){var _args$location4=data_editor_slicedToArray(args.location,2),col=_args$location4[0],row=_args$location4[1],_gridSelection$cell4=data_editor_slicedToArray(gridSelection.cell,2),selectedCol=_gridSelection$cell4[0],selectedRow=_gridSelection$cell4[1],_mouse$previousSelect2=data_editor_slicedToArray(mouse.previousSelection.cell,2),prevCol=_mouse$previousSelect2[0],prevRow=_mouse$previousSelect2[1],c=getMangedCellContent([col,row]),r=c.kind===data_grid_types.b.Custom?void 0:data_grid_cells.a[c.kind];if(void 0!==r&&void 0!==r.onClick){var _gridRef$current5,newVal=r.onClick(c,args.localEventX,args.localEventY,args.bounds);if(void 0!==newVal&&!Object(data_grid_types.f)(newVal)&&Object(data_grid_types.e)(newVal))mangledOnCellEdited(args.location,newVal),null===(_gridRef$current5=gridRef.current)||void 0===_gridRef$current5||_gridRef$current5.damage([{cell:args.location}])}col===selectedCol&&col===prevCol&&row===selectedRow&&row===prevRow&&reselect(args.bounds),null==onCellClicked||onCellClicked([args.location[0]-rowMarkerOffset,args.location[1]])}}),[getMangedCellContent,gridSelection,mangledOnCellEdited,onCellClicked,onHeaderClicked,reselect,rowMarkerOffset]),onHeaderMenuClickInner=react.useCallback((function(col,screenPosition){null==onHeaderMenuClick||onHeaderMenuClick(col-rowMarkerOffset,screenPosition)}),[onHeaderMenuClick,rowMarkerOffset]),onVisibleRegionChangedImpl=react.useCallback((function(region,tx,ty){var newRegion=Object.assign({},region,{x:region.x-rowMarkerOffset,height:showTrailingBlankRow&&region.y+region.height>=rows?region.height-1:region.height,tx:tx,ty:ty});setVisibleRegion(newRegion),null==onVisibleRegionChanged||onVisibleRegionChanged(newRegion,tx,ty)}),[onVisibleRegionChanged,rowMarkerOffset,rows,showTrailingBlankRow]),onColumnMovedImpl=react.useCallback((function(startIndex,endIndex){null==onColumnMoved||onColumnMoved(startIndex-rowMarkerOffset,endIndex-rowMarkerOffset),setSelectedColumns(data_grid_types.a.fromSingleSelection(endIndex))}),[onColumnMoved,rowMarkerOffset,setSelectedColumns]),onDragStartImpl=react.useCallback((function(args){null==onDragStart||onDragStart(Object.assign({},args,{location:[args.location[0]-rowMarkerOffset,args.location[1]]}))}),[onDragStart,rowMarkerOffset]),onItemHoveredImpl=react.useCallback((function(args){if(void 0!==mouseState.current&&void 0!==gridSelection&&!isDraggable){var _gridSelection$cell5=data_editor_slicedToArray(gridSelection.cell,2),selectedCol=_gridSelection$cell5[0],selectedRow=_gridSelection$cell5[1],_args$location5=data_editor_slicedToArray(args.location,2),col=_args$location5[0],row=_args$location5[1];if(lastRowSticky&&row===rows||lastRowSticky&&selectedRow===rows)return;0===col&&hasRowMarkers&&(col=1);var deltaX=col-selectedCol,deltaY=(null!=row?row:0)-selectedRow,newRange={x:deltaX>=0?selectedCol:col,y:deltaY>=0?selectedRow:null!=row?row:0,width:Math.abs(deltaX)+1,height:Math.abs(deltaY)+1};if(setGridSelection(Object.assign({},gridSelection,{range:newRange})),"out-of-bounds"===args.kind&&null!==scrollRef.current){var _args$direction=data_editor_slicedToArray(args.direction,2),horizontal=_args$direction[0],vertical=_args$direction[1],scrollX=0,scrollY=0;-1===horizontal?scrollX=columns[columns.length-1].width:1===horizontal&&(scrollX=-columns[0].width),0!==vertical&&(scrollY="number"==typeof rowHeight?rowHeight*vertical:rowHeight(null!=row?row:0)*vertical),void 0!==scrollTimer.current&&window.clearInterval(scrollTimer.current),scrollTimer.current=window.setInterval((function(){var _scrollRef$current2;null===(_scrollRef$current2=scrollRef.current)||void 0===_scrollRef$current2||_scrollRef$current2.scrollBy(-100*horizontal,scrollY)}),200),scrollRef.current.scrollBy(scrollX,scrollY)}else void 0!==scrollTimer.current&&window.clearInterval(scrollTimer.current)}null==onItemHovered||onItemHovered(args)}),[gridSelection,isDraggable,onItemHovered,lastRowSticky,rows,hasRowMarkers,setGridSelection,columns,rowHeight]),copyToClipboard=react.useCallback((function(cells){function escape(str){return/\n|"|\t/.test(str)&&(str='"'+str.replace(/"/g,'""')+'"'),str}var formatCell=function formatCell(cell){switch(cell.kind){case data_grid_types.b.Text:case data_grid_types.b.Number:return escape(cell.displayData);case data_grid_types.b.Markdown:case data_grid_types.b.RowID:case data_grid_types.b.Uri:return escape(cell.data);case data_grid_types.b.Image:case data_grid_types.b.Bubble:return cell.data.reduce((function(pv,cv){return escape(pv)+","+escape(cv)}));case data_grid_types.b.Boolean:return cell.data?"TRUE":"FALSE";case data_grid_types.b.Loading:return"#LOADING";case data_grid_types.b.Protected:return"************";case data_grid_types.b.Drilldown:return cell.data.map((function(i){return i.text})).reduce((function(pv,cv){return escape(pv)+","+escape(cv)}));case data_grid_types.b.Custom:return escape(cell.copyData);default:Object(support.b)(cell)}},str=cells.map((function(row){return row.map(formatCell).join("\t")})).join("\n");window.navigator.clipboard.writeText(str)}),[]),scrollTo=react.useCallback((function(col,row){var dir=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"both";if(null!==scrollRef.current){var grid=gridRef.current,canvas=canvasRef.current;if(null!==grid&&null!==canvas){var bounds=grid.getBounds(col,row),scrollBounds=canvas.getBoundingClientRect();if(void 0!==bounds){var scrollX=0,scrollY=0,sLeft=scrollBounds.left+rowMarkerOffset*rowMarkerWidth,sRight=scrollBounds.right,sTop=scrollBounds.top+headerHeight,trailingRowHeight=0;lastRowSticky&&(trailingRowHeight="number"==typeof rowHeight?rowHeight:rowHeight(rows));var sBottom=scrollBounds.bottom-trailingRowHeight;sLeft>bounds.x?scrollX=bounds.x-sLeft:sRight<bounds.x+bounds.width&&(scrollX=bounds.x+bounds.width-sRight),sTop>bounds.y?scrollY=bounds.y-sTop:sBottom<bounds.y+bounds.height&&(scrollY=bounds.y+bounds.height-sBottom),"vertical"===dir?scrollX=0:"horizontal"===dir&&(scrollY=0),0===scrollX&&0===scrollY||scrollRef.current.scrollTo(scrollX+scrollRef.current.scrollLeft,scrollY+scrollRef.current.scrollTop)}}}}),[headerHeight,lastRowSticky,rowHeight,rowMarkerOffset,rowMarkerWidth,rows]),adjustSelection=react.useCallback((function(direction){var _oldRange$x,_oldRange$y,_oldRange$width,_oldRange$height;if(void 0!==gridSelection){var _direction=data_editor_slicedToArray(direction,2),x=_direction[0],y=_direction[1],_gridSelection$cell6=data_editor_slicedToArray(gridSelection.cell,2),col=_gridSelection$cell6[0],row=_gridSelection$cell6[1],oldRange=gridSelection.range,left=null!==(_oldRange$x=null==oldRange?void 0:oldRange.x)&&void 0!==_oldRange$x?_oldRange$x:col,top=null!==(_oldRange$y=null==oldRange?void 0:oldRange.y)&&void 0!==_oldRange$y?_oldRange$y:row,width=null!==(_oldRange$width=null==oldRange?void 0:oldRange.width)&&void 0!==_oldRange$width?_oldRange$width:1,height=null!==(_oldRange$height=null==oldRange?void 0:oldRange.height)&&void 0!==_oldRange$height?_oldRange$height:1,isTop=0===top-row;y<0&&1===height&&(isTop=!1);var heightDiff=isTop?y:-1*y,isLeft=0===left-col;x<0&&1===width&&(isLeft=!1);var widthDiff=isLeft?x:-1*x;if(isTop){var maxHeight=rows-top;height+=heightDiff,height=Math.min(maxHeight,height),scrollTo(0,top+height-1,"vertical")}else top-=heightDiff,height=Math.abs(top-row)+1,scrollTo(0,top,"vertical");isLeft?scrollTo(left+(width+=widthDiff)-1,0,"horizontal"):(left-=widthDiff,left=Math.max(rowMarkerOffset,left),width=Math.abs(left-col)+1,scrollTo(left,0,"horizontal")),setGridSelection(Object.assign({},gridSelection,{range:{x:left,y:top,width:width,height:height}}))}}),[gridSelection,rowMarkerOffset,rows,scrollTo,setGridSelection]),updateSelectedCell=react.useCallback((function(col,row){var fromEditingTrailingRow=arguments.length>2&&void 0!==arguments[2]&&arguments[2],rowMax=mangledRows-(fromEditingTrailingRow?0:1);return col=Object(fp.clamp)(rowMarkerOffset,columns.length-1+rowMarkerOffset,col),row=Object(fp.clamp)(0,rowMax,row),(col!==(null==gridSelection?void 0:gridSelection.cell[0])||row!==(null==gridSelection?void 0:gridSelection.cell[1]))&&(setGridSelection({cell:[col,row],range:{x:col,y:row,width:1,height:1}}),void 0!==lastSent.current&&lastSent.current[0]===col&&lastSent.current[1]===row&&(lastSent.current=void 0),scrollTo(col,row),!0)}),[mangledRows,rowMarkerOffset,columns.length,null==gridSelection?void 0:gridSelection.cell,setGridSelection,scrollTo]),onFinishEditing=react.useCallback((function(newValue,movement){void 0!==gridSelection&&void 0!==newValue&&(null==mangledOnCellEdited||mangledOnCellEdited([gridSelection.cell[0],gridSelection.cell[1]],newValue)),focus(!0),setOverlay(void 0);var _movement=data_editor_slicedToArray(movement,2),movX=_movement[0],movY=_movement[1];if(void 0!==gridSelection&&(0!==movX||0!==movY)){var isEditingTrailingRow=gridSelection.cell[1]===mangledRows-1&&void 0!==newValue;updateSelectedCell(gridSelection.cell[0]+movX,gridSelection.cell[1]+movY,isEditingTrailingRow)}}),[gridSelection,focus,mangledOnCellEdited,mangledRows,updateSelectedCell]),_ref5=data_editor_slicedToArray(null!==(_gridSelection$cell=null==gridSelection?void 0:gridSelection.cell)&&void 0!==_gridSelection$cell?_gridSelection$cell:[],2),selCol=_ref5[0],selRow=_ref5[1],onCellFocused=react.useCallback((function(cell){selCol===cell[0]&&selRow===cell[1]||(setGridSelection({cell:cell,range:{x:cell[0],y:cell[1],width:1,height:1}}),setSelectedRows(data_grid_types.a.empty()))}),[selCol,selRow,setGridSelection,setSelectedRows]),onKeyDown=react.useCallback((function(event){var _ref6,fn=(_ref6=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var overlayOpen,shiftKey,isOSX,isPrimaryKey,isDeleteKey,_gridSelection$cell7,col,row,_gridRef$current6,damage,r,x,fillCol,fillVal,y,fillRow,target,_gridRef$current7,range,damaged,_x2,_y,cellValue,_r$onDelete,_r,newVal,key;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(overlayOpen=void 0!==overlay,shiftKey=event.shiftKey,isOSX=browser_detect.b.value,isPrimaryKey=isOSX?event.metaKey:event.ctrlKey,isDeleteKey="Delete"===event.key||isOSX&&"Backspace"===event.key,"Escape"!==event.key){_context2.next=13;break}if(!overlayOpen){_context2.next=9;break}return setOverlay(void 0),_context2.abrupt("return");case 9:return setGridSelection(void 0),setSelectedRows(data_grid_types.a.empty()),setSelectedColumns(data_grid_types.a.empty()),_context2.abrupt("return");case 13:if(!isDeleteKey||void 0===selectedRows||0===selectedRows.length||void 0!==gridSelection){_context2.next=18;break}return focus(),null==onDeleteRows||onDeleteRows(Array.from(selectedRows)),setSelectedRows(data_grid_types.a.empty()),_context2.abrupt("return");case 18:if(void 0!==gridSelection){_context2.next=20;break}return _context2.abrupt("return");case 20:if(_gridSelection$cell7=data_editor_slicedToArray(gridSelection.cell,2),col=_gridSelection$cell7[0],row=_gridSelection$cell7[1],"Enter"!==event.key||void 0===event.bounds){_context2.next=25;break}overlayOpen?(setOverlay(void 0),row++):row===rows&&showTrailingBlankRow?window.setTimeout((function(){appendRow(col)}),0):(reselect(event.bounds),event.cancel()),_context2.next=82;break;case 25:if(!(68===event.keyCode&&isPrimaryKey&&gridSelection.range.height>1&&enableDownfill)){_context2.next=42;break}damage=[],r=gridSelection.range,x=0;case 29:if(!(x<r.width)){_context2.next=38;break}if(fillCol=x+r.x,fillVal=getMangedCellContent([fillCol,r.y]),!Object(data_grid_types.f)(fillVal)&&Object(data_grid_types.e)(fillVal)){_context2.next=34;break}return _context2.abrupt("continue",35);case 34:for(y=1;y<r.height;y++)fillRow=y+r.y,target=[fillCol,fillRow],damage.push(target),null==mangledOnCellEdited||mangledOnCellEdited(target,Object.assign({},fillVal));case 35:x++,_context2.next=29;break;case 38:null===(_gridRef$current6=gridRef.current)||void 0===_gridRef$current6||_gridRef$current6.damage(damage.map((function(c){return{cell:c}}))),event.cancel(),_context2.next=82;break;case 42:if("ArrowDown"!==event.key){_context2.next=47;break}setOverlay(void 0),shiftKey?adjustSelection([0,isPrimaryKey?Number.MAX_SAFE_INTEGER:1]):row+=isPrimaryKey?Number.MAX_SAFE_INTEGER:1,_context2.next=82;break;case 47:if("ArrowUp"!==event.key){_context2.next=52;break}setOverlay(void 0),shiftKey?adjustSelection([0,isPrimaryKey?Number.MIN_SAFE_INTEGER:-1]):row+=isPrimaryKey?Number.MIN_SAFE_INTEGER:-1,_context2.next=82;break;case 52:if("ArrowRight"!==event.key){_context2.next=57;break}setOverlay(void 0),shiftKey?adjustSelection([isPrimaryKey?Number.MAX_SAFE_INTEGER:1,0]):col+=isPrimaryKey?Number.MAX_SAFE_INTEGER:1,_context2.next=82;break;case 57:if("ArrowLeft"!==event.key){_context2.next=62;break}setOverlay(void 0),shiftKey?adjustSelection([isPrimaryKey?Number.MIN_SAFE_INTEGER:-1,0]):col+=isPrimaryKey?Number.MIN_SAFE_INTEGER:-1,_context2.next=82;break;case 62:if("Tab"!==event.key){_context2.next=67;break}setOverlay(void 0),shiftKey?col--:col++,_context2.next=82;break;case 67:if(!isDeleteKey){_context2.next=75;break}for(range=gridSelection.range,focus(),damaged=[],_x2=range.x;_x2<range.x+range.width;_x2++)for(_y=range.y;_y<range.y+range.height;_y++)cellValue=getCellContent([_x2-rowMarkerOffset,_y]),(Object(data_grid_types.e)(cellValue)&&cellValue.allowOverlay||cellValue.kind===data_grid_types.b.Boolean)&&(_r=data_grid_cells.a[cellValue.kind],void 0!==(newVal=null===(_r$onDelete=_r.onDelete)||void 0===_r$onDelete?void 0:_r$onDelete.call(_r,cellValue))&&(mangledOnCellEdited([_x2,_y],newVal),damaged.push([_x2,_y])));null===(_gridRef$current7=gridRef.current)||void 0===_gridRef$current7||_gridRef$current7.damage(damaged.map((function(x){return{cell:x}}))),_context2.next=82;break;case 75:if(event.metaKey||event.ctrlKey||!String.fromCharCode(event.keyCode).match(/(\w|\s)/g)||void 0===event.bounds||!Object(data_grid_types.g)(getCellContent([col-rowMarkerOffset,Math.max(0,row-1)]))){_context2.next=82;break}if(lastRowSticky&&row===rows||!(visibleRegion.y>row||row>visibleRegion.y+visibleRegion.height||visibleRegion.x>col||col>visibleRegion.x+visibleRegion.width)){_context2.next=78;break}return _context2.abrupt("return");case 78:key=String.fromCharCode(event.keyCode),event.shiftKey||(key=key.toLowerCase()),reselect(event.bounds,key),event.cancel();case 82:updateSelectedCell(col,row)&&event.cancel();case 84:case"end":return _context2.stop()}}),_callee2)}))),function fn(){return _ref6.apply(this,arguments)});fn()}),[overlay,selectedRows,gridSelection,enableDownfill,getCellContent,rowMarkerOffset,updateSelectedCell,setGridSelection,setSelectedRows,setSelectedColumns,focus,onDeleteRows,rows,showTrailingBlankRow,appendRow,reselect,getMangedCellContent,mangledOnCellEdited,adjustSelection,lastRowSticky,visibleRegion.y,visibleRegion.height,visibleRegion.x,visibleRegion.width]);function unquote(str){function descape(s){return s.startsWith('"')&&s.endsWith('"')&&(s=s.slice(1,-1).replace(/""/g,'"')),s}var State;!function(State){State[State.None=0]="None",State[State.inString=1]="inString",State[State.inStringPostQuote=2]="inStringPostQuote"}(State||(State={}));var _step,result=[],current=[],start=0,state=State.None,index=0,_iterator=_createForOfIteratorHelper(str=str.trim().replace(/\r\n/g,"\n"));try{for(_iterator.s();!(_step=_iterator.n()).done;){var _char=_step.value;switch(state){case State.None:"\t"===_char||"\n"===_char?(current.push(str.slice(start,index)),start=index+1,"\n"===_char&&(result.push(current),current=[])):'"'===_char&&(state=State.inString);break;case State.inString:'"'===_char&&(state=State.inStringPostQuote);break;case State.inStringPostQuote:'"'===_char?state=State.inString:"\t"===_char||"\n"===_char?(current.push(descape(str.slice(start,index))),start=index+1,"\n"===_char&&(result.push(current),current=[]),state=State.None):state=State.None}index++}}catch(err){_iterator.e(err)}finally{_iterator.f()}return start<str.length&&current.push(descape(str.slice(start,str.length))),result.push(current),result}Object(utils.g)("paste",react.useCallback(_asyncToGenerator(regeneratorRuntime.mark((function _callee3(){var _scrollRef$current3,_canvasRef$current,pasteToCell,focused,target,_selectedColumns$firs,_selectedRows$first,_gridRef$current8,text,_target2,gridCol,gridRow,cellData,data,damage,row,dataRow,col,dataItem,index,_cellData;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(pasteToCell=function _pasteToCell(inner,target,toPaste){if(!Object(data_grid_types.f)(inner)&&Object(data_grid_types.g)(inner)&&!0!==inner.readonly)switch(inner.kind){case data_grid_types.b.Text:case data_grid_types.b.Markdown:case data_grid_types.b.Uri:return null==mangledOnCellEdited||mangledOnCellEdited(target,Object.assign({},inner,{data:toPaste})),!0;case data_grid_types.b.Number:var newNumber=Number.parseFloat(toPaste);return!Number.isNaN(newNumber)&&(null==mangledOnCellEdited||mangledOnCellEdited(target,Object.assign({},inner,{data:newNumber})),!0);default:Object(support.b)(inner)}return!1},focused=(null===(_scrollRef$current3=scrollRef.current)||void 0===_scrollRef$current3?void 0:_scrollRef$current3.contains(document.activeElement))||(null===(_canvasRef$current=canvasRef.current)||void 0===_canvasRef$current?void 0:_canvasRef$current.contains(document.activeElement)),void 0===(target=null==gridSelection?void 0:gridSelection.cell)&&1===selectedColumns.length&&(target=[null!==(_selectedColumns$firs=selectedColumns.first())&&void 0!==_selectedColumns$firs?_selectedColumns$firs:0,0]),void 0===target&&1===selectedRows.length&&(target=[rowMarkerOffset,null!==(_selectedRows$first=selectedRows.first())&&void 0!==_selectedRows$first?_selectedRows$first:0]),!focused||void 0===target){_context3.next=28;break}return _context3.next=8,navigator.clipboard.readText();case 8:if(text=_context3.sent,_target2=data_editor_slicedToArray(target,2),gridCol=_target2[0],gridRow=_target2[1],void 0!==onPaste){_context3.next=14;break}return cellData=getMangedCellContent(target),pasteToCell(cellData,target,text),_context3.abrupt("return");case 14:if(data=unquote(text),!1!==onPaste&&("function"!=typeof onPaste||!0===(null==onPaste?void 0:onPaste(target,data)))){_context3.next=17;break}return _context3.abrupt("return");case 17:damage=[],row=0;case 19:if(!(row<data.length)){_context3.next=27;break}if(dataRow=data[row],!(row+gridRow>=rows)){_context3.next=23;break}return _context3.abrupt("break",27);case 23:for(col=0;col<dataRow.length;col++)dataItem=dataRow[col],_cellData=getMangedCellContent(index=[col+gridCol,row+gridRow]),pasteToCell(_cellData,index,dataItem)&&damage.push(index);case 24:row++,_context3.next=19;break;case 27:null===(_gridRef$current8=gridRef.current)||void 0===_gridRef$current8||_gridRef$current8.damage(damage.map((function(c){return{cell:c}})));case 28:case"end":return _context3.stop()}}),_callee3)}))),[getMangedCellContent,gridSelection,mangledOnCellEdited,onPaste,rowMarkerOffset,rows,selectedColumns,selectedRows]),window,!1,!0),Object(utils.g)("copy",react.useCallback((function(){var _scrollRef$current4,_canvasRef$current2;if(((null===(_scrollRef$current4=scrollRef.current)||void 0===_scrollRef$current4?void 0:_scrollRef$current4.contains(document.activeElement))||(null===(_canvasRef$current2=canvasRef.current)||void 0===_canvasRef$current2?void 0:_canvasRef$current2.contains(document.activeElement)))&&getCellsForSelection)if(void 0!==gridSelection){var _gridSelection$cell8=data_editor_slicedToArray(gridSelection.cell,2),col=_gridSelection$cell8[0],row=_gridSelection$cell8[1];if(void 0!==gridSelection.range&&void 0!==getCellsForSelection)copyToClipboard(getCellsForSelection(Object.assign({},gridSelection.range,{x:gridSelection.range.x-rowMarkerOffset})));else{var cellValue=getCellContent([col-rowMarkerOffset,row]);copyToClipboard([[cellValue]])}}else if(void 0!==selectedRows&&selectedRows.length>0){var cells=Array.from(selectedRows).map((function(rowIndex){return getCellsForSelection({x:0,y:rowIndex,width:columns.length,height:1})[0]}));copyToClipboard(cells)}else if(selectedColumns.length>=1){var _step2,results=[],_iterator2=_createForOfIteratorHelper(selectedColumns);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _col3=_step2.value;results.push(getCellsForSelection({x:_col3-rowMarkerOffset,y:0,width:1,height:rows}))}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}1===results.length&&copyToClipboard(results[0]);var _toCopy=results.reduce((function(pv,cv){return pv.map((function(row,index){return[].concat(_toConsumableArray(row),_toConsumableArray(cv[index]))}))}));copyToClipboard(_toCopy)}}),[columns.length,copyToClipboard,getCellContent,getCellsForSelection,gridSelection,rowMarkerOffset,rows,selectedColumns,selectedRows]),window,!0,!1);var onSearchResultsChanged=react.useCallback((function(results,navIndex){if(0!==results.length&&-1!==navIndex){var _results$navIndex=data_editor_slicedToArray(results[navIndex],2),col=_results$navIndex[0],row=_results$navIndex[1];void 0!==lastSent.current&&lastSent.current[0]===col&&lastSent.current[1]===row||(lastSent.current=[col,row],updateSelectedCell(col,row))}}),[updateSelectedCell]);react.useEffect((function(){if(void 0!==gridSelection){var _gridSelection$cell9=data_editor_slicedToArray(gridSelection.cell,2),col=_gridSelection$cell9[0],row=_gridSelection$cell9[1];void 0!==mangledCols[col]&&updateSelectedCell(col,row)}}),[mangledCols,rows,gridSelection,updateSelectedCell]);var disabledRows=react.useMemo((function(){return!0===showTrailingBlankRow&&!0===(null==trailingRowOptions?void 0:trailingRowOptions.tint)?data_grid_types.a.fromSingleSelection(mangledRows-1):data_grid_types.a.empty()}),[mangledRows,showTrailingBlankRow,null==trailingRowOptions?void 0:trailingRowOptions.tint]),theme=Object(styled_components_browser_esm.d)(),mergedTheme=react.useMemo((function(){return Object.assign({},Object(styles.a)(),theme)}),[theme]),mangedVerticalBorder=react.useCallback((function(col){var _verticalBorder;return"boolean"==typeof verticalBorder?verticalBorder:null===(_verticalBorder=null==verticalBorder?void 0:verticalBorder(col-rowMarkerOffset))||void 0===_verticalBorder||_verticalBorder}),[rowMarkerOffset,verticalBorder]),drawCustomCellMangled=react.useMemo((function(){return void 0!==drawCell?drawCell:void 0!==drawCustomCell?function(a){return drawCustomCell(a.ctx,a.cell,a.theme,a.rect,a.hoverAmount)}:void 0}),[drawCell,drawCustomCell]);return react.createElement(styled_components_browser_esm.a,{theme:mergedTheme},react.createElement(data_grid_search,data_editor_extends({},rest,{enableGroups:enableGroups,canvasRef:canvasRef,cellXOffset:cellXOffset,cellYOffset:cellYOffset,columns:mangledCols,drawCustomCell:drawCustomCellMangled,disabledRows:disabledRows,freezeColumns:mangledFreezeColumns,getCellContent:getMangedCellContent,headerHeight:headerHeight,lastRowSticky:lastRowSticky,onCellFocused:onCellFocused,onColumnMoved:void 0===onColumnMoved?void 0:onColumnMovedImpl,onDragStart:onDragStartImpl,onHeaderMenuClick:onHeaderMenuClickInner,onItemHovered:onItemHoveredImpl,onKeyDown:onKeyDown,onMouseDown:onMouseDown,onMouseUp:onMouseUp,onSearchResultsChanged:onSearchResultsChanged,onVisibleRegionChanged:onVisibleRegionChangedImpl,rowHeight:rowHeight,rows:mangledRows,scrollRef:scrollRef,searchColOffset:rowMarkerOffset,selectedCell:gridSelection,selectedColumns:selectedColumns,selectedRows:selectedRows,translateX:visibleRegion.tx,translateY:visibleRegion.ty,verticalBorder:mangedVerticalBorder,gridRef:gridRef})),void 0!==overlay&&react.createElement(data_grid_overlay_editor,data_editor_extends({},overlay,{provideEditor:provideEditor,imageEditorOverride:imageEditorOverride,onFinishEditing:onFinishEditing,markdownDivCreateNode:markdownDivCreateNode})))}));try{DataEditor.displayName="DataEditor",DataEditor.__docgenInfo={description:"",displayName:"DataEditor",props:{onDeleteRows:{defaultValue:null,description:"",name:"onDeleteRows",required:!1,type:{name:"(rows: readonly number[]) => void"}},onCellEdited:{defaultValue:null,description:"",name:"onCellEdited",required:!1,type:{name:"(cell: readonly [number, number], newValue: EditableGridCell) => void"}},onRowAppended:{defaultValue:null,description:"",name:"onRowAppended",required:!1,type:{name:'() => void | Promise<"top" | "bottom">'}},onHeaderClicked:{defaultValue:null,description:"",name:"onHeaderClicked",required:!1,type:{name:"(colIndex: number) => void"}},onCellClicked:{defaultValue:null,description:"",name:"onCellClicked",required:!1,type:{name:"(cell: readonly [number, number]) => void"}},trailingRowOptions:{defaultValue:null,description:"",name:"trailingRowOptions",required:!1,type:{name:"{ readonly tint?: boolean; readonly hint?: string; readonly sticky?: boolean; }"}},headerHeight:{defaultValue:null,description:"",name:"headerHeight",required:!1,type:{name:"number"}},rowMarkers:{defaultValue:null,description:"",name:"rowMarkers",required:!1,type:{name:"enum",value:[{value:'"number"'},{value:'"checkbox"'},{value:'"both"'},{value:'"none"'}]}},rowMarkerWidth:{defaultValue:null,description:"",name:"rowMarkerWidth",required:!1,type:{name:"number"}},rowHeight:{defaultValue:null,description:"",name:"rowHeight",required:!1,type:{name:"number | ((index: number) => number)"}},imageEditorOverride:{defaultValue:null,description:"",name:"imageEditorOverride",required:!1,type:{name:"ImageEditorType"}},markdownDivCreateNode:{defaultValue:null,description:"",name:"markdownDivCreateNode",required:!1,type:{name:"(content: string) => DocumentFragment"}},provideEditor:{defaultValue:null,description:"",name:"provideEditor",required:!1,type:{name:"ProvideEditorCallback<GridCell>"}},onSelectedRowsChange:{defaultValue:null,description:"",name:"onSelectedRowsChange",required:!1,type:{name:"(newRows: CompactSelection) => void"}},selectedColumns:{defaultValue:null,description:"",name:"selectedColumns",required:!1,type:{name:"CompactSelection"}},onSelectedColumnsChange:{defaultValue:null,description:"",name:"onSelectedColumnsChange",required:!1,type:{name:"(newColumns: CompactSelection) => void"}},drawCustomCell:{defaultValue:null,description:"@deprecated Use drawCell instead. This will be removed in a future version.",name:"drawCustomCell",required:!1,type:{name:"(ctx: CanvasRenderingContext2D, cell: GridCell, theme: Theme, rect: Rectangle, hoverAmount: number) => boolean"}},drawCell:{defaultValue:null,description:"",name:"drawCell",required:!1,type:{name:"DrawCustomCellCallback"}},gridSelection:{defaultValue:null,description:"",name:"gridSelection",required:!1,type:{name:"GridSelection"}},onGridSelectionChange:{defaultValue:null,description:"",name:"onGridSelectionChange",required:!1,type:{name:"(newSelection: GridSelection) => void"}},onVisibleRegionChanged:{defaultValue:null,description:"",name:"onVisibleRegionChanged",required:!1,type:{name:"(range: Rectangle, tx?: number, ty?: number) => void"}},getCellContent:{defaultValue:null,description:"",name:"getCellContent",required:!0,type:{name:"ReplaceReturnType<(cell: readonly [number, number]) => InnerGridCell, GridCell>"}},rowSelectionMode:{defaultValue:null,description:"",name:"rowSelectionMode",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"multi"'}]}},enableDownfill:{defaultValue:null,description:"",name:"enableDownfill",required:!1,type:{name:"boolean"}},freezeColumns:{defaultValue:null,description:"",name:"freezeColumns",required:!1,type:{name:"number"}},verticalBorder:{defaultValue:null,description:"",name:"verticalBorder",required:!1,type:{name:"boolean | ((col: number) => boolean)"}},onPaste:{defaultValue:null,description:"",name:"onPaste",required:!1,type:{name:"boolean | ((target: readonly [number, number], values: readonly (readonly string[])[]) => boolean)"}},smoothScrollX:{defaultValue:null,description:"",name:"smoothScrollX",required:!1,type:{name:"boolean"}},smoothScrollY:{defaultValue:null,description:"",name:"smoothScrollY",required:!1,type:{name:"boolean"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"readonly GridColumn[]"}},rows:{defaultValue:null,description:"",name:"rows",required:!0,type:{name:"number"}},onHeaderMenuClick:{defaultValue:null,description:"",name:"onHeaderMenuClick",required:!1,type:{name:"(col: number, screenPosition: Rectangle) => void"}},selectedRows:{defaultValue:null,description:"",name:"selectedRows",required:!1,type:{name:"CompactSelection"}},onItemHovered:{defaultValue:null,description:"",name:"onItemHovered",required:!1,type:{name:"(args: GridMouseEventArgs) => void"}},isDraggable:{defaultValue:null,description:"",name:"isDraggable",required:!1,type:{name:"boolean"}},onDragStart:{defaultValue:null,description:"",name:"onDragStart",required:!1,type:{name:"(args: GridDragEventArgs) => void"}},experimental:{defaultValue:null,description:"",name:"experimental",required:!1,type:{name:"{ readonly paddingRight?: number; readonly paddingBottom?: number; readonly disableFirefoxRescaling?: boolean; }"}},headerIcons:{defaultValue:null,description:"",name:"headerIcons",required:!1,type:{name:"SpriteMap"}},onRowMoved:{defaultValue:null,description:"",name:"onRowMoved",required:!1,type:{name:"(startIndex: number, endIndex: number) => void"}},onColumnMoved:{defaultValue:null,description:"",name:"onColumnMoved",required:!1,type:{name:"(startIndex: number, endIndex: number) => void"}},onColumnResized:{defaultValue:null,description:"",name:"onColumnResized",required:!1,type:{name:"(column: GridColumn, newSize: number) => void"}},maxColumnWidth:{defaultValue:null,description:"",name:"maxColumnWidth",required:!1,type:{name:"number"}},scrollToEnd:{defaultValue:null,description:"",name:"scrollToEnd",required:!1,type:{name:"boolean"}},overscrollX:{defaultValue:null,description:"",name:"overscrollX",required:!1,type:{name:"number"}},rightElementSticky:{defaultValue:null,description:"",name:"rightElementSticky",required:!1,type:{name:"boolean"}},rightElement:{defaultValue:null,description:"",name:"rightElement",required:!1,type:{name:"ReactNode"}},getCellsForSelection:{defaultValue:null,description:"",name:"getCellsForSelection",required:!1,type:{name:"(selection: Rectangle) => readonly (readonly GridCell[])[]"}},showSearch:{defaultValue:null,description:"",name:"showSearch",required:!1,type:{name:"boolean"}},onSearchClose:{defaultValue:null,description:"",name:"onSearchClose",required:!1,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-editor/data-editor.tsx#DataEditor"]={docgenInfo:DataEditor.__docgenInfo,name:"DataEditor",path:"core/src/data-editor/data-editor.tsx#DataEditor"})}catch(__react_docgen_typescript_loader_error){}},206:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return parseToRgba}));__webpack_require__(112),__webpack_require__(4),__webpack_require__(53),__webpack_require__(31),__webpack_require__(68),__webpack_require__(389);var cache={},div=null;function parseToRgba(color){var normalizedColor=color.toLowerCase().trim();if(void 0!==cache[normalizedColor])return cache[normalizedColor];(div=div||function createDiv(){var d=document.createElement("div");return d.classList.add("color2k-parser"),d.style.opacity="0",d.style.pointerEvents="none",d.style.position="fixed",document.body.appendChild(d),d}()).style.color="#000",div.style.color=normalizedColor;var control=getComputedStyle(div).color;div.style.color="#fff",div.style.color=normalizedColor;var computedColor=getComputedStyle(div).color;if(computedColor!==control)throw new Error("Could not parse color");var result=computedColor.replace(/[^\d.,]/g,"").split(",").map(parseFloat);return result.length<4&&result.push(1),cache[normalizedColor]=result,result}},211:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(33),__webpack_require__(41),__webpack_require__(6),__webpack_require__(23),__webpack_require__(16),__webpack_require__(3),__webpack_require__(17),__webpack_require__(12),__webpack_require__(10),__webpack_require__(11),__webpack_require__(9),__webpack_require__(19),__webpack_require__(14),__webpack_require__(95),__webpack_require__(4),__webpack_require__(2);var react=__webpack_require__(0),clamp=__webpack_require__(88),clamp_default=__webpack_require__.n(clamp),data_grid=__webpack_require__(126),_excluded=["onColumnMoved","onColumnResized","gridRef","maxColumnWidth","onHeaderMenuClick","onRowMoved","getCellContent"];function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}var data_grid_dnd=function DataGridDnd(p){var _React$useState2=_slicedToArray(react.useState(),2),resizeColStartX=_React$useState2[0],setResizeColStartX=_React$useState2[1],_React$useState4=_slicedToArray(react.useState(),2),resizeCol=_React$useState4[0],setResizeCol=_React$useState4[1],_React$useState6=_slicedToArray(react.useState(),2),dragCol=_React$useState6[0],setDragCol=_React$useState6[1],_React$useState8=_slicedToArray(react.useState(),2),dropCol=_React$useState8[0],setDropCol=_React$useState8[1],_React$useState10=_slicedToArray(react.useState(!1),2),dragColActive=_React$useState10[0],setDragColActive=_React$useState10[1],_React$useState12=_slicedToArray(react.useState(),2),dragStartX=_React$useState12[0],setDragStartX=_React$useState12[1],_React$useState14=_slicedToArray(react.useState(),2),dragRow=_React$useState14[0],setDragRow=_React$useState14[1],_React$useState16=_slicedToArray(react.useState(),2),dropRow=_React$useState16[0],setDropRow=_React$useState16[1],_React$useState18=_slicedToArray(react.useState(!1),2),dragRowActive=_React$useState18[0],setDragRowActive=_React$useState18[1],_React$useState20=_slicedToArray(react.useState(),2),dragStartY=_React$useState20[0],setDragStartY=_React$useState20[1],onColumnMoved=p.onColumnMoved,onColumnResized=p.onColumnResized,gridRef=p.gridRef,maxColumnWidth=p.maxColumnWidth,onHeaderMenuClick=p.onHeaderMenuClick,onRowMoved=p.onRowMoved,getCellContent=p.getCellContent,rest=_objectWithoutProperties(p,_excluded),freezeColumns=p.freezeColumns,onMouseDown=p.onMouseDown,onMouseUp=p.onMouseUp,onItemHovered=p.onItemHovered,_p$isDraggable=p.isDraggable,isDraggable=void 0!==_p$isDraggable&&_p$isDraggable,columns=p.columns,selectedColumns=p.selectedColumns,onItemHoveredImpl=react.useCallback((function(args){var _args$location=_slicedToArray(args.location,2),col=_args$location[0],row=_args$location[1];void 0!==dragCol&&dropCol!==col&&col>=freezeColumns?(setDragColActive(!0),setDropCol(col)):void 0!==dragRow&&void 0!==row?(setDragRowActive(!0),setDropRow(Math.max(0,row))):null==onItemHovered||onItemHovered(args)}),[dragCol,dragRow,dropCol,freezeColumns,onItemHovered]),canDragCol=void 0!==onColumnMoved,onMouseDownImpl=react.useCallback((function(args){var shouldFireEvent=!0,_args$location2=_slicedToArray(args.location,2),col=_args$location2[0],row=_args$location2[1];if(!isDraggable)if("out-of-bounds"===args.kind&&args.isEdge){var _gridRef$current,bounds=null==gridRef||null===(_gridRef$current=gridRef.current)||void 0===_gridRef$current?void 0:_gridRef$current.getBounds(columns.length-1,-1);void 0!==bounds&&(setResizeColStartX(bounds.x),setResizeCol(columns.length-1))}else"header"===args.kind&&col>=freezeColumns?args.isEdge?(shouldFireEvent=!1,setResizeColStartX(args.bounds.x),setResizeCol(col)):"header"===args.kind&&canDragCol&&(setDragStartX(args.bounds.x),setDragCol(col)):"cell"===args.kind&&freezeColumns>0&&0===col&&void 0!==row&&void 0!==onRowMoved&&(setDragStartY(args.bounds.y),setDragRow(row));shouldFireEvent&&(null==onMouseDown||onMouseDown(args))}),[isDraggable,onMouseDown,freezeColumns,onRowMoved,gridRef,columns.length,canDragCol]),onHeaderMenuClickMangled=react.useCallback((function(col,screenPosition){dragColActive||dragRowActive||null==onHeaderMenuClick||onHeaderMenuClick(col,screenPosition)}),[dragColActive,dragRowActive,onHeaderMenuClick]),lastResizeWidthRef=react.useRef(-1),onMouseUpImpl=react.useCallback((function(args,isOutside){if(void 0!==resizeCol&&!0===(null==selectedColumns?void 0:selectedColumns.hasIndex(resizeCol))){var _step,_iterator=_createForOfIteratorHelper(selectedColumns);try{for(_iterator.s();!(_step=_iterator.n()).done;){var c=_step.value;c!==resizeCol&&(null==onColumnResized||onColumnResized(columns[c],lastResizeWidthRef.current))}}catch(err){_iterator.e(err)}finally{_iterator.f()}}lastResizeWidthRef.current=-1,setDragRow(void 0),setDropRow(void 0),setDragStartY(void 0),setDragRowActive(!1),setDragCol(void 0),setDropCol(void 0),setDragStartX(void 0),setDragColActive(!1),setResizeCol(void 0),setResizeColStartX(void 0),void 0!==dragCol&&void 0!==dropCol&&(null==onColumnMoved||onColumnMoved(dragCol,dropCol)),void 0!==dragRow&&void 0!==dropRow&&(null==onRowMoved||onRowMoved(dragRow,dropRow)),null==onMouseUp||onMouseUp(args,isOutside)}),[columns,dragCol,dragRow,dropCol,dropRow,onColumnMoved,onColumnResized,onMouseUp,onRowMoved,resizeCol,selectedColumns]),dragOffset=react.useMemo((function(){if(void 0!==dragCol&&void 0!==dropCol&&dragCol!==dropCol)return{src:dragCol,dest:dropCol}}),[dragCol,dropCol]),maxColumnWidthValue=void 0===maxColumnWidth?500:maxColumnWidth<50?50:maxColumnWidth,onMouseMove=react.useCallback((function(event){if(void 0!==dragCol&&void 0!==dragStartX)Math.abs(event.clientX-dragStartX)>20&&setDragColActive(!0);else if(void 0!==dragRow&&void 0!==dragStartY){Math.abs(event.clientY-dragStartY)>20&&setDragRowActive(!0)}else if(void 0!==resizeCol&&void 0!==resizeColStartX){var column=columns[resizeCol],newWidth=clamp_default()(event.clientX-resizeColStartX,50,maxColumnWidthValue);if(null==onColumnResized||onColumnResized(column,newWidth),lastResizeWidthRef.current=newWidth,void 0!==resizeCol&&(null==selectedColumns?void 0:selectedColumns.first())===resizeCol){var _step2,_iterator2=_createForOfIteratorHelper(selectedColumns);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var c=_step2.value;c!==resizeCol&&(null==onColumnResized||onColumnResized(columns[c],lastResizeWidthRef.current))}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}}}),[dragCol,dragStartX,dragRow,dragStartY,resizeCol,resizeColStartX,columns,maxColumnWidthValue,onColumnResized,selectedColumns]),getMangledCellContent=react.useCallback((function(cell){if(void 0===dragRow||void 0===dropRow)return getCellContent(cell);var _cell=_slicedToArray(cell,2),col=_cell[0],row=_cell[1];return row===dropRow?row=dragRow:(row>dropRow&&(row-=1),row>=dragRow&&(row+=1)),getCellContent([col,row])}),[dragRow,dropRow,getCellContent]);return react.createElement(data_grid.a,_extends({},rest,{getCellContent:getMangledCellContent,isResizing:void 0!==resizeCol,onHeaderMenuClick:onHeaderMenuClickMangled,isDragging:dragColActive,onItemHovered:onItemHoveredImpl,onMouseDown:onMouseDownImpl,allowResize:void 0!==onColumnResized,onMouseUp:onMouseUpImpl,dragAndDropState:dragOffset,onMouseMove:onMouseMove,ref:gridRef}))};try{datagriddnd.displayName="datagriddnd",datagriddnd.__docgenInfo={description:"",displayName:"datagriddnd",props:{onRowMoved:{defaultValue:null,description:"",name:"onRowMoved",required:!1,type:{name:"(startIndex: number, endIndex: number) => void"}},onColumnMoved:{defaultValue:null,description:"",name:"onColumnMoved",required:!1,type:{name:"(startIndex: number, endIndex: number) => void"}},onColumnResized:{defaultValue:null,description:"",name:"onColumnResized",required:!1,type:{name:"(column: GridColumn, newSize: number) => void"}},gridRef:{defaultValue:null,description:"",name:"gridRef",required:!1,type:{name:"MutableRefObject<DataGridRef>"}},maxColumnWidth:{defaultValue:null,description:"",name:"maxColumnWidth",required:!1,type:{name:"number"}},rowHeight:{defaultValue:null,description:"",name:"rowHeight",required:!0,type:{name:"number | ((index: number) => number)"}},headerHeight:{defaultValue:null,description:"",name:"headerHeight",required:!0,type:{name:"number"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},eventTargetRef:{defaultValue:null,description:"",name:"eventTargetRef",required:!1,type:{name:"MutableRefObject<HTMLDivElement>"}},cellXOffset:{defaultValue:null,description:"",name:"cellXOffset",required:!0,type:{name:"number"}},cellYOffset:{defaultValue:null,description:"",name:"cellYOffset",required:!0,type:{name:"number"}},translateX:{defaultValue:null,description:"",name:"translateX",required:!1,type:{name:"number"}},translateY:{defaultValue:null,description:"",name:"translateY",required:!1,type:{name:"number"}},freezeColumns:{defaultValue:null,description:"",name:"freezeColumns",required:!0,type:{name:"number"}},lastRowSticky:{defaultValue:null,description:"",name:"lastRowSticky",required:!0,type:{name:"boolean"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"readonly GridColumn[]"}},rows:{defaultValue:null,description:"",name:"rows",required:!0,type:{name:"number"}},enableGroups:{defaultValue:null,description:"",name:"enableGroups",required:!0,type:{name:"boolean"}},canvasRef:{defaultValue:null,description:"",name:"canvasRef",required:!1,type:{name:"MutableRefObject<HTMLCanvasElement>"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},getCellContent:{defaultValue:null,description:"",name:"getCellContent",required:!0,type:{name:"(cell: readonly [number, number]) => InnerGridCell"}},onHeaderMenuClick:{defaultValue:null,description:"",name:"onHeaderMenuClick",required:!1,type:{name:"(col: number, screenPosition: Rectangle) => void"}},selectedRows:{defaultValue:null,description:"",name:"selectedRows",required:!1,type:{name:"CompactSelection"}},selectedColumns:{defaultValue:null,description:"",name:"selectedColumns",required:!1,type:{name:"CompactSelection"}},selectedCell:{defaultValue:null,description:"",name:"selectedCell",required:!1,type:{name:"GridSelection"}},prelightCells:{defaultValue:null,description:"",name:"prelightCells",required:!1,type:{name:"readonly (readonly [number, number])[]"}},disabledRows:{defaultValue:null,description:"",name:"disabledRows",required:!1,type:{name:"CompactSelection"}},onItemHovered:{defaultValue:null,description:"",name:"onItemHovered",required:!1,type:{name:"(args: GridMouseEventArgs) => void"}},onMouseDown:{defaultValue:null,description:"",name:"onMouseDown",required:!1,type:{name:"(args: GridMouseEventArgs) => void"}},onMouseUp:{defaultValue:null,description:"",name:"onMouseUp",required:!1,type:{name:"(args: GridMouseEventArgs, isOutside: boolean) => void"}},onCellFocused:{defaultValue:null,description:"",name:"onCellFocused",required:!1,type:{name:"(args: readonly [number, number]) => void"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"(event: GridKeyEventArgs) => void"}},onKeyUp:{defaultValue:null,description:"",name:"onKeyUp",required:!1,type:{name:"(event: GridKeyEventArgs) => void"}},verticalBorder:{defaultValue:null,description:"",name:"verticalBorder",required:!0,type:{name:"(col: number) => boolean"}},isDraggable:{defaultValue:null,description:"",name:"isDraggable",required:!1,type:{name:"boolean"}},onDragStart:{defaultValue:null,description:"",name:"onDragStart",required:!1,type:{name:"(args: GridDragEventArgs) => void"}},drawCustomCell:{defaultValue:null,description:"",name:"drawCustomCell",required:!1,type:{name:"DrawCustomCellCallback"}},experimental:{defaultValue:null,description:"",name:"experimental",required:!1,type:{name:"{ readonly paddingRight?: number; readonly paddingBottom?: number; readonly disableFirefoxRescaling?: boolean; }"}},headerIcons:{defaultValue:null,description:"",name:"headerIcons",required:!1,type:{name:"SpriteMap"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-grid-dnd/data-grid-dnd.tsx#datagriddnd"]={docgenInfo:datagriddnd.__docgenInfo,name:"datagriddnd",path:"core/src/data-grid-dnd/data-grid-dnd.tsx#datagriddnd"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__(139);var _templateObject,styles=__webpack_require__(27),index_esm=__webpack_require__(87),browser_detect=__webpack_require__(125);var ScrollRegionStyle=styles.b.div(_templateObject||(_templateObject=function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n    .dvn-scroller {\n        overflow: ",";\n        transform: translate3d(0, 0, 0);\n    }\n\n    .dvn-scroll-inner {\n        display: flex;\n        pointer-events: none;\n\n        > * {\n            flex-shrink: 0;\n        }\n\n        .dvn-spacer {\n            flex-grow: 1;\n        }\n\n        .dvn-stack {\n            display: flex;\n            flex-direction: column;\n        }\n    }\n\n    .dvn-underlay > * {\n        position: absolute;\n        left: 0;\n        top: 0;\n    }\n\n    canvas {\n        outline: none;\n\n        * {\n            height: 0;\n        }\n    }\n"])),browser_detect.c?"scroll":"auto"),infinite_scroller_InfiniteScroller=function InfiniteScroller(p){var children=p.children,clientHeight=p.clientHeight,scrollHeight=p.scrollHeight,scrollWidth=p.scrollWidth,update=p.update,draggable=p.draggable,className=p.className,_p$paddingBottom=p.paddingBottom,paddingBottom=void 0===_p$paddingBottom?0:_p$paddingBottom,_p$paddingRight=p.paddingRight,paddingRight=void 0===_p$paddingRight?0:_p$paddingRight,rightElement=p.rightElement,_p$rightElementSticky=p.rightElementSticky,rightElementSticky=void 0!==_p$rightElementSticky&&_p$rightElementSticky,scrollRef=p.scrollRef,scrollToEnd=p.scrollToEnd,style=p.style,padders=[],offsetY=react.useRef(0),lastScrollY=react.useRef(0),scroller=react.useRef(null),dpr=window.devicePixelRatio;react.useEffect((function(){var el=scroller.current;null!==el&&!0===scrollToEnd&&(el.scrollLeft=el.scrollWidth-el.clientWidth)}),[scrollToEnd]);for(var onScroll=react.useCallback((function(){var el=scroller.current;if(null!==el){var newY=el.scrollTop,delta=lastScrollY.current-newY,scrollableHeight=el.scrollHeight-el.clientHeight,maxFakeY=Math.max(0,scrollHeight-el.clientHeight);if(lastScrollY.current=newY,scrollableHeight>0&&(Math.abs(delta)>2e3||0===newY||newY===scrollableHeight)&&scrollHeight>el.scrollHeight+5){var prog=newY/scrollableHeight,recomputed=(scrollHeight-el.clientHeight)*prog;offsetY.current=recomputed-newY}update({x:el.scrollLeft,y:Math.min(maxFakeY,newY+offsetY.current),width:el.clientWidth-paddingRight,height:el.clientHeight-paddingBottom})}}),[paddingBottom,paddingRight,scrollHeight,update]),lastProps=react.useRef(),nomEvent=react.useCallback((function(e){e.stopPropagation()}),[]),setRefs=react.useCallback((function(instance){scroller.current=instance,void 0!==scrollRef&&(scrollRef.current=instance)}),[scrollRef]),key=0,h=0;h<scrollHeight;){var toAdd=Math.min(5e6,scrollHeight-h);padders.push(react.createElement("div",{key:key++,style:{width:scrollWidth,height:toAdd}})),h+=toAdd}return react.createElement("div",{style:style},react.createElement(index_esm.a,null,(function(props){var _lastProps$current,_lastProps$current2;return 0===props.width||0===props.height?null:((null===(_lastProps$current=lastProps.current)||void 0===_lastProps$current?void 0:_lastProps$current.height)===props.height&&(null===(_lastProps$current2=lastProps.current)||void 0===_lastProps$current2?void 0:_lastProps$current2.width)===props.width||(window.setTimeout(onScroll,0),lastProps.current=props),react.createElement(ScrollRegionStyle,null,react.createElement("div",{className:"dvn-underlay"},children),react.createElement("div",{ref:setRefs,style:props,draggable:draggable,onDragStart:function onDragStart(e){draggable||(e.stopPropagation(),e.preventDefault())},className:"dvn-scroller "+(null!=className?className:""),onScroll:onScroll},react.createElement("div",{className:"dvn-scroll-inner"},react.createElement("div",{className:"dvn-stack"},padders),void 0!==rightElement&&react.createElement(react.Fragment,null,react.createElement("div",{className:"dvn-spacer"}),react.createElement("div",{onMouseDown:nomEvent,onMouseUp:nomEvent,onMouseMove:nomEvent,style:{height:props.height,maxHeight:clientHeight-Math.ceil(dpr%1),position:"sticky",top:0,marginBottom:-40,marginRight:paddingRight,right:rightElementSticky?null!=paddingRight?paddingRight:0:void 0,pointerEvents:"auto"}},rightElement))))))})))};try{ScrollRegionStyle.displayName="ScrollRegionStyle",ScrollRegionStyle.__docgenInfo={description:"",displayName:"ScrollRegionStyle",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<HTMLDivElement>"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/scrolling-data-grid/infinite-scroller.tsx#ScrollRegionStyle"]={docgenInfo:ScrollRegionStyle.__docgenInfo,name:"ScrollRegionStyle",path:"core/src/scrolling-data-grid/infinite-scroller.tsx#ScrollRegionStyle"})}catch(__react_docgen_typescript_loader_error){}try{infinite_scroller_InfiniteScroller.displayName="InfiniteScroller",infinite_scroller_InfiniteScroller.__docgenInfo={description:"",displayName:"InfiniteScroller",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},draggable:{defaultValue:null,description:"",name:"draggable",required:!0,type:{name:"boolean"}},paddingRight:{defaultValue:null,description:"",name:"paddingRight",required:!1,type:{name:"number"}},paddingBottom:{defaultValue:null,description:"",name:"paddingBottom",required:!1,type:{name:"number"}},clientHeight:{defaultValue:null,description:"",name:"clientHeight",required:!0,type:{name:"number"}},scrollWidth:{defaultValue:null,description:"",name:"scrollWidth",required:!0,type:{name:"number"}},scrollHeight:{defaultValue:null,description:"",name:"scrollHeight",required:!0,type:{name:"number"}},scrollToEnd:{defaultValue:null,description:"",name:"scrollToEnd",required:!1,type:{name:"boolean"}},rightElementSticky:{defaultValue:null,description:"",name:"rightElementSticky",required:!1,type:{name:"boolean"}},rightElement:{defaultValue:null,description:"",name:"rightElement",required:!1,type:{name:"ReactNode"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},scrollRef:{defaultValue:null,description:"",name:"scrollRef",required:!1,type:{name:"MutableRefObject<HTMLDivElement>"}},update:{defaultValue:null,description:"",name:"update",required:!0,type:{name:"(region: Rectangle) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/scrolling-data-grid/infinite-scroller.tsx#InfiniteScroller"]={docgenInfo:infinite_scroller_InfiniteScroller.__docgenInfo,name:"InfiniteScroller",path:"core/src/scrolling-data-grid/infinite-scroller.tsx#InfiniteScroller"})}catch(__react_docgen_typescript_loader_error){}var scrolling_data_grid_excluded=["className","onVisibleRegionChanged","scrollToEnd","scrollRef","rightElement","rightElementSticky","overscrollX"];function scrolling_data_grid_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=scrolling_data_grid_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function scrolling_data_grid_slicedToArray(arr,i){return function scrolling_data_grid_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function scrolling_data_grid_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||scrolling_data_grid_unsupportedIterableToArray(arr,i)||function scrolling_data_grid_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function scrolling_data_grid_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return scrolling_data_grid_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?scrolling_data_grid_arrayLikeToArray(o,minLen):void 0}}function scrolling_data_grid_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function scrolling_data_grid_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function scrolling_data_grid_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function scrolling_data_grid_extends(){return scrolling_data_grid_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},scrolling_data_grid_extends.apply(this,arguments)}__webpack_exports__.a=function GridScroller(p){var columns=p.columns,rows=p.rows,rowHeight=p.rowHeight,headerHeight=p.headerHeight,freezeColumns=p.freezeColumns,experimental=p.experimental,_ref=null!=experimental?experimental:{},paddingRight=_ref.paddingRight,paddingBottom=_ref.paddingBottom,className=p.className,onVisibleRegionChanged=p.onVisibleRegionChanged,scrollToEnd=p.scrollToEnd,scrollRef=p.scrollRef,rightElement=p.rightElement,rightElementSticky=p.rightElementSticky,overscrollX=p.overscrollX,dataGridProps=scrolling_data_grid_objectWithoutProperties(p,scrolling_data_grid_excluded),smoothScrollX=p.smoothScrollX,smoothScrollY=p.smoothScrollY,_React$useState2=scrolling_data_grid_slicedToArray(react.useState(10),2),clientWidth=_React$useState2[0],setClientWidth=_React$useState2[1],_React$useState4=scrolling_data_grid_slicedToArray(react.useState(10),2),clientHeight=_React$useState4[0],setClientHeight=_React$useState4[1],last=react.useRef(),lastX=react.useRef(),lastY=react.useRef(),width=react.useMemo((function(){var _step,r=Math.max(0,null!=overscrollX?overscrollX:0),_iterator=scrolling_data_grid_createForOfIteratorHelper(columns);try{for(_iterator.s();!(_step=_iterator.n()).done;){r+=_step.value.width}}catch(err){_iterator.e(err)}finally{_iterator.f()}return r}),[columns,overscrollX]),height=headerHeight;if("number"==typeof rowHeight)height+=rows*rowHeight;else for(var r=0;r<rows;r++)height+=rowHeight(r);var lastArgs=react.useRef(),processArgs=react.useCallback((function(){var args=lastArgs.current;if(void 0!==args){setClientHeight(args.height),setClientWidth(args.width);var _step2,x=0,tx=0,cellRight=0,cellX=0,stickyColWidth=columns.slice(0,freezeColumns).map((function(c){return c.width})).reduce((function(pv,cv){return pv+cv}),0),_iterator2=scrolling_data_grid_createForOfIteratorHelper(columns);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var c=_step2.value,cx=x-stickyColWidth;if(args.x>=cx+c.width)x+=c.width,cellX++,cellRight++;else if(args.x>cx)x+=c.width,smoothScrollX?tx+=cx-args.x:cellX++,cellRight++;else{if(!(args.x+args.width>cx))break;x+=c.width,cellRight++}}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}var ty=0,cellY=0,cellBottom=0;if("number"==typeof rowHeight)smoothScrollY?ty=(cellY=Math.floor(args.y/rowHeight))*rowHeight-args.y:cellY=Math.ceil(args.y/rowHeight),cellBottom=Math.ceil(args.height/rowHeight)+cellY,ty<0&&cellBottom++;else for(var y=0,row=0;row<rows;row++){var rh=rowHeight(row),cy=y+(smoothScrollY?0:rh/2);if(args.y>=y+rh)y+=rh,cellY++,cellBottom++;else if(args.y>cy)y+=rh,smoothScrollY?ty+=cy-args.y:cellY++,cellBottom++;else{if(!(args.y+args.height>rh/2+y))break;y+=rh,cellBottom++}}var rect={x:cellX,y:cellY,width:cellRight-cellX,height:cellBottom-cellY},oldRect=last.current;void 0!==oldRect&&oldRect.y===rect.y&&oldRect.x===rect.x&&oldRect.height===rect.height&&oldRect.width===rect.width&&lastX.current===tx&&lastY.current===ty||(null==onVisibleRegionChanged||onVisibleRegionChanged({x:cellX,y:cellY,width:cellRight-cellX,height:cellBottom-cellY},tx,ty),last.current=rect,lastX.current=tx,lastY.current=ty)}}),[columns,rowHeight,rows,onVisibleRegionChanged,freezeColumns,smoothScrollX,smoothScrollY]),onScrollUpdate=react.useCallback((function(args){lastArgs.current=args,processArgs()}),[processArgs]);return react.useEffect((function(){processArgs()}),[processArgs]),react.createElement(infinite_scroller_InfiniteScroller,{scrollRef:scrollRef,className:className,draggable:!0===dataGridProps.isDraggable,scrollWidth:width,scrollHeight:height,clientHeight:clientHeight,rightElement:rightElement,paddingBottom:paddingBottom,paddingRight:paddingRight,rightElementSticky:rightElementSticky,update:onScrollUpdate,scrollToEnd:scrollToEnd},react.createElement(data_grid_dnd,scrolling_data_grid_extends({eventTargetRef:scrollRef,width:clientWidth,height:clientHeight},dataGridProps)))};try{scrollingdatagrid.displayName="scrollingdatagrid",scrollingdatagrid.__docgenInfo={description:"",displayName:"scrollingdatagrid",props:{onVisibleRegionChanged:{defaultValue:null,description:"",name:"onVisibleRegionChanged",required:!1,type:{name:"(range: Rectangle, tx?: number, ty?: number) => void"}},scrollToEnd:{defaultValue:null,description:"",name:"scrollToEnd",required:!1,type:{name:"boolean"}},scrollRef:{defaultValue:null,description:"",name:"scrollRef",required:!1,type:{name:"MutableRefObject<HTMLDivElement>"}},smoothScrollX:{defaultValue:null,description:"",name:"smoothScrollX",required:!1,type:{name:"boolean"}},smoothScrollY:{defaultValue:null,description:"",name:"smoothScrollY",required:!1,type:{name:"boolean"}},overscrollX:{defaultValue:null,description:"",name:"overscrollX",required:!1,type:{name:"number"}},rightElementSticky:{defaultValue:null,description:"",name:"rightElementSticky",required:!1,type:{name:"boolean"}},rightElement:{defaultValue:null,description:"",name:"rightElement",required:!1,type:{name:"ReactNode"}},rowHeight:{defaultValue:null,description:"",name:"rowHeight",required:!0,type:{name:"number | ((index: number) => number)"}},headerHeight:{defaultValue:null,description:"",name:"headerHeight",required:!0,type:{name:"number"}},cellXOffset:{defaultValue:null,description:"",name:"cellXOffset",required:!0,type:{name:"number"}},cellYOffset:{defaultValue:null,description:"",name:"cellYOffset",required:!0,type:{name:"number"}},translateX:{defaultValue:null,description:"",name:"translateX",required:!1,type:{name:"number"}},translateY:{defaultValue:null,description:"",name:"translateY",required:!1,type:{name:"number"}},freezeColumns:{defaultValue:null,description:"",name:"freezeColumns",required:!0,type:{name:"number"}},lastRowSticky:{defaultValue:null,description:"",name:"lastRowSticky",required:!0,type:{name:"boolean"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"readonly GridColumn[]"}},rows:{defaultValue:null,description:"",name:"rows",required:!0,type:{name:"number"}},enableGroups:{defaultValue:null,description:"",name:"enableGroups",required:!0,type:{name:"boolean"}},canvasRef:{defaultValue:null,description:"",name:"canvasRef",required:!1,type:{name:"MutableRefObject<HTMLCanvasElement>"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},getCellContent:{defaultValue:null,description:"",name:"getCellContent",required:!0,type:{name:"(cell: readonly [number, number]) => InnerGridCell"}},onHeaderMenuClick:{defaultValue:null,description:"",name:"onHeaderMenuClick",required:!1,type:{name:"(col: number, screenPosition: Rectangle) => void"}},selectedRows:{defaultValue:null,description:"",name:"selectedRows",required:!1,type:{name:"CompactSelection"}},selectedColumns:{defaultValue:null,description:"",name:"selectedColumns",required:!1,type:{name:"CompactSelection"}},selectedCell:{defaultValue:null,description:"",name:"selectedCell",required:!1,type:{name:"GridSelection"}},prelightCells:{defaultValue:null,description:"",name:"prelightCells",required:!1,type:{name:"readonly (readonly [number, number])[]"}},disabledRows:{defaultValue:null,description:"",name:"disabledRows",required:!1,type:{name:"CompactSelection"}},onItemHovered:{defaultValue:null,description:"",name:"onItemHovered",required:!1,type:{name:"(args: GridMouseEventArgs) => void"}},onMouseDown:{defaultValue:null,description:"",name:"onMouseDown",required:!1,type:{name:"(args: GridMouseEventArgs) => void"}},onMouseUp:{defaultValue:null,description:"",name:"onMouseUp",required:!1,type:{name:"(args: GridMouseEventArgs, isOutside: boolean) => void"}},onCellFocused:{defaultValue:null,description:"",name:"onCellFocused",required:!1,type:{name:"(args: readonly [number, number]) => void"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"(event: GridKeyEventArgs) => void"}},onKeyUp:{defaultValue:null,description:"",name:"onKeyUp",required:!1,type:{name:"(event: GridKeyEventArgs) => void"}},verticalBorder:{defaultValue:null,description:"",name:"verticalBorder",required:!0,type:{name:"(col: number) => boolean"}},isDraggable:{defaultValue:null,description:"",name:"isDraggable",required:!1,type:{name:"boolean"}},onDragStart:{defaultValue:null,description:"",name:"onDragStart",required:!1,type:{name:"(args: GridDragEventArgs) => void"}},drawCustomCell:{defaultValue:null,description:"",name:"drawCustomCell",required:!1,type:{name:"DrawCustomCellCallback"}},experimental:{defaultValue:null,description:"",name:"experimental",required:!1,type:{name:"{ readonly paddingRight?: number; readonly paddingBottom?: number; readonly disableFirefoxRescaling?: boolean; }"}},headerIcons:{defaultValue:null,description:"",name:"headerIcons",required:!1,type:{name:"SpriteMap"}},onRowMoved:{defaultValue:null,description:"",name:"onRowMoved",required:!1,type:{name:"(startIndex: number, endIndex: number) => void"}},onColumnMoved:{defaultValue:null,description:"",name:"onColumnMoved",required:!1,type:{name:"(startIndex: number, endIndex: number) => void"}},onColumnResized:{defaultValue:null,description:"",name:"onColumnResized",required:!1,type:{name:"(column: GridColumn, newSize: number) => void"}},gridRef:{defaultValue:null,description:"",name:"gridRef",required:!1,type:{name:"MutableRefObject<DataGridRef>"}},maxColumnWidth:{defaultValue:null,description:"",name:"maxColumnWidth",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/scrolling-data-grid/scrolling-data-grid.tsx#scrollingdatagrid"]={docgenInfo:scrollingdatagrid.__docgenInfo,name:"scrollingdatagrid",path:"core/src/scrolling-data-grid/scrolling-data-grid.tsx#scrollingdatagrid"})}catch(__react_docgen_typescript_loader_error){}},2462:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"CustomCells",(function(){return cell_stories_CustomCells}));__webpack_require__(2),__webpack_require__(23),__webpack_require__(17),__webpack_require__(12),__webpack_require__(10),__webpack_require__(11),__webpack_require__(9),__webpack_require__(19),__webpack_require__(14),__webpack_require__(6),__webpack_require__(16),__webpack_require__(4),__webpack_require__(3),__webpack_require__(26),__webpack_require__(34);var styled_components_browser_esm=__webpack_require__(21),react=__webpack_require__(0),react_default=__webpack_require__.n(react),index_esm=__webpack_require__(426);__webpack_require__(33),__webpack_require__(41),__webpack_require__(202),__webpack_require__(5),__webpack_require__(380),__webpack_require__(111),__webpack_require__(57),__webpack_require__(139),__webpack_require__(68),__webpack_require__(31),__webpack_require__(95),__webpack_require__(8),__webpack_require__(203),__webpack_require__(382),__webpack_require__(110),__webpack_require__(120),__webpack_require__(256),__webpack_require__(112),__webpack_require__(383);function panic(){var message=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"This should not happen";throw new Error(message)}function assert(fact){var message=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Assertion failed";if(!fact)return panic(message)}function assertNever(_never){return panic("Hell froze over")}function maybe(fn,defaultValue){try{return fn()}catch(_unused){return defaultValue}}var fp=__webpack_require__(144),react_dom=__webpack_require__(64),_excluded=(__webpack_require__(140),__webpack_require__(113),__webpack_require__(123),__webpack_require__(141),__webpack_require__(54),["onClickOutside","stopPropagation"]);function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}var click_outside_container_ClickOutsideContainer=function(_React$PureComponent){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(ClickOutsideContainer,_React$PureComponent);var _super=_createSuper(ClickOutsideContainer);function ClickOutsideContainer(){var _this;return _classCallCheck(this,ClickOutsideContainer),(_this=_super.apply(this,arguments)).wrapperRef=react.createRef(),_this.clickOutside=function(event){if(null!==_this.wrapperRef.current&&!_this.wrapperRef.current.contains(event.target)){for(var node=event.target;null!==node;){if(node.classList.contains("click-outside-ignore"))return;node=node.parentElement}!0===_this.props.stopPropagation&&(event.stopPropagation(),event.preventDefault()),_this.props.onClickOutside()}},_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ClickOutsideContainer,[{key:"componentDidMount",value:function componentDidMount(){document.addEventListener(!0===this.props.stopPropagation?"click":"mousedown",this.clickOutside,!0),document.addEventListener("contextmenu",this.clickOutside,!0)}},{key:"componentWillUnmount",value:function componentWillUnmount(){document.removeEventListener(!0===this.props.stopPropagation?"click":"mousedown",this.clickOutside),document.removeEventListener("contextmenu",this.clickOutside)}},{key:"render",value:function render(){var _this$props=this.props,rest=(_this$props.onClickOutside,_this$props.stopPropagation,_objectWithoutProperties(_this$props,_excluded));return react.createElement("div",_extends({},rest,{ref:this.wrapperRef}),this.props.children)}}]),ClickOutsideContainer}(react.PureComponent);click_outside_container_ClickOutsideContainer.__docgenInfo={description:"",methods:[],displayName:"ClickOutsideContainer"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/dist/js/click-outside-container/click-outside-container.js"]={name:"ClickOutsideContainer",docgenInfo:click_outside_container_ClickOutsideContainer.__docgenInfo,path:"core/dist/js/click-outside-container/click-outside-container.js"});var GridCellKind,GridColumnIcon,InnerGridCellKind;__webpack_require__(163),__webpack_require__(72),__webpack_require__(48),__webpack_require__(114),__webpack_require__(52);function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function data_grid_types_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function isEditableGridCell(cell){return cell.kind!==GridCellKind.Loading&&cell.kind!==GridCellKind.Bubble&&cell.kind!==GridCellKind.RowID&&cell.kind!==GridCellKind.Protected&&cell.kind!==GridCellKind.Drilldown&&cell.kind!==GridCellKind.Custom}function isInnerOnlyCell(cell){return cell.kind===InnerGridCellKind.Marker||cell.kind===InnerGridCellKind.NewRow}function isReadWriteCell(cell){return!(!isEditableGridCell(cell)||cell.kind===GridCellKind.Image||cell.kind===GridCellKind.Boolean)&&(cell.kind===GridCellKind.Text||cell.kind===GridCellKind.Number||cell.kind===GridCellKind.Markdown||cell.kind===GridCellKind.Uri?!0!==cell.readonly:void assertNever())}!function(GridCellKind){GridCellKind.Uri="uri",GridCellKind.Text="text",GridCellKind.Image="image",GridCellKind.RowID="row-id",GridCellKind.Number="number",GridCellKind.Bubble="bubble",GridCellKind.Boolean="boolean",GridCellKind.Loading="loading",GridCellKind.Markdown="markdown",GridCellKind.Drilldown="drilldown",GridCellKind.Protected="protected",GridCellKind.Custom="custom"}(GridCellKind||(GridCellKind={})),function(GridColumnIcon){GridColumnIcon.HeaderRowID="headerRowID",GridColumnIcon.HeaderCode="headerCode",GridColumnIcon.HeaderNumber="headerNumber",GridColumnIcon.HeaderString="headerString",GridColumnIcon.HeaderBoolean="headerBoolean",GridColumnIcon.HeaderAudioUri="headerAudioUri",GridColumnIcon.HeaderVideoUri="headerVideoUri",GridColumnIcon.HeaderEmoji="headerEmoji",GridColumnIcon.HeaderImage="headerImage",GridColumnIcon.HeaderUri="headerUri",GridColumnIcon.HeaderPhone="headerPhone",GridColumnIcon.HeaderMarkdown="headerMarkdown",GridColumnIcon.HeaderDate="headerDate",GridColumnIcon.HeaderTime="headerTime",GridColumnIcon.HeaderEmail="headerEmail",GridColumnIcon.HeaderReference="headerReference",GridColumnIcon.HeaderIfThenElse="headerIfThenElse",GridColumnIcon.HeaderSingleValue="headerSingleValue",GridColumnIcon.HeaderLookup="headerLookup",GridColumnIcon.HeaderTextTemplate="headerTextTemplate",GridColumnIcon.HeaderMath="headerMath",GridColumnIcon.HeaderRollup="headerRollup",GridColumnIcon.HeaderJoinStrings="headerJoinStrings",GridColumnIcon.HeaderSplitString="headerSplitString",GridColumnIcon.HeaderGeoDistance="headerGeoDistance",GridColumnIcon.HeaderArray="headerArray",GridColumnIcon.RowOwnerOverlay="rowOwnerOverlay",GridColumnIcon.ProtectedColumnOverlay="protectedColumnOverlay"}(GridColumnIcon||(GridColumnIcon={})),function(InnerGridCellKind){InnerGridCellKind.NewRow="new-row",InnerGridCellKind.Marker="marker"}(InnerGridCellKind||(InnerGridCellKind={}));var CompactSelection=function(_Symbol$iterator2){function CompactSelection(items){var _this=this;!function data_grid_types_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,CompactSelection),this.items=items,this.offset=function(amount){return 0===amount?_this:new CompactSelection(_this.items.map((function(x){return[x[0]+amount,x[1]+amount]})))},this.add=function(selection){var slice="number"==typeof selection?[selection,selection+1]:selection;return new CompactSelection(function mergeRanges(input){if(void 0===input||0===input.length)return[];var ranges=_toConsumableArray(input),stack=[];return ranges.sort((function(a,b){return a[0]-b[0]})),stack.push(_toConsumableArray(ranges[0])),ranges.slice(1).forEach((function(range){var top=stack[stack.length-1];top[1]<range[0]?stack.push(_toConsumableArray(range)):top[1]<range[1]&&(top[1]=range[1])})),stack}([].concat(_toConsumableArray(_this.items),[slice])))},this.remove=function(selection){var _step,items=_toConsumableArray(_this.items),_iterator=_createForOfIteratorHelper(items.entries());try{for(_iterator.s();!(_step=_iterator.n()).done;){var _ref2=_slicedToArray(_step.value,2),i=_ref2[0],_slice=_slicedToArray(_ref2[1],2),start=_slice[0],end=_slice[1];if(start<=selection&&end>selection){var left=[start,selection],right=[selection+1,end],toAdd=[];left[0]!==left[1]&&toAdd.push(left),right[0]!==right[1]&&toAdd.push(right),items.splice.apply(items,[i,1].concat(toAdd));break}}}catch(err){_iterator.e(err)}finally{_iterator.f()}return new CompactSelection(items)},this.first=function(){if(0!==_this.items.length)return _this.items[0][0]},this.last=function(){if(0!==_this.items.length)return _this.items.slice(-1)[0][1]},this.hasIndex=function(index){for(var i=0;i<_this.items.length;i++){var _this$items$i=_slicedToArray(_this.items[i],2),start=_this$items$i[0],end=_this$items$i[1];if(index>=start&&index<end)return!0}return!1},this.hasAll=function(index){for(var x=index[0];x<index[1];x++)if(!_this.hasIndex(x))return!1;return!0}}return function data_grid_types_createClass(Constructor,protoProps,staticProps){return protoProps&&data_grid_types_defineProperties(Constructor.prototype,protoProps),staticProps&&data_grid_types_defineProperties(Constructor,staticProps),Constructor}(CompactSelection,[{key:"length",get:function get(){var _step2,len=0,_iterator2=_createForOfIteratorHelper(this.items);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _ref4=_slicedToArray(_step2.value,2),start=_ref4[0];len+=_ref4[1]-start}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}return len}},{key:_Symbol$iterator2,value:regeneratorRuntime.mark((function value(){var _iterator3,_step3,_ref5,_ref6,start,end,x;return regeneratorRuntime.wrap((function value$(_context){for(;;)switch(_context.prev=_context.next){case 0:_iterator3=_createForOfIteratorHelper(this.items),_context.prev=1,_iterator3.s();case 3:if((_step3=_iterator3.n()).done){_context.next=17;break}_ref5=_step3.value,_ref6=_slicedToArray(_ref5,2),start=_ref6[0],end=_ref6[1],x=start;case 9:if(!(x<end)){_context.next=15;break}return _context.next=12,x;case 12:x++,_context.next=9;break;case 15:_context.next=3;break;case 17:_context.next=22;break;case 19:_context.prev=19,_context.t0=_context.catch(1),_iterator3.e(_context.t0);case 22:return _context.prev=22,_iterator3.f(),_context.finish(22);case 25:case"end":return _context.stop()}}),value,this,[[1,19,22,25]])}))}]),CompactSelection}(Symbol.iterator);CompactSelection.empty=function(){return new CompactSelection([])},CompactSelection.fromSingleSelection=function(selection){return CompactSelection.empty().add(selection)};__webpack_require__(43),__webpack_require__(53),__webpack_require__(124),__webpack_require__(142);var _templateObject,debounce=__webpack_require__(166),debounce_default=__webpack_require__.n(debounce);function utils_slicedToArray(arr,i){return function utils_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function utils_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function utils_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return utils_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return utils_arrayLikeToArray(o,minLen)}(arr,i)||function utils_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function utils_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function useEventListener(eventName,handler,element,passive,capture){var _capture;capture=null!==(_capture=capture)&&void 0!==_capture&&_capture;var savedHandler=react.useRef();react.useEffect((function(){savedHandler.current=handler}),[handler]),react.useEffect((function(){if(null!==element&&void 0!==element.addEventListener){var el=element,eventListener=function eventListener(event){var _savedHandler$current;null===(_savedHandler$current=savedHandler.current)||void 0===_savedHandler$current||_savedHandler$current.call(el,event)};return el.addEventListener(eventName,eventListener,{passive:passive,capture:capture}),function(){el.removeEventListener(eventName,eventListener,{capture:capture})}}}),[eventName,element,passive,capture])}var PI=Math.PI;function degreesToRadians(degrees){return degrees*PI/180}var disabledProps=Object(styled_components_browser_esm.b)(_templateObject||(_templateObject=function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n    opacity: 0.4;\n    pointer-events: none;\n"]))),utils_EditPencil=function EditPencil(props){var _props$fgColor,fg=null!==(_props$fgColor=props.fgColor)&&void 0!==_props$fgColor?_props$fgColor:"currentColor";return react.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react.createElement("path",{d:"M12.7073 7.05029C7.87391 11.8837 10.4544 9.30322 6.03024 13.7273C5.77392 13.9836 5.58981 14.3071 5.50189 14.6587L4.52521 18.5655C4.38789 19.1148 4.88543 19.6123 5.43472 19.475L9.34146 18.4983C9.69313 18.4104 10.0143 18.2286 10.2706 17.9722L16.9499 11.2929",stroke:fg,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",vectorEffect:"non-scaling-stroke"}),react.createElement("path",{d:"M20.4854 4.92901L19.0712 3.5148C18.2901 2.73375 17.0238 2.73375 16.2428 3.5148L14.475 5.28257C15.5326 7.71912 16.4736 8.6278 18.7176 9.52521L20.4854 7.75744C21.2665 6.97639 21.2665 5.71006 20.4854 4.92901Z",stroke:fg,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",vectorEffect:"non-scaling-stroke"}))},utils_Checkmark=function Checkmark(props){var _props$fgColor2,fg=null!==(_props$fgColor2=props.fgColor)&&void 0!==_props$fgColor2?_props$fgColor2:"currentColor";return react.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react.createElement("path",{d:"M19 6L10.3802 17L5.34071 11.8758",vectorEffect:"non-scaling-stroke",stroke:fg,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))};var ltrRange="A-Za-z--------",rtl=new RegExp("^[^"+ltrRange+"]*[---]"),ltr=new RegExp("^[^---]*["+ltrRange+"]");function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function data_grid_lib_toConsumableArray(arr){return function data_grid_lib_arrayWithoutHoles(arr){if(Array.isArray(arr))return data_grid_lib_arrayLikeToArray(arr)}(arr)||function data_grid_lib_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||data_grid_lib_unsupportedIterableToArray(arr)||function data_grid_lib_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function data_grid_lib_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=data_grid_lib_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function data_grid_lib_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return data_grid_lib_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?data_grid_lib_arrayLikeToArray(o,minLen):void 0}}function data_grid_lib_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function getStickyWidth(columns){var _step,result=0,_iterator=data_grid_lib_createForOfIteratorHelper(columns);try{for(_iterator.s();!(_step=_iterator.n()).done;){var c=_step.value;if(!c.sticky)break;result+=c.width}}catch(err){_iterator.e(err)}finally{_iterator.f()}return result}function getEffectiveColumns(columns,cellXOffset,width,dndState,tx){var mappedCols=columns;if(void 0!==dndState){var writable=data_grid_lib_toConsumableArray(columns),temp=mappedCols[dndState.src];dndState.src>dndState.dest?(writable.splice(dndState.src,1),writable.splice(dndState.dest,0,temp)):(writable.splice(dndState.dest+1,0,temp),writable.splice(dndState.src,1)),mappedCols=writable}var _step2,sticky=[],_iterator2=data_grid_lib_createForOfIteratorHelper(columns);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var c=_step2.value;if(!c.sticky)break;sticky.push(c)}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}if(sticky.length>0){var _step3,_iterator3=data_grid_lib_createForOfIteratorHelper(sticky);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){width-=_step3.value.width}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}}for(var endIndex=cellXOffset,curX=null!=tx?tx:0;curX<=width&&endIndex<mappedCols.length;)curX+=mappedCols[endIndex].width,endIndex++;var effectiveCols=[].concat(sticky,data_grid_lib_toConsumableArray(mappedCols.slice(cellXOffset,endIndex).filter((function(c){return!c.sticky}))));return effectiveCols}utils_EditPencil.__docgenInfo={description:"",methods:[],displayName:"EditPencil"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/dist/js/common/utils.js"]={name:"EditPencil",docgenInfo:utils_EditPencil.__docgenInfo,path:"core/dist/js/common/utils.js"}),utils_Checkmark.__docgenInfo={description:"",methods:[],displayName:"Checkmark"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/dist/js/common/utils.js"]={name:"Checkmark",docgenInfo:utils_Checkmark.__docgenInfo,path:"core/dist/js/common/utils.js"});var metricsSize=0,metricsCache={};function _clearCacheOnLoad(){return(_clearCacheOnLoad=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,document.fonts.ready;case 2:metricsSize=0,metricsCache={};case 4:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}function measureTextCached(s,ctx){var key=s+"_"+ctx.font,metrics=metricsCache[key];return void 0===metrics&&(metrics=ctx.measureText(s),metricsCache[key]=metrics,metricsSize++),metricsSize>1e4&&(metricsCache={},metricsSize=0),metrics}function drawTextCell(args,data,overrideColor){var ctx=args.ctx,x=args.x,y=args.y,w=args.w,h=args.h,theme=args.theme,dir=function direction(value){return rtl.test(value)?"rtl":ltr.test(value)?"ltr":"neutral"}(data=data.split(/\r?\n/)[0].slice(0,Math.round(w/4)));if(ctx.fillStyle=null!=overrideColor?overrideColor:theme.textDark,"rtl"===dir){var textWidth=measureTextCached(data,ctx).width;ctx.fillText(data,x+w-theme.cellHorizontalPadding-textWidth+.5,y+h/2+4.5)}else ctx.fillText(data,x+theme.cellHorizontalPadding+.5,y+h/2+4.5)}function drawCheckbox(ctx,theme,checked,x,y,width,height,highlighted){var hoverX=arguments.length>8&&void 0!==arguments[8]?arguments[8]:-20,hoverY=arguments.length>9&&void 0!==arguments[9]?arguments[9]:-20,centerX=x+width/2,centerY=y+height/2,hovered=Math.abs(hoverX-width/2)<10&&Math.abs(hoverY-height/2)<10;checked?(ctx.beginPath(),roundedRect(ctx,centerX-9,centerY-9,18,18,4),ctx.fillStyle=highlighted?theme.accentColor:theme.textLight,ctx.fill(),ctx.beginPath(),ctx.moveTo(centerX-8+3.65005,centerY-8+7.84995),ctx.lineTo(centerX-8+6.37587,centerY-8+10.7304),ctx.lineTo(centerX-8+11.9999,centerY-8+4.74995),ctx.strokeStyle=theme.accentFg,ctx.lineJoin="round",ctx.lineCap="round",ctx.lineWidth=1.9,ctx.stroke()):(ctx.beginPath(),roundedRect(ctx,centerX-8.5,centerY-8.5,17,17,4),ctx.lineWidth=1,ctx.strokeStyle=hovered?theme.textMedium:theme.textLight,ctx.stroke())}function roundedRect(ctx,x,y,width,height,radius){"number"==typeof radius&&(radius={tl:radius,tr:radius,br:radius,bl:radius}),ctx.moveTo(x+radius.tl,y),ctx.arcTo(x+width,y,x+width,y+radius.tr,radius.tr),ctx.arcTo(x+width,y+height,x+width-radius.br,y+height,radius.br),ctx.arcTo(x,y+height,x,y+height-radius.bl,radius.bl),ctx.arcTo(x,y,x+radius.tl,y,radius.tl)}!function clearCacheOnLoad(){return _clearCacheOnLoad.apply(this,arguments)}();var bubbles_overlay_editor_style_templateObject,booleanCellRenderer={getAccessibilityString:function getAccessibilityString(c){var _c$data$toString,_c$data;return null!==(_c$data$toString=null===(_c$data=c.data)||void 0===_c$data?void 0:_c$data.toString())&&void 0!==_c$data$toString?_c$data$toString:"false"},kind:GridCellKind.Boolean,needsHover:!0,needsHoverPosition:!0,render:function render(a){return function drawBoolean(args,data,canEdit){var ctx=args.ctx,hoverAmount=args.hoverAmount,theme=args.theme,x=args.x,y=args.y,w=args.w,h=args.h,highlighted=args.highlighted,hoverX=args.hoverX,hoverY=args.hoverY;ctx.globalAlpha=canEdit?.65+.35*hoverAmount:.4,drawCheckbox(ctx,theme,data,x,y,w,h,highlighted,hoverX,hoverY),ctx.globalAlpha=1}(a,a.cell.data,a.cell.allowEdit)},onDelete:function onDelete(c){return Object.assign({},c,{data:!1})},onClick:function onClick(cell,x,y,bounds){if(Math.abs(x-bounds.width/2)<=10&&Math.abs(y-bounds.height/2)<=10)return Object.assign({},cell,{data:!cell.data})}},dataEditorBaseTheme={accentColor:"#4F5DFF",accentFg:"#FFFFFF",accentLight:"rgba(62, 116, 253, 0.1)",textDark:"#313139",textMedium:"#737383",textLight:"#B2B2C0",textBubble:"#313139",bgIconHeader:"#737383",fgIconHeader:"#FFFFFF",textHeader:"#313139",textGroupHeader:"#313139BB",textHeaderSelected:"#FFFFFF",bgCell:"#FFFFFF",bgCellMedium:"#FAFAFB",bgHeader:"#F7F7F8",bgHeaderHasFocus:"#E9E9EB",bgHeaderHovered:"#EFEFF1",bgBubble:"#EDEDF3",bgBubbleSelected:"#FFFFFF",bgSearchResult:"#fff9e3",borderColor:"rgba(115, 116, 131, 0.16)",drilldownBorder:"rgba(0, 0, 0, 0)",linkColor:"#4F5DFF",cellHorizontalPadding:8,cellVerticalPadding:3,headerFontStyle:"600 13px",baseFontStyle:"13px",fontFamily:"Inter, Roboto, -apple-system, BlinkMacSystemFont, avenir next, avenir, segoe ui, helvetica neue, helvetica, Ubuntu, noto, arial, sans-serif"},styled=styled_components_browser_esm.c;var BubblesOverlayEditorStyle=styled.div(bubbles_overlay_editor_style_templateObject||(bubbles_overlay_editor_style_templateObject=function bubbles_overlay_editor_style_taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n    display: flex;\n    flex-wrap: wrap;\n\n    .boe-bubble {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n\n        border-radius: 100px;\n\n        padding: 0 8px;\n        height: 20px;\n\n        background-color: ",";\n        color: ",";\n        margin: 2px;\n    }\n\n    textarea {\n        position: absolute;\n        top: 0px;\n        left: 0px;\n        width: 0px;\n        height: 0px;\n\n        opacity: 0;\n    }\n"])),(function(p){return p.theme.bgBubble}),(function(p){return p.theme.textDark})),bubbles_overlay_editor_BubblesOverlayEditor=function BubblesOverlayEditor(p){var bubbles=p.bubbles,onKeyDown=p.onKeyDown;return react.createElement(BubblesOverlayEditorStyle,null,bubbles.map((function(b,i){return react.createElement("div",{key:i,className:"boe-bubble"},b)})),react.createElement("textarea",{autoFocus:!0,onKeyDown:onKeyDown}))};bubbles_overlay_editor_BubblesOverlayEditor.__docgenInfo={description:"",methods:[],displayName:"BubblesOverlayEditor"};var bubbles_overlay_editor=bubbles_overlay_editor_BubblesOverlayEditor;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/dist/js/data-grid-overlay-editor/private/bubbles-overlay-editor.js"]={name:"BubblesOverlayEditor",docgenInfo:bubbles_overlay_editor_BubblesOverlayEditor.__docgenInfo,path:"core/dist/js/data-grid-overlay-editor/private/bubbles-overlay-editor.js"});var drilldown_overlay_editor_templateObject,bubbleCellRenderer={getAccessibilityString:function getAccessibilityString(c){var _c$data$toString,_c$data;return null!==(_c$data$toString=null===(_c$data=c.data)||void 0===_c$data?void 0:_c$data.toString())&&void 0!==_c$data$toString?_c$data$toString:""},kind:GridCellKind.Bubble,needsHover:!1,needsHoverPosition:!1,render:function render(a){return function drawBubbles(args,data){var _step5,x=args.x,y=args.y,w=args.w,h=args.h,theme=args.theme,ctx=args.ctx,highlighted=args.highlighted,renderX=x+theme.cellHorizontalPadding,renderBoxes=[],_iterator5=data_grid_lib_createForOfIteratorHelper(data);try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var s=_step5.value;if(renderX>x+w)break;var textWidth=measureTextCached(s,ctx).width;renderBoxes.push({x:renderX,width:textWidth}),renderX+=textWidth+16+4}}catch(err){_iterator5.e(err)}finally{_iterator5.f()}ctx.beginPath(),renderBoxes.forEach((function(rectInfo){roundedRect(ctx,rectInfo.x,y+(h-20)/2,rectInfo.width+16,20,10)})),ctx.fillStyle=highlighted?theme.bgBubbleSelected:theme.bgBubble,ctx.fill(),renderBoxes.forEach((function(rectInfo,i){ctx.beginPath(),ctx.fillStyle=theme.textBubble,ctx.fillText(data[i],rectInfo.x+8,y+h/2+4)}))}(a,a.cell.data)},getEditor:function getEditor(){return function(p){var onKeyDown=p.onKeyDown,value=p.value;return react.createElement(bubbles_overlay_editor,{bubbles:value.data,onKeyDown:onKeyDown})}}};var DrilldownOverlayEditorStyle=styled.div(drilldown_overlay_editor_templateObject||(drilldown_overlay_editor_templateObject=function drilldown_overlay_editor_taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n    display: flex;\n    flex-wrap: wrap;\n\n    .doe-bubble {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n\n        border-radius: 100px;\n\n        padding: 0 8px;\n        height: 24px;\n\n        background-color: ",";\n        color: ",";\n        margin: 2px;\n\n        border-radius: 6px;\n\n        box-shadow: 0 0 1px rgba(62, 65, 86, 0.4), 0 1px 3px rgba(62, 65, 86, 0.4);\n\n        img {\n            height: 16px;\n            object-fit: contain;\n\n            margin-right: 4px;\n        }\n    }\n\n    textarea {\n        position: absolute;\n        top: 0px;\n        left: 0px;\n        width: 0px;\n        height: 0px;\n\n        opacity: 0;\n    }\n"])),(function(p){return p.theme.bgCell}),(function(p){return p.theme.textDark})),drilldown_overlay_editor_DrilldownOverlayEditor=function DrilldownOverlayEditor(p){var drilldowns=p.drilldowns,onKeyDown=p.onKeyDown;return react.createElement(DrilldownOverlayEditorStyle,null,drilldowns.map((function(d,i){return react.createElement("div",{key:i,className:"doe-bubble"},void 0!==d.img&&react.createElement("img",{src:d.img}),react.createElement("div",null,d.text))})),react.createElement("textarea",{autoFocus:!0,onKeyDown:onKeyDown}))};drilldown_overlay_editor_DrilldownOverlayEditor.__docgenInfo={description:"",methods:[],displayName:"DrilldownOverlayEditor"};var drilldown_overlay_editor=drilldown_overlay_editor_DrilldownOverlayEditor;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/dist/js/data-grid-overlay-editor/private/drilldown-overlay-editor.js"]={name:"DrilldownOverlayEditor",docgenInfo:drilldown_overlay_editor_DrilldownOverlayEditor.__docgenInfo,path:"core/dist/js/data-grid-overlay-editor/private/drilldown-overlay-editor.js"});var markdown_container_templateObject,drilldownCellRenderer={getAccessibilityString:function getAccessibilityString(c){return c.data.map((function(d){return d.text})).join(", ")},kind:GridCellKind.Drilldown,needsHover:!1,needsHoverPosition:!1,render:function render(a){return function drawDrilldownCell(args,data){var _step6,x=args.x,y=args.y,w=args.w,h=args.h,theme=args.theme,ctx=args.ctx,imageLoader=args.imageLoader,col=args.col,row=args.row,renderX=x+theme.cellHorizontalPadding,renderBoxes=[],_iterator6=data_grid_lib_createForOfIteratorHelper(data);try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var el=_step6.value;if(renderX>x+w)break;var textWidth=measureTextCached(el.text,ctx).width,imgWidth=0;void 0!==el.img&&void 0!==imageLoader.loadOrGetImage(el.img,col,row)&&(imgWidth=20);var renderWidth=textWidth+imgWidth+16;renderBoxes.push({x:renderX,width:renderWidth}),renderX+=renderWidth+4}}catch(err){_iterator6.e(err)}finally{_iterator6.f()}ctx.beginPath(),renderBoxes.forEach((function(rectInfo){roundedRect(ctx,Math.floor(rectInfo.x),y+(h-24)/2,Math.floor(rectInfo.width),24,6)})),ctx.shadowColor="rgba(24, 25, 34, 0.4)",ctx.shadowBlur=1,ctx.fillStyle=theme.bgCell,ctx.fill(),ctx.shadowColor="rgba(24, 25, 34, 0.2)",ctx.shadowOffsetY=1,ctx.shadowBlur=5,ctx.fillStyle=theme.bgCell,ctx.fill(),ctx.shadowOffsetY=0,ctx.shadowBlur=0,ctx.shadowBlur=0,ctx.beginPath(),renderBoxes.forEach((function(rectInfo){roundedRect(ctx,Math.floor(rectInfo.x)+.5,Math.floor(y+(h-24)/2)+.5,Math.round(rectInfo.width),24,6)})),ctx.strokeStyle=theme.drilldownBorder,ctx.lineWidth=1,ctx.stroke(),renderBoxes.forEach((function(rectInfo,i){var d=data[i],drawX=rectInfo.x+8;if(void 0!==d.img){var img=imageLoader.loadOrGetImage(d.img,col,row);if(void 0!==img){var srcX=0,srcY=0,srcWidth=img.width,srcHeight=img.height;srcWidth>srcHeight?(srcX+=(srcWidth-srcHeight)/2,srcWidth=srcHeight):srcHeight>srcWidth&&(srcY+=(srcHeight-srcWidth)/2,srcHeight=srcWidth),ctx.beginPath(),roundedRect(ctx,drawX,y+h/2-8,16,16,3),ctx.save(),ctx.clip(),ctx.drawImage(img,srcX,srcY,srcWidth,srcHeight,drawX,y+h/2-8,16,16),ctx.restore(),drawX+=20}}ctx.beginPath(),ctx.fillStyle=theme.textBubble,ctx.fillText(d.text,drawX,y+h/2+4)}))}(a,a.cell.data)},getEditor:function getEditor(){return function(p){var onKeyDown=p.onKeyDown,value=p.value;return react.createElement(drilldown_overlay_editor,{drilldowns:value.data,onKeyDown:onKeyDown})}}},imageCellRenderer={getAccessibilityString:function getAccessibilityString(c){return c.data.join(", ")},kind:GridCellKind.Image,needsHover:!1,needsHoverPosition:!1,render:function render(a){var _a$cell$displayData;return function drawImage(args,data){var x=args.x,y=args.y,h=args.h,col=args.col,row=args.row,theme=args.theme,ctx=args.ctx,imageLoader=args.imageLoader,drawX=x+theme.cellHorizontalPadding;data.filter((function(s){return s.length>0})).forEach((function(i){var img=imageLoader.loadOrGetImage(i,col,row);if(void 0!==img){var imgHeight=h-2*theme.cellVerticalPadding,imgWidth=img.width*(imgHeight/img.height);roundedRect(ctx,drawX,y+theme.cellVerticalPadding,imgWidth,imgHeight,4),ctx.save(),ctx.clip(),ctx.drawImage(img,drawX,y+theme.cellVerticalPadding,imgWidth,imgHeight),ctx.restore(),drawX+=imgWidth+4}}))}(a,null!==(_a$cell$displayData=a.cell.displayData)&&void 0!==_a$cell$displayData?_a$cell$displayData:a.cell.data)},onDelete:function onDelete(c){return Object.assign({},c,{data:[]})},getEditor:function getEditor(){return function(p){var onKeyDown=p.onKeyDown,value=p.value,onFinishedEditing=p.onFinishedEditing,imageEditorOverride=p.imageEditorOverride,ImageEditor=null!=imageEditorOverride?imageEditorOverride:image_overlay_editor;return react.createElement(ImageEditor,{urls:value.data,canWrite:value.allowAdd,onCancel:onFinishedEditing,onChange:function onChange(newImage){onFinishedEditing(Object.assign({},value,{data:[newImage]}))},onKeyDown:onKeyDown})}}},loadingCellRenderer={getAccessibilityString:function getAccessibilityString(){return""},kind:GridCellKind.Loading,needsHover:!1,needsHoverPosition:!1,render:function render(){}},marked=__webpack_require__(143),marked_default=__webpack_require__.n(marked);var MarkdownContainer=styled_components_browser_esm.c.div(markdown_container_templateObject||(markdown_container_templateObject=function markdown_container_taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n    word-break: break-word;\n    -webkit-touch-callout: default;\n    padding-top: 6px;\n\n    > * {\n        margin: 0;\n    }\n\n    & *:last-child {\n        margin-bottom: 0;\n    }\n\n    & p img {\n        width: 100%;\n    }\n"])));function markdown_div_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function markdown_div_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function markdown_div_setPrototypeOf(o,p){return markdown_div_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},markdown_div_setPrototypeOf(o,p)}function markdown_div_createSuper(Derived){var hasNativeReflectConstruct=function markdown_div_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=markdown_div_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=markdown_div_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return markdown_div_possibleConstructorReturn(this,result)}}function markdown_div_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function markdown_div_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function markdown_div_getPrototypeOf(o){return markdown_div_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},markdown_div_getPrototypeOf(o)}var growing_entry_style_templateObject,_templateObject2,_templateObject3,_templateObject4,markdown_div_MarkdownDiv=function(_React$PureComponent){!function markdown_div_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&markdown_div_setPrototypeOf(subClass,superClass)}(MarkdownDiv,_React$PureComponent);var _super=markdown_div_createSuper(MarkdownDiv);function MarkdownDiv(){var _this;return markdown_div_classCallCheck(this,MarkdownDiv),(_this=_super.apply(this,arguments)).targetElement=null,_this.containerRefHook=function(element){_this.targetElement=element,_this.renderMarkdownIntoDiv()},_this}return function markdown_div_createClass(Constructor,protoProps,staticProps){return protoProps&&markdown_div_defineProperties(Constructor.prototype,protoProps),staticProps&&markdown_div_defineProperties(Constructor,staticProps),Constructor}(MarkdownDiv,[{key:"renderMarkdownIntoDiv",value:function renderMarkdownIntoDiv(){var targetElement=this.targetElement;if(null!==targetElement){var _this$props=this.props,contents=_this$props.contents,createNode=_this$props.createNode,innerHTML=marked_default()(contents),childRange=document.createRange();childRange.selectNodeContents(targetElement),childRange.deleteContents();var newChild=null==createNode?void 0:createNode(innerHTML);if(void 0===newChild){var childDoc=document.createElement("template");childDoc.innerHTML=innerHTML,newChild=childDoc.content}targetElement.appendChild(newChild);for(var tags=targetElement.getElementsByTagName("a"),i=0;i<tags.length;i++){var tag=tags[i];tag.target="_blank",tag.rel="noreferrer noopener"}}}},{key:"render",value:function render(){return this.renderMarkdownIntoDiv(),react_default.a.createElement(MarkdownContainer,{ref:this.containerRefHook})}}]),MarkdownDiv}(react_default.a.PureComponent);function growing_entry_style_taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}markdown_div_MarkdownDiv.__docgenInfo={description:"",methods:[{name:"renderMarkdownIntoDiv",docblock:null,modifiers:[],params:[],returns:null}],displayName:"MarkdownDiv"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/dist/js/markdown-div/markdown-div.js"]={name:"MarkdownDiv",docgenInfo:markdown_div_MarkdownDiv.__docgenInfo,path:"core/dist/js/markdown-div/markdown-div.js"});var inputProps=Object(styled_components_browser_esm.b)(growing_entry_style_templateObject||(growing_entry_style_templateObject=growing_entry_style_taggedTemplateLiteralLoose(["\n    font-size: 13px;\n    line-height: 16px;\n    font-family: ",";\n    color: ",";\n    padding: 0;\n    margin: 0;\n"])),(function(p){return p.theme.fontFamily}),(function(p){return p.theme.textDark})),InputBox=styled.textarea(_templateObject2||(_templateObject2=growing_entry_style_taggedTemplateLiteralLoose(["\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n\n    border-radius: 0px;\n\n    resize: none;\n    white-space: normal;\n    min-width: 100%;\n    overflow: hidden;\n    border: 0;\n    background-color: transparent;\n\n    ::placeholder {\n        color: ",";\n    }\n\n    ","\n"])),(function(p){return p.theme.textLight}),inputProps),ShadowBox=styled.div(_templateObject3||(_templateObject3=growing_entry_style_taggedTemplateLiteralLoose(["\n    visibility: hidden;\n    white-space: pre-wrap;\n    word-wrap: break-word;\n\n    width: max-content;\n    max-width: 100%;\n\n    min-width: 100%;\n\n    ","\n\n    padding-bottom: 2px;\n"])),inputProps),GrowingEntryStyle=styled.div(_templateObject4||(_templateObject4=growing_entry_style_taggedTemplateLiteralLoose(["\n    position: relative;\n    margin-top: 6px;\n"]))),growing_entry_excluded=["placeholder","value","onKeyDown","highlight"];function growing_entry_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function growing_entry_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function growing_entry_extends(){return growing_entry_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},growing_entry_extends.apply(this,arguments)}var growing_entry_GrowingEntry=function GrowingEntry(props){var placeholder=props.placeholder,value=props.value,onKeyDown=props.onKeyDown,highlight=props.highlight,rest=growing_entry_objectWithoutProperties(props,growing_entry_excluded),onChange=rest.onChange,className=rest.className,inputRef=react.useRef(null),useText=null!=value?value:"";return assert(void 0!==onChange,"GrowingEntry must be a controlled input area"),react.useEffect((function(){var ta=inputRef.current;if(null!==ta&&!ta.disabled){var length=useText.toString().length;ta.focus(),ta.setSelectionRange(highlight?0:length,length)}}),[]),react.createElement(GrowingEntryStyle,null,react.createElement(ShadowBox,{className:className},useText+"\n"),react.createElement(InputBox,growing_entry_extends({},rest,{ref:inputRef,onKeyDown:onKeyDown,value:useText,placeholder:placeholder,dir:"auto"})))};growing_entry_GrowingEntry.__docgenInfo={description:"",methods:[],displayName:"GrowingEntry"};var markdown_overlay_editor_style_templateObject,growing_entry=growing_entry_GrowingEntry;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/dist/js/growing-entry/growing-entry.js"]={name:"GrowingEntry",docgenInfo:growing_entry_GrowingEntry.__docgenInfo,path:"core/dist/js/growing-entry/growing-entry.js"});var MarkdownOverlayEditorStyle=styled.div(markdown_overlay_editor_style_templateObject||(markdown_overlay_editor_style_templateObject=function markdown_overlay_editor_style_taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n    min-width: ","px;\n    width: 100%;\n    display: flex;\n    align-items: flex-start;\n    justify-content: space-between;\n    position: relative;\n    color: ",";\n\n    "," {\n        flex-shrink: 1;\n        min-width: 0;\n    }\n\n    .spacer {\n        flex: 1;\n    }\n\n    .edit-icon {\n        position: relative;\n        cursor: pointer;\n\n        display: flex;\n        justify-content: center;\n        align-items: center;\n\n        color: ",';\n\n        padding: 0;\n\n        height: 24px;\n        width: 24px;\n        flex-shrink: 0;\n\n        transition: all "0.125s ease";\n\n        border-radius: 6px;\n\n        > * {\n            width: 16px;\n            height: 16px;\n        }\n    }\n\n    .edit-hover {\n        :hover {\n            background-color: ',";\n            transition: background-color 150ms;\n        }\n    }\n\n    .checkmark-hover {\n        :hover {\n            color: #ffffff;\n            background-color: ",";\n        }\n    }\n\n    .md-edit-textarea {\n        position: relative;\n        top: 0px;\n        left: 0px;\n        width: 0px;\n        height: 0px;\n        margin-top: 25px;\n        opacity: 0;\n        padding: 0;\n    }\n\n    .ml-6 {\n        margin-left: 6px;\n    }\n"])),(function(p){return p.targetRect.width}),(function(p){return p.theme.textDark}),GrowingEntryStyle,(function(p){return p.theme.accentColor}),(function(p){return p.theme.accentLight}),(function(p){return p.theme.accentColor}));function markdown_overlay_editor_slicedToArray(arr,i){return function markdown_overlay_editor_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function markdown_overlay_editor_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function markdown_overlay_editor_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return markdown_overlay_editor_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return markdown_overlay_editor_arrayLikeToArray(o,minLen)}(arr,i)||function markdown_overlay_editor_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function markdown_overlay_editor_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var markdown_overlay_editor_MarkdownOverlayEditor=function MarkdownOverlayEditor(p){var markdown=p.markdown,onChange=p.onChange,onKeyDown=p.onKeyDown,forceEditMode=p.forceEditMode,createNode=p.createNode,targetRect=p.targetRect,readonly=p.readonly,onFinish=p.onFinish,_React$useState2=markdown_overlay_editor_slicedToArray(react.useState(""===markdown||forceEditMode),2),editMode=_React$useState2[0],setEditMode=_React$useState2[1],onEditClick=react.useCallback((function(){setEditMode((function(e){return!e}))}),[]),addLeftPad=markdown?"ml-6":"";return editMode?react.createElement(MarkdownOverlayEditorStyle,{targetRect:targetRect},react.createElement(growing_entry,{autoFocus:!0,highlight:!1,onKeyDown:onKeyDown,value:markdown,onChange:onChange}),react.createElement("div",{className:"edit-icon checkmark-hover "+addLeftPad,onClick:onFinish},react.createElement(utils_Checkmark,null))):react.createElement(MarkdownOverlayEditorStyle,{targetRect:targetRect},react.createElement(markdown_div_MarkdownDiv,{contents:markdown,createNode:createNode}),!readonly&&react.createElement(react.Fragment,null,react.createElement("div",{className:"spacer"}),react.createElement("div",{className:"edit-icon edit-hover "+addLeftPad,onClick:onEditClick},react.createElement(utils_EditPencil,null))),react.createElement("textarea",{className:"md-edit-textarea",autoFocus:!0,onKeyDown:onKeyDown}))};markdown_overlay_editor_MarkdownOverlayEditor.__docgenInfo={description:"",methods:[],displayName:"MarkdownOverlayEditor"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/dist/js/data-grid-overlay-editor/private/markdown-overlay-editor.js"]={name:"MarkdownOverlayEditor",docgenInfo:markdown_overlay_editor_MarkdownOverlayEditor.__docgenInfo,path:"core/dist/js/data-grid-overlay-editor/private/markdown-overlay-editor.js"});var number_overlay_editor_style_templateObject,markdownCellRenderer={getAccessibilityString:function getAccessibilityString(c){var _c$data$toString,_c$data;return null!==(_c$data$toString=null===(_c$data=c.data)||void 0===_c$data?void 0:_c$data.toString())&&void 0!==_c$data$toString?_c$data$toString:""},kind:GridCellKind.Markdown,needsHover:!1,needsHoverPosition:!1,render:function render(a){return drawTextCell(a,a.cell.data)},onDelete:function onDelete(c){return Object.assign({},c,{data:""})},getEditor:function getEditor(){return function(p){var _onChange=p.onChange,onKeyDown=p.onKeyDown,value=p.value,target=p.target,onFinishedEditing=p.onFinishedEditing,markdownDivCreateNode=p.markdownDivCreateNode,forceEditMode=p.forceEditMode;return react.createElement(markdown_overlay_editor_MarkdownOverlayEditor,{onFinish:onFinishedEditing,targetRect:target,readonly:!0===value.readonly,markdown:value.data,onKeyDown:onKeyDown,onChange:function onChange(e){return _onChange(Object.assign({},value,{data:e.target.value}))},forceEditMode:forceEditMode,createNode:markdownDivCreateNode})}}},markerCellRenderer={getAccessibilityString:function getAccessibilityString(c){return c.row.toString()},kind:InnerGridCellKind.Marker,needsHover:!0,needsHoverPosition:!1,render:function render(a){return function drawMarkerRowCell(args,index,checked,markerKind){var ctx=args.ctx,x=args.x,y=args.y,width=args.w,height=args.h,hoverAmount=args.hoverAmount,theme=args.theme;if("number"!==markerKind&&(ctx.globalAlpha=checked?1:hoverAmount,drawCheckbox(ctx,theme,checked,x,y,width,height,!0),ctx.globalAlpha=1),"number"===markerKind||"both"===markerKind&&!checked){var text=(index+1).toString();ctx.font="9px "+theme.fontFamily;var start=x+(width-measureTextCached(text,ctx).width)/2;"both"===markerKind&&(ctx.globalAlpha=1-hoverAmount),ctx.fillStyle=theme.textLight,ctx.fillText(text,start,y+height/2+4.5),ctx.globalAlpha=1}ctx.globalAlpha=1}(a,a.cell.row,a.cell.checked,a.cell.markerKind)}},newRowCellRenderer={getAccessibilityString:function getAccessibilityString(){return""},kind:InnerGridCellKind.NewRow,needsHover:!0,needsHoverPosition:!1,render:function render(a){return function drawNewRowCell(args,data,isFirst){var ctx=args.ctx,x=args.x,y=args.y,w=args.w,h=args.h,hoverAmount=args.hoverAmount,theme=args.theme;ctx.beginPath(),ctx.globalAlpha=hoverAmount,ctx.rect(x,y,w,h),ctx.fillStyle=theme.bgHeaderHovered,ctx.fill(),ctx.globalAlpha=1,ctx.beginPath();var lineSize=isFirst?12:12*hoverAmount,xTranslate=isFirst?0:12*(1-hoverAmount)*.5,padPlus=theme.cellHorizontalPadding+4;lineSize>0&&(ctx.moveTo(x+padPlus+xTranslate,y+h/2),ctx.lineTo(x+padPlus+xTranslate+lineSize,y+h/2),ctx.moveTo(x+padPlus+xTranslate+.5*lineSize,y+h/2-.5*lineSize),ctx.lineTo(x+padPlus+xTranslate+.5*lineSize,y+h/2+.5*lineSize),ctx.lineWidth=2,ctx.strokeStyle=theme.bgIconHeader,ctx.lineCap="round",ctx.stroke()),ctx.fillStyle=theme.textMedium,ctx.fillText(data,24+x+theme.cellHorizontalPadding+.5,y+h/2+4.5),ctx.beginPath()}(a,a.cell.hint,a.cell.isFirst)}};__webpack_require__(63);var NumberOverlayEditorStyle=styled.div(number_overlay_editor_style_templateObject||(number_overlay_editor_style_templateObject=function number_overlay_editor_style_taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n    display: flex;\n    margin-top: 6px;\n    color: ",";\n\n    > input {\n        font-size: 13px;\n        padding: 0;\n        font-family: ",";\n        color: ",";\n    }\n"])),(function(p){return p.theme.textDark}),(function(p){return p.theme.fontFamily}),(function(p){return p.theme.textDark})),react_number_format_es=__webpack_require__(210);function getDecimalSeparator(){var _Intl$NumberFormat,_Intl$NumberFormat$fo,_Intl$NumberFormat$fo2,result=null===(_Intl$NumberFormat=Intl.NumberFormat())||void 0===_Intl$NumberFormat||null===(_Intl$NumberFormat$fo=_Intl$NumberFormat.formatToParts(1.1))||void 0===_Intl$NumberFormat$fo||null===(_Intl$NumberFormat$fo2=_Intl$NumberFormat$fo.find((function(part){return"decimal"===part.type})))||void 0===_Intl$NumberFormat$fo2?void 0:_Intl$NumberFormat$fo2.value;return null!=result?result:"."}var number_overlay_editor_NumberOverlayEditor=function NumberOverlayEditor(p){var value=p.value,onChange=p.onChange,onKeyDown=p.onKeyDown,disabled=p.disabled,highlight=p.highlight;return react.createElement(NumberOverlayEditorStyle,null,react.createElement(react_number_format_es.a,{autoFocus:!0,onFocus:function onFocus(e){return e.target.setSelectionRange(highlight?0:e.target.value.length,e.target.value.length)},disabled:!0===disabled,thousandSeparator:"."===getDecimalSeparator()?",":".",decimalSeparator:getDecimalSeparator(),value:null!=value?value:"",onValueChange:onChange,onKeyDown:onKeyDown}))};number_overlay_editor_NumberOverlayEditor.__docgenInfo={description:"",methods:[],displayName:"NumberOverlayEditor"};var number_overlay_editor=number_overlay_editor_NumberOverlayEditor;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/dist/js/data-grid-overlay-editor/private/number-overlay-editor.js"]={name:"NumberOverlayEditor",docgenInfo:number_overlay_editor_NumberOverlayEditor.__docgenInfo,path:"core/dist/js/data-grid-overlay-editor/private/number-overlay-editor.js"});var uri_overlay_editor_style_templateObject,numberCellRenderer={getAccessibilityString:function getAccessibilityString(c){var _c$data$toString,_c$data;return null!==(_c$data$toString=null===(_c$data=c.data)||void 0===_c$data?void 0:_c$data.toString())&&void 0!==_c$data$toString?_c$data$toString:""},kind:GridCellKind.Number,needsHover:!1,needsHoverPosition:!1,render:function render(a){return drawTextCell(a,a.cell.displayData)},onDelete:function onDelete(c){return Object.assign({},c,{data:void 0})},getEditor:function getEditor(){return function(p){var isHighlighted=p.isHighlighted,_onChange=p.onChange,onKeyDown=p.onKeyDown,value=p.value;return react.createElement(number_overlay_editor,{highlight:isHighlighted,disabled:!0===value.readonly,value:value.data,onKeyDown:onKeyDown,onChange:function onChange(x){return _onChange(Object.assign({},value,{data:x.floatValue}))}})}}},protectedCellRenderer={getAccessibilityString:function getAccessibilityString(){return""},kind:GridCellKind.Protected,needsHover:!1,needsHoverPosition:!1,render:function drawProtectedCell(args){var ctx=args.ctx,theme=args.theme,x=args.x,y=args.y,w=args.w,h=args.h;args.highlighted||(ctx.beginPath(),ctx.rect(x+1,y+1,w-1,h-1),ctx.fillStyle=theme.bgCellMedium,ctx.fill()),ctx.beginPath();for(var xStart=x+theme.cellHorizontalPadding+2.5,center=y+h/2,p=2.5*Math.cos(degreesToRadians(30)),q=2.5*Math.sin(degreesToRadians(30)),i=0;i<12;i++)ctx.moveTo(xStart,center-2.5),ctx.lineTo(xStart,center+2.5),ctx.moveTo(xStart+p,center-q),ctx.lineTo(xStart-p,center+q),ctx.moveTo(xStart-p,center-q),ctx.lineTo(xStart+p,center+q),xStart+=8;ctx.lineWidth=1.1,ctx.lineCap="square",ctx.strokeStyle=theme.textLight,ctx.stroke()}},rowIDCellRenderer={getAccessibilityString:function getAccessibilityString(c){var _c$data$toString,_c$data;return null!==(_c$data$toString=null===(_c$data=c.data)||void 0===_c$data?void 0:_c$data.toString())&&void 0!==_c$data$toString?_c$data$toString:""},kind:GridCellKind.RowID,needsHover:!1,needsHoverPosition:!1,render:function render(a){return drawTextCell(a,a.cell.data,a.theme.textLight)}},textCellRenderer={getAccessibilityString:function getAccessibilityString(c){var _c$data$toString,_c$data;return null!==(_c$data$toString=null===(_c$data=c.data)||void 0===_c$data?void 0:_c$data.toString())&&void 0!==_c$data$toString?_c$data$toString:""},kind:GridCellKind.Text,needsHover:!1,needsHoverPosition:!1,render:function render(a){return drawTextCell(a,a.cell.displayData)},onDelete:function onDelete(c){return Object.assign({},c,{data:""})},getEditor:function getEditor(){return function(p){var isHighlighted=p.isHighlighted,_onChange=p.onChange,onKeyDown=p.onKeyDown,value=p.value;return react.createElement(growing_entry,{highlight:isHighlighted,autoFocus:!0!==value.readonly,disabled:!0===value.readonly,onKeyDown:onKeyDown,value:value.data,onChange:function onChange(e){return _onChange(Object.assign({},value,{data:e.target.value}))}})}}};var UriOverlayEditorStyle=styled.div(uri_overlay_editor_style_templateObject||(uri_overlay_editor_style_templateObject=function uri_overlay_editor_style_taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n    display: flex;\n\n    flex-grow: 1;\n\n    align-items: center;\n    padding-top: 2px;\n\n    .link-area {\n        flex-grow: 1;\n        flex-shrink: 1;\n\n        margin-right: 8px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n\n        color: ",";\n        text-decoration: underline !important;\n    }\n\n    .edit-icon {\n        flex-shrink: 0;\n        width: 32px;\n        color: ",";\n\n        cursor: pointer;\n\n        display: flex;\n        justify-content: center;\n        align-items: center;\n\n        > * {\n            width: 24px;\n            height: 24px;\n        }\n    }\n\n    textarea {\n        position: absolute;\n        top: 0px;\n        left: 0px;\n        width: 0px;\n        height: 0px;\n\n        opacity: 0;\n    }\n"])),(function(p){return p.theme.linkColor}),(function(p){return p.theme.accentColor}));function uri_overlay_editor_slicedToArray(arr,i){return function uri_overlay_editor_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function uri_overlay_editor_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function uri_overlay_editor_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return uri_overlay_editor_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uri_overlay_editor_arrayLikeToArray(o,minLen)}(arr,i)||function uri_overlay_editor_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uri_overlay_editor_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var uri_overlay_editor_UriOverlayEditor=function UriOverlayEditor(p){var uri=p.uri,onChange=p.onChange,onKeyDown=p.onKeyDown,forceEditMode=p.forceEditMode,readonly=p.readonly,_React$useState2=uri_overlay_editor_slicedToArray(react.useState(""===uri||forceEditMode),2),editMode=_React$useState2[0],setEditMode=_React$useState2[1],onEditClick=react.useCallback((function(){setEditMode(!0)}),[]);return editMode?react.createElement(growing_entry,{highlight:!0,autoFocus:!0,onKeyDown:onKeyDown,value:uri,onChange:onChange}):react.createElement(UriOverlayEditorStyle,null,react.createElement("a",{className:"link-area",href:uri,target:"_blank",rel:"noopener noreferrer"},uri),!readonly&&react.createElement("div",{className:"edit-icon",onClick:onEditClick},react.createElement(utils_EditPencil,null)),react.createElement("textarea",{autoFocus:!0,onKeyDown:onKeyDown}))};uri_overlay_editor_UriOverlayEditor.__docgenInfo={description:"",methods:[],displayName:"UriOverlayEditor"};var uri_overlay_editor=uri_overlay_editor_UriOverlayEditor;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/dist/js/data-grid-overlay-editor/private/uri-overlay-editor.js"]={name:"UriOverlayEditor",docgenInfo:uri_overlay_editor_UriOverlayEditor.__docgenInfo,path:"core/dist/js/data-grid-overlay-editor/private/uri-overlay-editor.js"});var _CellRenderers,data_grid_overlay_editor_style_templateObject,uriCellRenderer={getAccessibilityString:function getAccessibilityString(c){var _c$data$toString,_c$data;return null!==(_c$data$toString=null===(_c$data=c.data)||void 0===_c$data?void 0:_c$data.toString())&&void 0!==_c$data$toString?_c$data$toString:""},kind:GridCellKind.Uri,needsHover:!1,needsHoverPosition:!1,render:function render(a){return drawTextCell(a,a.cell.data)},onDelete:function onDelete(c){return Object.assign({},c,{data:""})},getEditor:function getEditor(){return function(p){var _onChange=p.onChange,onKeyDown=p.onKeyDown,value=p.value,forceEditMode=p.forceEditMode;return react.createElement(uri_overlay_editor,{forceEditMode:forceEditMode,uri:value.data,readonly:!0===value.readonly,onKeyDown:onKeyDown,onChange:function onChange(e){return _onChange(Object.assign({},value,{data:e.target.value}))}})}}},CellRenderers=((_CellRenderers={})[InnerGridCellKind.Marker]=markerCellRenderer,_CellRenderers[InnerGridCellKind.NewRow]=newRowCellRenderer,_CellRenderers[GridCellKind.Boolean]=booleanCellRenderer,_CellRenderers[GridCellKind.Bubble]=bubbleCellRenderer,_CellRenderers[GridCellKind.Drilldown]=drilldownCellRenderer,_CellRenderers[GridCellKind.Image]=imageCellRenderer,_CellRenderers[GridCellKind.Loading]=loadingCellRenderer,_CellRenderers[GridCellKind.Markdown]=markdownCellRenderer,_CellRenderers[GridCellKind.Number]=numberCellRenderer,_CellRenderers[GridCellKind.Protected]=protectedCellRenderer,_CellRenderers[GridCellKind.RowID]=rowIDCellRenderer,_CellRenderers[GridCellKind.Text]=textCellRenderer,_CellRenderers[GridCellKind.Uri]=uriCellRenderer,_CellRenderers);var DataGridOverlayEditorStyle=styled.div(data_grid_overlay_editor_style_templateObject||(data_grid_overlay_editor_style_templateObject=function data_grid_overlay_editor_style_taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n    position: absolute;\n\n    display: flex;\n    flex-direction: column;\n    overflow: hidden;\n    box-sizing: border-box;\n\n    --overlay-top: ","px;\n\n    left: ","px;\n    top: ","px;\n    min-width: ","px;\n    min-height: ","px;\n    width: max-content;\n    max-width: 400px;\n    max-height: calc(100vh - ","px);\n\n    border-radius: 2px;\n    background-color: ",";\n\n    box-shadow: 0 0 0 1px ",", 0px 0px 1px rgba(62, 65, 86, 0.4),\n        0px 6px 12px rgba(62, 65, 86, 0.15);\n\n    font-family: ",";\n    font-size: 13px;\n\n    padding: ","px 8.5px 3px;\n\n    @keyframes glide_fade_in {\n        from {\n            opacity: 0%;\n        }\n\n        to {\n            opacity: 100%;\n        }\n    }\n\n    animation: glide_fade_in 60ms 1;\n\n    .clip-region {\n        display: flex;\n        flex-direction: column;\n        overflow-y: auto;\n        overflow-x: hidden;\n        border-radius: 2px;\n        input {\n            width: 100%;\n\n            border: none;\n            border-width: 0;\n            outline: none;\n        }\n\n        textarea {\n            border: none;\n            border-width: 0;\n            outline: none;\n        }\n\n        "," {\n            height: 100%;\n        }\n    }\n\n    text-align: start;\n"])),(function(p){return p.targetRect.y}),(function(p){return p.targetRect.x-1}),(function(p){return p.targetRect.y-1}),(function(p){return p.targetRect.width+2}),(function(p){return p.targetRect.height+2}),(function(p){return p.targetRect.y+10}),(function(p){return p.theme.bgCell}),(function(p){return p.theme.accentColor}),(function(p){return p.theme.fontFamily}),(function(p){return Math.max(0,(p.targetRect.height-28)/2)}),GrowingEntryStyle);function data_grid_overlay_editor_slicedToArray(arr,i){return function data_grid_overlay_editor_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function data_grid_overlay_editor_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function data_grid_overlay_editor_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return data_grid_overlay_editor_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return data_grid_overlay_editor_arrayLikeToArray(o,minLen)}(arr,i)||function data_grid_overlay_editor_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function data_grid_overlay_editor_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var data_grid_overlay_editor=function DataGridOverlayEditor(p){var editor,target=p.target,content=p.content,onFinishEditing=p.onFinishEditing,forceEditMode=p.forceEditMode,imageEditorOverride=p.imageEditorOverride,markdownDivCreateNode=p.markdownDivCreateNode,highlight=p.highlight,provideEditor=p.provideEditor,_React$useState2=data_grid_overlay_editor_slicedToArray(react.useState(forceEditMode?content:void 0),2),tempValue=_React$useState2[0],setTempValue=_React$useState2[1],onClickOutside=react.useCallback((function(){onFinishEditing(tempValue,[0,0])}),[tempValue,onFinishEditing]),onKeyDown=react.useCallback((function(event){"Escape"===event.key?onFinishEditing(void 0,[0,0]):"Enter"!==event.key||event.shiftKey?"Tab"===event.key&&(onFinishEditing(tempValue,[event.shiftKey?-1:1,0]),event.stopPropagation(),event.preventDefault()):(onFinishEditing(tempValue,[0,1]),event.stopPropagation(),event.preventDefault())}),[onFinishEditing,tempValue]),targetValue=null!=tempValue?tempValue:content,CustomEditor=react.useMemo((function(){return null==provideEditor?void 0:provideEditor(content)}),[content,provideEditor]),CellEditor=react.useMemo((function(){var _renderer$getEditor;if(content.kind!==GridCellKind.Custom){var renderer=CellRenderers[content.kind];return null===(_renderer$getEditor=renderer.getEditor)||void 0===_renderer$getEditor?void 0:_renderer$getEditor.call(renderer,content)}}),[content]);void 0!==CustomEditor?editor=react.createElement(CustomEditor,{isHighlighted:highlight,onChange:setTempValue,value:targetValue,onFinishedEditing:onClickOutside}):void 0!==CellEditor&&(editor=react.createElement(CellEditor,{forceEditMode:forceEditMode,isHighlighted:highlight,onChange:setTempValue,value:targetValue,onFinishedEditing:function onFinishedEditing(e){return onFinishEditing(e,[0,0])},onKeyDown:onKeyDown,target:target,imageEditorOverride:imageEditorOverride,markdownDivCreateNode:markdownDivCreateNode}));var f=function f(ev){ev.stopPropagation()},portalElement=document.getElementById("portal");return null===portalElement?(console.error('Cannot open Data Grid overlay editor, because portal not found.  Please add `<div id="portal" />` as the last child of your `<body>`.'),null):Object(react_dom.createPortal)(react.createElement(click_outside_container_ClickOutsideContainer,{onClickOutside:onClickOutside},react.createElement(DataGridOverlayEditorStyle,{targetRect:target,onMouseDown:f,onClick:f},react.createElement("div",{className:"clip-region"},editor))),portalElement)},clamp=__webpack_require__(88),clamp_default=__webpack_require__.n(clamp),throttle=(__webpack_require__(119),__webpack_require__(69),__webpack_require__(145)),throttle_default=__webpack_require__.n(throttle);function image_window_loader_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function image_window_loader_toConsumableArray(arr){return function image_window_loader_arrayWithoutHoles(arr){if(Array.isArray(arr))return image_window_loader_arrayLikeToArray(arr)}(arr)||function image_window_loader_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||image_window_loader_unsupportedIterableToArray(arr)||function image_window_loader_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function image_window_loader_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return image_window_loader_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?image_window_loader_arrayLikeToArray(o,minLen):void 0}}function image_window_loader_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function image_window_loader_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function packColRowToNumber(col,row){return 65536*row+col}function unpackNumberToColRow(packed){var col=packed%65536;return[col,(packed-col)/65536]}var image_window_loader_ImageWindowLoader=function(){function ImageWindowLoader(){var _this=this;!function image_window_loader_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ImageWindowLoader),this.imageLoaded=function(){},this.loadedLocations=[],this.window={x:0,y:0,width:0,height:0},this.cache={},this.sendLoaded=throttle_default()((function(){_this.imageLoaded(_this.loadedLocations),_this.loadedLocations=[]}),20),this.clearOutOfWindowImpl=function(){var old=_this.cache;_this.cache={};var whittled=Object.values(old).map((function(v){return Object.assign({},v,{cells:new Set(Array.from(v.cells).filter((function(n){return _this.isInWindow.apply(_this,image_window_loader_toConsumableArray(unpackNumberToColRow(n)))})))})}));whittled.filter((function(v){return v.cells.size>0})).forEach((function(v){_this.cache[""+v.url]=v}));var _step,_iterator=function image_window_loader_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=image_window_loader_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(whittled);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _v$cancel,v=_step.value;if(0===v.cells.size)null===(_v$cancel=v.cancel)||void 0===_v$cancel||_v$cancel.call(v);else _this.cache[v.url]=v}}catch(err){_iterator.e(err)}finally{_iterator.f()}},this.clearOutOfWindow=throttle_default()(this.clearOutOfWindowImpl,600,{leading:!1,trailing:!0})}return function image_window_loader_createClass(Constructor,protoProps,staticProps){return protoProps&&image_window_loader_defineProperties(Constructor.prototype,protoProps),staticProps&&image_window_loader_defineProperties(Constructor,staticProps),Constructor}(ImageWindowLoader,[{key:"isInWindow",value:function isInWindow(col,row){var w=this.window;return col>=w.x&&col<=w.x+w.width&&row>=w.y&&row<=w.y+w.height}},{key:"setCallback",value:function setCallback(imageLoaded){this.imageLoaded=imageLoaded}},{key:"setWindow",value:function setWindow(window){this.window.x===window.x&&this.window.y===window.y&&this.window.width===window.width&&this.window.height===window.height||(this.window=window,this.clearOutOfWindow())}},{key:"loadOrGetImage",value:function loadOrGetImage(url,col,row){var _this2=this,key=""+url,current=this.cache[key];if(void 0!==current)return current.cells.add(packColRowToNumber(col,row)),current.img;var img=new Image;img.src=url;var _ref,cancelled=!1,result={img:void 0,cells:new Set([packColRowToNumber(col,row)]),url:url,cancel:function cancel(){cancelled=!0,img.src=""}},load=(_ref=function image_window_loader_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){image_window_loader_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){image_window_loader_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(){var errored,toWrite,_i,_Array$from,packed;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return errored=!1,_context.prev=1,_context.next=4,img.decode();case 4:_context.next=9;break;case 6:_context.prev=6,_context.t0=_context.catch(1),errored=!0;case 9:if(void 0!==(toWrite=_this2.cache[key])&&!errored&&!cancelled){for(toWrite.img=img,_i=0,_Array$from=Array.from(toWrite.cells);_i<_Array$from.length;_i++)packed=_Array$from[_i],_this2.loadedLocations.push(unpackNumberToColRow(packed));_this2.sendLoaded()}case 11:case"end":return _context.stop()}}),_callee,null,[[1,6]])}))),function load(){return _ref.apply(this,arguments)});return load(),void(this.cache[key]=result)}}]),ImageWindowLoader}(),image_window_loader=image_window_loader_ImageWindowLoader,iconHead='<svg width="20" height="20" fill="none" xmlns="http://www.w3.org/2000/svg">',headerUri=function headerUri(props){var fg=props.fgColor,bg=props.bgColor;return iconHead+'\n<path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="'+bg+'"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M10.29 4.947a3.368 3.368 0 014.723.04 3.375 3.375 0 01.041 4.729l-.009.009-1.596 1.597a3.367 3.367 0 01-5.081-.364.71.71 0 011.136-.85 1.95 1.95 0 002.942.21l1.591-1.593a1.954 1.954 0 00-.027-2.733 1.95 1.95 0 00-2.732-.027l-.91.907a.709.709 0 11-1.001-1.007l.915-.911.007-.007z" fill="'+fg+'"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M6.55 8.678a3.368 3.368 0 015.082.364.71.71 0 01-1.136.85 1.95 1.95 0 00-2.942-.21l-1.591 1.593a1.954 1.954 0 00.027 2.733 1.95 1.95 0 002.73.028l.906-.906a.709.709 0 111.003 1.004l-.91.91-.008.01a3.368 3.368 0 01-4.724-.042 3.375 3.375 0 01-.041-4.728l.009-.009L6.55 8.678z" fill="'+fg+'"/>\n</svg>\n  '},sprites={headerRowID:function headerRowID(props){var fg=props.fgColor,bg=props.bgColor;return"\n    "+iconHead+'<rect x="2" y="2" width="16" height="16" rx="2" fill="'+bg+'"/><path d="M15.75 4h-1.5a.25.25 0 0 0-.177.074L9.308 8.838a3.75 3.75 0 1 0 1.854 1.854l1.155-1.157.967.322a.5.5 0 0 0 .65-.55l-.18-1.208.363-.363.727.331a.5.5 0 0 0 .69-.59l-.254-.904.647-.647A.25.25 0 0 0 16 5.75v-1.5a.25.25 0 0 0-.25-.25zM7.5 13.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0z" fill="'+fg+'"/></svg>'},headerNumber:function headerNumber(props){var fg=props.fgColor,bg=props.bgColor;return iconHead+'\n    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="'+bg+'"/>\n    <path d="M6.52 12.78H5.51V8.74l-1.33.47v-.87l2.29-.83h.05v5.27zm5.2 0H8.15v-.69l1.7-1.83a6.38 6.38 0 0 0 .34-.4c.09-.11.16-.22.22-.32s.1-.19.12-.27a.9.9 0 0 0 0-.56.63.63 0 0 0-.15-.23.58.58 0 0 0-.22-.15.75.75 0 0 0-.29-.05c-.27 0-.48.08-.62.23a.95.95 0 0 0-.2.65H8.03c0-.24.04-.46.13-.67a1.67 1.67 0 0 1 .97-.91c.23-.1.49-.14.77-.14.26 0 .5.04.7.11.21.08.38.18.52.32.14.13.25.3.32.48a1.74 1.74 0 0 1 .03 1.13 2.05 2.05 0 0 1-.24.47 4.16 4.16 0 0 1-.35.47l-.47.5-1 1.05h2.32v.8zm1.8-3.08h.55c.28 0 .48-.06.61-.2a.76.76 0 0 0 .2-.55.8.8 0 0 0-.05-.28.56.56 0 0 0-.13-.22.6.6 0 0 0-.23-.15.93.93 0 0 0-.32-.05.92.92 0 0 0-.29.05.72.72 0 0 0-.23.12.57.57 0 0 0-.21.46H12.4a1.3 1.3 0 0 1 .5-1.04c.15-.13.33-.23.54-.3a2.48 2.48 0 0 1 1.4 0c.2.06.4.15.55.28.15.13.27.28.36.47.08.19.13.4.13.65a1.15 1.15 0 0 1-.2.65 1.36 1.36 0 0 1-.58.49c.15.05.28.12.38.2a1.14 1.14 0 0 1 .43.62c.03.13.05.26.05.4 0 .25-.05.47-.14.66a1.42 1.42 0 0 1-.4.49c-.16.13-.35.23-.58.3a2.51 2.51 0 0 1-.73.1c-.22 0-.44-.03-.65-.09a1.8 1.8 0 0 1-.57-.28 1.43 1.43 0 0 1-.4-.47 1.41 1.41 0 0 1-.15-.66h1a.66.66 0 0 0 .22.5.87.87 0 0 0 .58.2c.25 0 .45-.07.6-.2a.71.71 0 0 0 .21-.56.97.97 0 0 0-.06-.36.61.61 0 0 0-.18-.25.74.74 0 0 0-.28-.15 1.33 1.33 0 0 0-.37-.04h-.55V9.7z" fill="'+fg+'"/>\n  </svg>'},headerCode:function headerCode(props){var fg=props.fgColor,bg=props.bgColor;return"\n    "+iconHead+'<rect x="2" y="2" width="16" height="16" rx="4" fill="'+bg+'"/><path d="m12.223 13.314 3.052-2.826a.65.65 0 0 0 0-.984l-3.052-2.822c-.27-.25-.634-.242-.865.022-.232.263-.206.636.056.882l2.601 2.41-2.601 2.41c-.262.245-.288.619-.056.882.231.263.595.277.865.026Zm-4.444.005c.266.25.634.241.866-.027.231-.263.206-.636-.06-.882L5.983 10l2.602-2.405c.266-.25.291-.62.06-.887-.232-.263-.596-.272-.866-.022L4.723 9.51a.653.653 0 0 0 0 .983l3.056 2.827Z" fill="'+fg+'"/></svg>'},headerString:function headerString(props){var fg=props.fgColor,bg=props.bgColor;return iconHead+'\n  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="'+bg+'"/>\n  <path d="M8.182 12.4h3.636l.655 1.6H14l-3.454-8H9.455L6 14h1.527l.655-1.6zM10 7.44l1.36 3.651H8.64L10 7.441z" fill="'+fg+'"/>\n</svg>'},headerBoolean:function headerBoolean(props){var fg=props.fgColor,bg=props.bgColor;return iconHead+'\n    <path\n        d="M16.2222 2H3.77778C2.8 2 2 2.8 2 3.77778V16.2222C2 17.2 2.8 18 3.77778 18H16.2222C17.2 18 17.9911 17.2 17.9911 16.2222L18 3.77778C18 2.8 17.2 2 16.2222 2Z"\n        fill="'+bg+'"\n    />\n    <path\n        fill-rule="evenodd"\n        clip-rule="evenodd"\n        d="M7.66667 6.66669C5.73368 6.66669 4.16667 8.15907 4.16667 10C4.16667 11.841 5.73368 13.3334 7.66667 13.3334H12.3333C14.2663 13.3334 15.8333 11.841 15.8333 10C15.8333 8.15907 14.2663 6.66669 12.3333 6.66669H7.66667ZM12.5 12.5C13.8807 12.5 15 11.3807 15 10C15 8.61931 13.8807 7.50002 12.5 7.50002C11.1193 7.50002 10 8.61931 10 10C10 11.3807 11.1193 12.5 12.5 12.5Z"\n        fill="'+fg+'"\n    />\n</svg>'},headerAudioUri:headerUri,headerVideoUri:function headerVideoUri(props){var fg=props.fgColor,bg=props.bgColor;return iconHead+'\n  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="'+bg+'"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M7 13.138a.5.5 0 00.748.434l5.492-3.138a.5.5 0 000-.868L7.748 6.427A.5.5 0 007 6.862v6.276z" fill="'+fg+'"/>\n</svg>'},headerEmoji:function headerEmoji(props){var fg=props.fgColor,bg=props.bgColor;return"\n    "+iconHead+'\n    <path d="M10 5a5 5 0 1 0 0 10 5 5 0 0 0 0-10zm0 9.17A4.17 4.17 0 0 1 5.83 10 4.17 4.17 0 0 1 10 5.83 4.17 4.17 0 0 1 14.17 10 4.17 4.17 0 0 1 10 14.17z" fill="'+fg+'"/>\n    <path d="M8.33 8.21a.83.83 0 1 0-.03 1.67.83.83 0 0 0 .03-1.67zm3.34 0a.83.83 0 1 0-.04 1.67.83.83 0 0 0 .04-1.67z" fill="'+fg+'"/>\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M14.53 13.9a2.82 2.82 0 0 1-5.06 0l.77-.38a1.97 1.97 0 0 0 3.52 0l.77.39z" fill="'+fg+'"/>\n    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="'+bg+'"/>\n    <path d="M10 4a6 6 0 1 0 0 12 6 6 0 0 0 0-12zm0 11a5 5 0 1 1 .01-10.01A5 5 0 0 1 10 15z" fill="'+fg+'"/>\n    <path d="M8 7.86a1 1 0 1 0-.04 2 1 1 0 0 0 .04-2zm4 0a1 1 0 1 0-.04 2 1 1 0 0 0 .04-2z" fill="'+fg+'"/>\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M12.53 11.9a2.82 2.82 0 0 1-5.06 0l.77-.38a1.97 1.97 0 0 0 3.52 0l.77.39z" fill="'+fg+'"/>\n  </svg>'},headerImage:function headerImage(props){var fg=props.fgColor,bg=props.bgColor;return iconHead+'\n  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="'+bg+'"/>\n  <path opacity=".5" fill-rule="evenodd" clip-rule="evenodd" d="M12.499 10.801a.5.5 0 01.835 0l2.698 4.098a.5.5 0 01-.418.775H10.22a.5.5 0 01-.417-.775l2.697-4.098z" fill="'+fg+'"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M8.07 8.934a.5.5 0 01.824 0l4.08 5.958a.5.5 0 01-.412.782h-8.16a.5.5 0 01-.413-.782l4.08-5.958zM13.75 8.333a2.083 2.083 0 100-4.166 2.083 2.083 0 000 4.166z" fill="'+fg+'"/>\n</svg>'},headerUri:headerUri,headerPhone:function headerPhone(props){var fg=props.fgColor,bg=props.bgColor;return"\n    "+iconHead+'\n    <path fill="'+fg+'" d="M3 3h14v14H3z"/>\n    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2zm-7.24 9.78h1.23c.15 0 .27.06.36.18l.98 1.28a.43.43 0 0 1-.05.58l-1.2 1.21a.45.45 0 0 1-.6.04A6.72 6.72 0 0 1 7.33 10c0-.61.1-1.2.25-1.78a6.68 6.68 0 0 1 2.12-3.3.44.44 0 0 1 .6.04l1.2 1.2c.16.17.18.42.05.59l-.98 1.29a.43.43 0 0 1-.36.17H8.98A5.38 5.38 0 0 0 8.67 10c0 .62.11 1.23.3 1.79z" fill="'+bg+'"/>\n  </svg>'},headerMarkdown:function headerMarkdown(props){var fg=props.fgColor,bg=props.bgColor;return"\n    "+iconHead+'\n    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="'+bg+'"/>\n    <path d="m13.49 13.15-2.32-3.27h1.4V7h1.86v2.88h1.4l-2.34 3.27zM11 13H9v-3l-1.5 1.92L6 10v3H4V7h2l1.5 2L9 7h2v6z" fill="'+fg+'"/>\n  </svg>'},headerDate:function headerDate(props){var fg=props.fgColor,bg=props.bgColor;return iconHead+'\n  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="'+bg+'"/>\n  <path d="M14.8 4.182h-.6V3H13v1.182H7V3H5.8v1.182h-.6c-.66 0-1.2.532-1.2 1.182v9.454C4 15.468 4.54 16 5.2 16h9.6c.66 0 1.2-.532 1.2-1.182V5.364c0-.65-.54-1.182-1.2-1.182zm0 10.636H5.2V7.136h9.6v7.682z" fill="'+fg+'"/>\n</svg>'},headerTime:function headerTime(props){var fg=props.fgColor,bg=props.bgColor;return"\n    "+iconHead+'\n    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="'+bg+'"/>\n    <path d="M10 4a6 6 0 0 0-6 6 6 6 0 0 0 6 6 6 6 0 0 0 6-6 6 6 0 0 0-6-6zm0 10.8A4.8 4.8 0 0 1 5.2 10a4.8 4.8 0 1 1 4.8 4.8z" fill="'+fg+'"/>\n    <path d="M10 7H9v3.93L12.5 13l.5-.8-3-1.76V7z" fill="'+fg+'"/>\n  </svg>'},headerEmail:function headerEmail(props){var fg=props.fgColor,bg=props.bgColor;return iconHead+'\n  <rect x="2" y="2" width="16" height="16" rx="2" fill="'+bg+'"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M10 8.643a1.357 1.357 0 100 2.714 1.357 1.357 0 000-2.714zM7.357 10a2.643 2.643 0 115.286 0 2.643 2.643 0 01-5.286 0z" fill="'+fg+'"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M7.589 4.898A5.643 5.643 0 0115.643 10v.5a2.143 2.143 0 01-4.286 0V8a.643.643 0 011.286 0v2.5a.857.857 0 001.714 0V10a4.357 4.357 0 10-1.708 3.46.643.643 0 01.782 1.02 5.643 5.643 0 11-5.842-9.582z" fill="'+fg+'"/>\n</svg>'},headerReference:function headerReference(props){var fg=props.fgColor,bg=props.bgColor;return"\n    "+iconHead+'\n    <rect x="2" y="8" width="10" height="8" rx="2" fill="'+bg+'"/>\n    <rect x="8" y="4" width="10" height="8" rx="2" fill="'+bg+'"/>\n    <path d="M10.68 7.73V6l2.97 3.02-2.97 3.02v-1.77c-2.13 0-3.62.7-4.68 2.2.43-2.15 1.7-4.31 4.68-4.74z" fill="'+fg+'"/>\n  </svg>'},headerIfThenElse:function headerIfThenElse(props){var fg=props.fgColor,bg=props.bgColor;return iconHead+'\n  <path fill="'+fg+'" d="M4 3h12v14H4z"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M3.6 2A1.6 1.6 0 002 3.6v12.8A1.6 1.6 0 003.6 18h12.8a1.6 1.6 0 001.6-1.6V3.6A1.6 1.6 0 0016.4 2H3.6zm11.3 10.8a.7.7 0 01.7.7v1.4a.7.7 0 01-.7.7h-1.4a.7.7 0 01-.7-.7v-1.4a.7.7 0 01.6-.693.117.117 0 00.1-.115V10.35a.117.117 0 00-.117-.116h-2.8a.117.117 0 00-.117.116v2.333c0 .064.053.117.117.117h.117a.7.7 0 01.7.7v1.4a.7.7 0 01-.7.7H9.3a.7.7 0 01-.7-.7v-1.4a.7.7 0 01.7-.7h.117a.117.117 0 00.117-.117V10.35a.117.117 0 00-.117-.117h-2.8a.117.117 0 00-.117.117v2.342c0 .058.042.106.1.115a.7.7 0 01.6.693v1.4a.7.7 0 01-.7.7H5.1a.7.7 0 01-.7-.7v-1.4a.7.7 0 01.7-.7h.35a.116.116 0 00.116-.117v-2.45c0-.515.418-.933.934-.933h2.917a.117.117 0 00.117-.117V6.85a.117.117 0 00-.117-.116h-2.45a.7.7 0 01-.7-.7V5.1a.7.7 0 01.7-.7h6.067a.7.7 0 01.7.7v.934a.7.7 0 01-.7.7h-2.45a.117.117 0 00-.118.116v2.333c0 .064.053.117.117.117H13.5c.516 0 .934.418.934.934v2.45c0 .063.052.116.116.116h.35z" fill="'+bg+'"/>\n</svg>'},headerSingleValue:function headerSingleValue(props){var fg=props.fgColor,bg=props.bgColor;return"\n    "+iconHead+'\n    <rect x="2" y="2" width="16" height="16" rx="2" fill="'+bg+'"/>\n    <path d="M9.98 13.33c.45 0 .74-.3.73-.75l-.01-.1-.16-1.67 1.45 1.05a.81.81 0 0 0 .5.18c.37 0 .72-.32.72-.76 0-.3-.17-.54-.49-.68l-1.63-.77 1.63-.77c.32-.14.49-.37.49-.67 0-.45-.34-.76-.71-.76a.81.81 0 0 0-.5.18l-1.47 1.03.16-1.74.01-.08c.01-.46-.27-.76-.72-.76-.46 0-.76.32-.75.76l.01.08.16 1.74-1.47-1.03a.77.77 0 0 0-.5-.18.74.74 0 0 0-.72.76c0 .3.17.53.49.67l1.63.77-1.62.77c-.32.14-.5.37-.5.68 0 .44.35.75.72.75a.78.78 0 0 0 .5-.17L9.4 10.8l-.16 1.68v.09c-.02.44.28.75.74.75z" fill="'+fg+'"/>\n  </svg>'},headerLookup:function headerLookup(props){var fg=props.fgColor,bg=props.bgColor;return"\n    "+iconHead+'\n    <rect x="2" y="2" width="16" height="16" rx="2" fill="'+bg+'"/>\n    <path d="M8 5.83H5.83a.83.83 0 0 0 0 1.67h1.69A4.55 4.55 0 0 1 8 5.83zm-.33 3.34H5.83a.83.83 0 0 0 0 1.66h2.72a4.57 4.57 0 0 1-.88-1.66zM5.83 12.5a.83.83 0 0 0 0 1.67h7.5a.83.83 0 1 0 0-1.67h-7.5zm8.8-2.9a3.02 3.02 0 0 0 .46-1.6c0-1.66-1.32-3-2.94-3C10.52 5 9.2 6.34 9.2 8s1.31 3 2.93 3c.58 0 1.11-.17 1.56-.47l2.04 2.08.93-.94-2.04-2.08zm-2.48.07c-.9 0-1.63-.75-1.63-1.67s.73-1.67 1.63-1.67c.9 0 1.63.75 1.63 1.67s-.73 1.67-1.63 1.67z" fill="'+fg+'"/>\n  </svg>'},headerTextTemplate:function headerTextTemplate(props){var fg=props.fgColor,bg=props.bgColor;return iconHead+'\n  <rect x="2" y="2" width="16" height="16" rx="2" fill="'+bg+'"/>\n  <path d="M7.676 4.726V3l2.976 3.021-2.976 3.022v-1.77c-2.125 0-3.613.69-4.676 2.201.425-2.158 1.7-4.316 4.676-4.748zM10.182 14.4h3.636l.655 1.6H16l-3.454-8h-1.091L8 16h1.527l.655-1.6zM12 9.44l1.36 3.65h-2.72L12 9.44z" fill="'+fg+'"/>\n</svg>'},headerMath:function headerMath(props){var fg=props.fgColor,bg=props.bgColor;return iconHead+'\n  <rect x="2" y="2" width="16" height="16" rx="2" fill="'+bg+'"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M4.167 5.417a.833.833 0 100 1.666h4.166a.833.833 0 100-1.666H4.167z" fill="'+fg+'"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M7.083 4.167a.833.833 0 10-1.666 0v4.166a.833.833 0 101.666 0V4.167zM11.667 5.417a.833.833 0 100 1.666h4.166a.833.833 0 100-1.666h-4.166zM5.367 11.688a.833.833 0 00-1.179 1.179l2.947 2.946a.833.833 0 001.178-1.178l-2.946-2.947z" fill="'+fg+'"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M8.313 12.867a.833.833 0 10-1.178-1.179l-2.947 2.947a.833.833 0 101.179 1.178l2.946-2.946z" fill="'+fg+'"/>\n  <path d="M10.833 12.5c0-.46.373-.833.834-.833h4.166a.833.833 0 110 1.666h-4.166a.833.833 0 01-.834-.833zM10.833 15c0-.46.373-.833.834-.833h4.166a.833.833 0 110 1.666h-4.166a.833.833 0 01-.834-.833z" fill="'+fg+'"/>\n</svg>'},headerRollup:function headerRollup(props){var fg=props.fgColor,bg=props.bgColor;return"\n    "+iconHead+'\n    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="'+bg+'"/>\n    <path d="M10 8.84a1.16 1.16 0 1 0 0 2.32 1.16 1.16 0 0 0 0-2.32zm3.02 3.61a3.92 3.92 0 0 0 .78-3.28.49.49 0 1 0-.95.2c.19.87-.02 1.78-.58 2.47a2.92 2.92 0 1 1-4.13-4.08 2.94 2.94 0 0 1 2.43-.62.49.49 0 1 0 .17-.96 3.89 3.89 0 1 0 2.28 6.27zM10 4.17a5.84 5.84 0 0 0-5.44 7.93.49.49 0 1 0 .9-.35 4.86 4.86 0 1 1 2.5 2.67.49.49 0 1 0-.4.88c.76.35 1.6.54 2.44.53a5.83 5.83 0 0 0 0-11.66zm3.02 3.5a.7.7 0 1 0-1.4 0 .7.7 0 0 0 1.4 0zm-6.97 5.35a.7.7 0 1 1 0 1.4.7.7 0 0 1 0-1.4z" fill="'+fg+'"/>\n  </svg>'},headerJoinStrings:function headerJoinStrings(props){var fg=props.fgColor,bg=props.bgColor;return iconHead+'\n  <rect x="2" y="2" width="16" height="16" rx="2" fill="'+bg+'"/>\n  <path d="M12.4 13.565c1.865-.545 3.645-2.083 3.645-4.396 0-1.514-.787-2.604-2.071-2.604C12.69 6.565 12 7.63 12 8.939c1.114.072 1.865.726 1.865 1.683 0 .933-.8 1.647-1.84 2.023l.375.92zM4 5h6v2H4zM4 9h5v2H4zM4 13h4v2H4z" fill="'+fg+'"/>\n</svg>'},headerSplitString:function headerSplitString(props){var fg=props.fgColor,bg=props.bgColor;return"\n    "+iconHead+'\n    <rect x="2" y="2" width="16" height="16" rx="2" fill="'+bg+'"/>\n    <path d="M12.4 13.56c1.86-.54 3.65-2.08 3.65-4.4 0-1.5-.8-2.6-2.08-2.6S12 7.64 12 8.95c1.11.07 1.86.73 1.86 1.68 0 .94-.8 1.65-1.83 2.03l.37.91zM4 5h6v2H4zm0 4h5v2H4zm0 4h4v2H4z" fill="'+fg+'"/>\n  </svg>'},headerGeoDistance:function headerGeoDistance(props){var fg=props.fgColor,bg=props.bgColor;return iconHead+'\n  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="'+bg+'"/>\n  <path d="M10 7a1 1 0 100-2v2zm0 6a1 1 0 100 2v-2zm0-8H7v2h3V5zm-3 6h5V9H7v2zm5 2h-2v2h2v-2zm1-1a1 1 0 01-1 1v2a3 3 0 003-3h-2zm-1-1a1 1 0 011 1h2a3 3 0 00-3-3v2zM4 8a3 3 0 003 3V9a1 1 0 01-1-1H4zm3-3a3 3 0 00-3 3h2a1 1 0 011-1V5z" fill="'+fg+'"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M4.856 12.014a.5.5 0 00-.712.702L5.409 14l-1.265 1.284a.5.5 0 00.712.702l1.255-1.274 1.255 1.274a.5.5 0 00.712-.702L6.813 14l1.265-1.284a.5.5 0 00-.712-.702L6.11 13.288l-1.255-1.274zM12.856 4.014a.5.5 0 00-.712.702L13.409 6l-1.265 1.284a.5.5 0 10.712.702l1.255-1.274 1.255 1.274a.5.5 0 10.712-.702L14.813 6l1.265-1.284a.5.5 0 00-.712-.702L14.11 5.288l-1.255-1.274z" fill="'+fg+'"/>\n</svg>'},headerArray:function headerArray(props){var fg=props.fgColor,bg=props.bgColor;return iconHead+'\n  <rect x="2" y="2" width="16" height="16" rx="2" fill="'+bg+'"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M14.25 7.25a.75.75 0 000-1.5h-6.5a.75.75 0 100 1.5h6.5zM15 10a.75.75 0 01-.75.75h-6.5a.75.75 0 010-1.5h6.5A.75.75 0 0115 10zm-.75 4.25a.75.75 0 000-1.5h-6.5a.75.75 0 000 1.5h6.5zm-8.987-7a.75.75 0 100-1.5.75.75 0 000 1.5zm.75 2.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm-.75 4.25a.75.75 0 100-1.5.75.75 0 000 1.5z" fill="'+fg+'"/>\n</svg>'},rowOwnerOverlay:function rowOwnerOverlay(props){var fg=props.fgColor;return'\n    <svg width="18" height="18" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M2 15v1h14v-2.5c0-.87-.44-1.55-.98-2.04a6.19 6.19 0 0 0-1.9-1.14 12.1 12.1 0 0 0-2.48-.67A4 4 0 1 0 5 6a4 4 0 0 0 2.36 3.65c-.82.13-1.7.36-2.48.67-.69.28-1.37.65-1.9 1.13A2.8 2.8 0 0 0 2 13.5V15z" fill="'+props.bgColor+'" stroke="'+fg+'" stroke-width="2"/>\n  </svg>'},protectedColumnOverlay:function protectedColumnOverlay(props){var fg=props.fgColor;return'\n    <svg width="18" height="18" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M12.43 6.04v-.18a3.86 3.86 0 0 0-7.72 0v.18A2.15 2.15 0 0 0 3 8.14v5.72C3 15.04 3.96 16 5.14 16H12c1.18 0 2.14-.96 2.14-2.14V8.14c0-1.03-.73-1.9-1.71-2.1zM7.86 6v-.14a.71.71 0 1 1 1.43 0V6H7.86z" fill="'+props.bgColor+'" stroke="'+fg+'" stroke-width="2"/>\n  </svg>\n'}};function data_grid_sprites_toConsumableArray(arr){return function data_grid_sprites_arrayWithoutHoles(arr){if(Array.isArray(arr))return data_grid_sprites_arrayLikeToArray(arr)}(arr)||function data_grid_sprites_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||data_grid_sprites_unsupportedIterableToArray(arr)||function data_grid_sprites_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function data_grid_sprites_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=data_grid_sprites_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function data_grid_sprites_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function data_grid_sprites_slicedToArray(arr,i){return function data_grid_sprites_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function data_grid_sprites_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||data_grid_sprites_unsupportedIterableToArray(arr,i)||function data_grid_sprites_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function data_grid_sprites_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return data_grid_sprites_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?data_grid_sprites_arrayLikeToArray(o,minLen):void 0}}function data_grid_sprites_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function data_grid_sprites_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var variantList=["normal","selected","special"];function makeExtraMapIndex(bgColor,fgColor){return bgColor+"|"+fgColor}function getColors(variant,theme){return"normal"===variant?[theme.bgIconHeader,theme.fgIconHeader]:"selected"===variant?["white",theme.accentColor]:[theme.accentColor,theme.bgHeader]}var data_grid_sprites_SpriteManager=function(){function SpriteManager(headerIcons){!function data_grid_sprites_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SpriteManager),this.colorMap=[],this.spriteCanvas=void 0,this.spriteList=void 0,this.headerIcons=void 0,this.headerIcons=Object.assign({},sprites,null!=headerIcons?headerIcons:{}),this.spriteList=Object.keys(this.headerIcons)}var _buildSpriteMap;return function data_grid_sprites_createClass(Constructor,protoProps,staticProps){return protoProps&&data_grid_sprites_defineProperties(Constructor.prototype,protoProps),staticProps&&data_grid_sprites_defineProperties(Constructor,staticProps),Constructor}(SpriteManager,[{key:"drawSprite",value:function drawSprite(sprite,variant,ctx,x,y,size,theme){if(void 0===this.spriteCanvas)throw new Error;var spriteIndex=this.spriteList.indexOf(sprite);if(-1===spriteIndex)throw new Error("Unknown header icon: "+sprite);var _getColors2=data_grid_sprites_slicedToArray(getColors(variant,theme),2),bgColor=_getColors2[0],fgColor=_getColors2[1],variantIndex=this.colorMap.indexOf(makeExtraMapIndex(bgColor,fgColor)),xOffset=40*spriteIndex,yOffset=Math.max(0,40*variantIndex);ctx.drawImage(this.spriteCanvas,xOffset,yOffset,40,40,x,y,size,size)}},{key:"buildSpriteMap",value:(_buildSpriteMap=function data_grid_sprites_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){data_grid_sprites_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){data_grid_sprites_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(theme,cols){var map,_iterator,_step,v,_getColors3,_getColors4,bg,fg,_iterator2,_step2,c,_c$themeOverride,_c$themeOverride2,finalTheme,_iterator5,_step5,_v,_getColors5,_getColors6,_bg,_fg,newMap,hasDiff,_iterator3,_step3,_ref,_ref2,index,ctx,x,_iterator4,_step4,_key,sprite,y,_iterator6,_step6,ex,_getColorsForIndex2,bgColor,fgColor,imgSource;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:map=new Set,_iterator=data_grid_sprites_createForOfIteratorHelper(variantList);try{for(_iterator.s();!(_step=_iterator.n()).done;)v=_step.value,_getColors3=getColors(v,theme),_getColors4=data_grid_sprites_slicedToArray(_getColors3,2),bg=_getColors4[0],fg=_getColors4[1],map.add(makeExtraMapIndex(bg,fg))}catch(err){_iterator.e(err)}finally{_iterator.f()}_iterator2=data_grid_sprites_createForOfIteratorHelper(cols);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;)if(c=_step2.value,void 0!==(null===(_c$themeOverride=c.themeOverride)||void 0===_c$themeOverride?void 0:_c$themeOverride.bgIconHeader)||void 0!==(null===(_c$themeOverride2=c.themeOverride)||void 0===_c$themeOverride2?void 0:_c$themeOverride2.fgIconHeader)){finalTheme=Object.assign({},theme,c.themeOverride),_iterator5=data_grid_sprites_createForOfIteratorHelper(variantList);try{for(_iterator5.s();!(_step5=_iterator5.n()).done;)_v=_step5.value,_getColors5=getColors(_v,finalTheme),_getColors6=data_grid_sprites_slicedToArray(_getColors5,2),_bg=_getColors6[0],_fg=_getColors6[1],map.add(makeExtraMapIndex(_bg,_fg))}catch(err){_iterator5.e(err)}finally{_iterator5.f()}}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}(newMap=data_grid_sprites_toConsumableArray(map)).sort(),hasDiff=!1,_iterator3=data_grid_sprites_createForOfIteratorHelper(newMap.entries()),_context.prev=9,_iterator3.s();case 11:if((_step3=_iterator3.n()).done){_context.next=21;break}if(_ref=_step3.value,_ref2=data_grid_sprites_slicedToArray(_ref,2),index=_ref2[0],_ref2[1]===this.colorMap[index]){_context.next=19;break}return hasDiff=!0,_context.abrupt("break",21);case 19:_context.next=11;break;case 21:_context.next=26;break;case 23:_context.prev=23,_context.t0=_context.catch(9),_iterator3.e(_context.t0);case 26:return _context.prev=26,_iterator3.f(),_context.finish(26);case 29:if(hasDiff){_context.next=31;break}return _context.abrupt("return",!1);case 31:if(this.colorMap=newMap,this.spriteCanvas=document.createElement("canvas"),this.spriteCanvas.width=40*this.spriteList.length,this.spriteCanvas.height=40*this.colorMap.length,null!==(ctx=this.spriteCanvas.getContext("2d"))){_context.next=38;break}return _context.abrupt("return",!1);case 38:x=0,_iterator4=data_grid_sprites_createForOfIteratorHelper(this.spriteList),_context.prev=40,_iterator4.s();case 42:if((_step4=_iterator4.n()).done){_context.next=71;break}_key=_step4.value,sprite=this.headerIcons[_key],y=0,_iterator6=data_grid_sprites_createForOfIteratorHelper(this.colorMap),_context.prev=47,_iterator6.s();case 49:if((_step6=_iterator6.n()).done){_context.next=60;break}return ex=_step6.value,r=void 0,assert(2===(r=ex.split("|")).length),_getColorsForIndex2=data_grid_sprites_slicedToArray(r,2),bgColor=_getColorsForIndex2[0],fgColor=_getColorsForIndex2[1],(imgSource=new Image).src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(sprite({fgColor:fgColor,bgColor:bgColor})),_context.next=56,imgSource.decode();case 56:ctx.drawImage(imgSource,x,y,40,40),y+=40;case 58:_context.next=49;break;case 60:_context.next=65;break;case 62:_context.prev=62,_context.t1=_context.catch(47),_iterator6.e(_context.t1);case 65:return _context.prev=65,_iterator6.f(),_context.finish(65);case 68:x+=40;case 69:_context.next=42;break;case 71:_context.next=76;break;case 73:_context.prev=73,_context.t2=_context.catch(40),_iterator4.e(_context.t2);case 76:return _context.prev=76,_iterator4.f(),_context.finish(76);case 79:return _context.abrupt("return",!0);case 80:case"end":return _context.stop()}var r}),_callee,this,[[9,23,26,29],[40,73,76,79],[47,62,65,68]])}))),function buildSpriteMap(_x,_x2){return _buildSpriteMap.apply(this,arguments)})}]),SpriteManager}(),lodash_range=__webpack_require__(98),range_default=__webpack_require__.n(lodash_range),cache=(__webpack_require__(389),{}),div=null;function parseToRgba(color){var normalizedColor=color.toLowerCase().trim();if(void 0!==cache[normalizedColor])return cache[normalizedColor];(div=div||function createDiv(){var d=document.createElement("div");return d.classList.add("color2k-parser"),d.style.opacity="0",d.style.pointerEvents="none",d.style.position="fixed",document.body.appendChild(d),d}()).style.color="#000",div.style.color=normalizedColor;var control=getComputedStyle(div).color;div.style.color="#fff",div.style.color=normalizedColor;var computedColor=getComputedStyle(div).color;if(computedColor!==control)throw new Error("Could not parse color");var result=computedColor.replace(/[^\d.,]/g,"").split(",").map(parseFloat);return result.length<4&&result.push(1),cache[normalizedColor]=result,result}function data_grid_render_slicedToArray(arr,i){return function data_grid_render_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function data_grid_render_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||data_grid_render_unsupportedIterableToArray(arr,i)||function data_grid_render_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function data_grid_render_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=data_grid_render_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function data_grid_render_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return data_grid_render_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?data_grid_render_arrayLikeToArray(o,minLen):void 0}}function data_grid_render_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function data_grid_render_drawCell(ctx,row,cell,col,x,y,w,h,highlighted,theme,drawCustomCell,imageLoader,hoverAmount,hoverInfo){var hoverX,hoverY;(void 0!==hoverInfo&&hoverInfo[0][0]===col&&hoverInfo[0][1]===row&&(hoverX=hoverInfo[1][0],hoverY=hoverInfo[1][1]),!isInnerOnlyCell(cell)&&!0===(null==drawCustomCell?void 0:drawCustomCell({ctx:ctx,cell:cell,theme:theme,rect:{x:x,y:y,width:w,height:h},hoverAmount:hoverAmount,hoverX:hoverX,hoverY:hoverY,highlighted:highlighted,imageLoader:imageLoader}))||cell.kind===GridCellKind.Custom)||CellRenderers[cell.kind].render({ctx:ctx,theme:theme,col:col,row:row,cell:cell,x:x,y:y,w:w,h:h,highlighted:highlighted,hoverAmount:hoverAmount,hoverX:hoverX,hoverY:hoverY,imageLoader:imageLoader})}function drawGridLines(ctx,effectiveCols,cellYOffset,translateX,translateY,width,height,headerHeight,getRowHeight,verticalBorder,lastRowSticky,rows,theme){var verticalOnly=arguments.length>13&&void 0!==arguments[13]&&arguments[13];ctx.beginPath(),ctx.moveTo(0,headerHeight+.5),ctx.lineTo(width,headerHeight+.5),ctx.strokeStyle=theme.bgHeader,ctx.lineWidth=1,ctx.stroke(),ctx.beginPath();for(var x=.5,index=0;index<effectiveCols.length;index++){var c=effectiveCols[index];x+=c.width;var tx=c.sticky?x:x+translateX;(index===effectiveCols.length-1||verticalBorder(index+1))&&(ctx.moveTo(tx,0),ctx.lineTo(tx,height))}var stickyHeight=getRowHeight(rows-1),stickyRowY=height-stickyHeight+.5;if(lastRowSticky&&(ctx.moveTo(0,stickyRowY),ctx.lineTo(width,stickyRowY)),!0!==verticalOnly)for(var y=headerHeight+.5,row=cellYOffset,isHeader=!0,target=lastRowSticky?height-stickyHeight:height;y+translateY<=target;){var ty=isHeader?y:y+translateY;(!lastRowSticky||row!==rows-1||Math.abs(ty-stickyRowY)>1)&&(ctx.moveTo(0,ty),ctx.lineTo(width,ty)),y+=getRowHeight(row),isHeader=!1,row++}ctx.strokeStyle=theme.borderColor,ctx.lineWidth=1,ctx.stroke(),ctx.beginPath()}function drawGridHeaders(ctx,effectiveCols,enableGroups,hoveredCol,width,height,translateX,headerHeight,selectedColumns,dragAndDropState,isResizing,selectedCell,outerTheme,spriteManager,hoverValues,verticalBorder){if(0!==headerHeight){ctx.fillStyle=outerTheme.bgHeader,ctx.fillRect(0,0,width,headerHeight);var trueHeaderHeight=enableGroups?headerHeight/2:headerHeight,x=0,clipX=0,font=outerTheme.headerFontStyle+" "+outerTheme.fontFamily;ctx.font=font;var _step,_loop=function _loop(c){var theme=void 0===c.themeOverride?outerTheme:Object.assign({},outerTheme,c.themeOverride),f=theme.headerFontStyle+" "+theme.fontFamily;font!==f&&(ctx.font=f,font=f);var selected=selectedColumns.hasIndex(c.sourceIndex),noHover=void 0!==dragAndDropState||isResizing,hoveredBoolean=!noHover&&hoveredCol===c.sourceIndex,hover=noHover?0:null!==(_hoverValues$find$hov=null===(_hoverValues$find=hoverValues.find((function(s){return s.item[0]===c.sourceIndex&&void 0===s.item[1]})))||void 0===_hoverValues$find?void 0:_hoverValues$find.hoverAmount)&&void 0!==_hoverValues$find$hov?_hoverValues$find$hov:0,hasSelectedCell=void 0!==selectedCell&&selectedCell.cell[0]===c.sourceIndex,fillStyle=selected?theme.textHeaderSelected:theme.textHeader,bgFillStyle=selected?theme.accentColor:hasSelectedCell?theme.bgHeaderHasFocus:theme.bgHeader;ctx.save(),c.sticky?clipX=Math.max(clipX,x+c.width):(ctx.beginPath(),ctx.rect(clipX,0,width,height),ctx.clip(),ctx.translate(translateX,0));var y=enableGroups?headerHeight/2:0,xOffset=0===c.sourceIndex?0:1;selected?(ctx.fillStyle=bgFillStyle,ctx.fillRect(x+xOffset,y,c.width-xOffset,trueHeaderHeight)):(hasSelectedCell||hover>0)&&(ctx.beginPath(),ctx.rect(x+xOffset,y,c.width-xOffset,trueHeaderHeight),hasSelectedCell&&(ctx.fillStyle=theme.bgHeaderHasFocus,ctx.fill()),hover>0&&(ctx.globalAlpha=hover,ctx.fillStyle=theme.bgHeaderHovered,ctx.fill(),ctx.globalAlpha=1)),ctx.beginPath(),ctx.rect(x+8,2,c.width-8,headerHeight-4),ctx.clip();var drawX=x+8;if(void 0!==c.icon){var variant=selected?"selected":"normal";"highlight"===c.style&&(variant=selected?"selected":"special"),spriteManager.drawSprite(c.icon,variant,ctx,drawX,y+(trueHeaderHeight-20)/2,20,theme),void 0!==c.overlayIcon&&spriteManager.drawSprite(c.overlayIcon,selected?"selected":"special",ctx,drawX+9,y+((trueHeaderHeight-18)/2+6),18,theme),drawX+=26}if(hoveredBoolean&&!0===c.hasMenu){var fadeStart=c.width-35,fadeEnd=c.width-24.5,fadeStartPercent=fadeStart/c.width,fadeEndPercent=fadeEnd/c.width,grad=ctx.createLinearGradient(x,0,x+c.width,0),_parseToRgba2=data_grid_render_slicedToArray(parseToRgba(fillStyle),3),r=_parseToRgba2[0],g=_parseToRgba2[1],b=_parseToRgba2[2];grad.addColorStop(0,fillStyle),grad.addColorStop(fadeStartPercent,fillStyle),grad.addColorStop(fadeEndPercent,"rgba("+r+", "+g+", "+b+", 0)"),grad.addColorStop(1,"rgba("+r+", "+g+", "+b+", 0)"),ctx.fillStyle=grad}else ctx.fillStyle=fillStyle;if(ctx.fillText(c.title,drawX,y+(trueHeaderHeight/2+5)),hoveredBoolean&&!0===c.hasMenu){ctx.beginPath();var triangleX=x+c.width-20,triangleY=y+(trueHeaderHeight/2-3);!function roundedPoly(ctx,points,radiusAll){for(var asVec=function asVec(p,pp){var vx=pp.x-p.x,vy=pp.y-p.y,vlen=Math.sqrt(vx*vx+vy*vy),vnx=vx/vlen,vny=vy/vlen;return{x:vx,y:pp.y-p.y,len:vlen,nx:vnx,ny:vny,ang:Math.atan2(vny,vnx)}},radius=radiusAll,len=points.length,p1=points[len-1],i=0;i<len;i++){var p2=points[i%len],p3=points[(i+1)%len],v1=asVec(p2,p1),v2=asVec(p2,p3),sinA=v1.nx*v2.ny-v1.ny*v2.nx,sinA90=v1.nx*v2.nx-v1.ny*-v2.ny,angle=Math.asin(sinA<-1?-1:sinA>1?1:sinA),radDirection=1,drawDirection=!1;sinA90<0?angle<0?angle=Math.PI+angle:(angle=Math.PI-angle,radDirection=-1,drawDirection=!0):angle>0&&(radDirection=-1,drawDirection=!0),radius=void 0!==p2.radius?p2.radius:radiusAll;var halfAngle=angle/2,lenOut=Math.abs(Math.cos(halfAngle)*radius/Math.sin(halfAngle)),cRadius=void 0;lenOut>Math.min(v1.len/2,v2.len/2)?(lenOut=Math.min(v1.len/2,v2.len/2),cRadius=Math.abs(lenOut*Math.sin(halfAngle)/Math.cos(halfAngle))):cRadius=radius;var x=p2.x+v2.nx*lenOut,y=p2.y+v2.ny*lenOut;x+=-v2.ny*cRadius*radDirection,y+=v2.nx*cRadius*radDirection,ctx.arc(x,y,cRadius,v1.ang+Math.PI/2*radDirection,v2.ang-Math.PI/2*radDirection,drawDirection),p1=p2,p2=p3}ctx.closePath()}(ctx,[{x:triangleX,y:triangleY},{x:triangleX+11,y:triangleY},{x:triangleX+5.5,y:triangleY+6}],1),ctx.fillStyle=fillStyle,ctx.fill()}ctx.restore(),x+=c.width},_iterator=data_grid_render_createForOfIteratorHelper(effectiveCols);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _hoverValues$find$hov,_hoverValues$find;_loop(_step.value)}}catch(err){_iterator.e(err)}finally{_iterator.f()}enableGroups&&function drawGroups(ctx,effectiveCols,width,height,translateX,headerHeight,theme,verticalBorder){for(var trueHeaderHeight=headerHeight/2,x=0,clipX=0,index=0;index<effectiveCols.length;index++){var _theme$textGroupHeade,startCol=effectiveCols[index],group=startCol.group,end=index+1,boxWidth=startCol.width;for(startCol.sticky&&(clipX+=boxWidth);end<effectiveCols.length&&effectiveCols[end].group===group&&effectiveCols[end].sticky===effectiveCols[index].sticky;){var endCol=effectiveCols[end];boxWidth+=endCol.width,end++,index++,endCol.sticky&&(clipX+=endCol.width)}var localX=x+(startCol.sticky?0:translateX);ctx.save(),ctx.beginPath();var delta=startCol.sticky?0:Math.max(0,clipX-localX);ctx.rect(localX+delta,0,boxWidth-delta,height),ctx.clip(),ctx.fillStyle=null!==(_theme$textGroupHeade=theme.textGroupHeader)&&void 0!==_theme$textGroupHeade?_theme$textGroupHeade:theme.textHeader,void 0!==group&&ctx.fillText(group,localX+delta+8,trueHeaderHeight/2+5),verticalBorder(startCol.sourceIndex)&&(ctx.beginPath(),ctx.moveTo(localX+delta+.5,0),ctx.lineTo(localX+delta+.5,trueHeaderHeight),ctx.strokeStyle=theme.borderColor,ctx.lineWidth=1,ctx.stroke()),ctx.restore(),x+=boxWidth}ctx.beginPath(),ctx.moveTo(x+.5,0),ctx.lineTo(x+.5,trueHeaderHeight),ctx.moveTo(0,trueHeaderHeight+.5),ctx.lineTo(width,trueHeaderHeight+.5),ctx.strokeStyle=theme.borderColor,ctx.lineWidth=1,ctx.stroke()}(ctx,effectiveCols,width,height,translateX,headerHeight,outerTheme,verticalBorder)}}function intersectRect(x1,y1,w1,h1,x2,y2,w2,h2){return x1<=x2+w2&&x2<=x1+w1&&y1<=y2+h2&&y2<=y1+h1}function drawCells(ctx,effectiveColumns,height,headerHeight,translateX,translateY,cellYOffset,rows,getRowHeight,getCellContent,selectedRows,disabledRows,lastRowSticky,drawRegions,damage,selectedCell,selectedColumns,prelightCells,drawCustomCell,imageLoader,hoverValues,hoverInfo,outerTheme){var _damage$length,toDraw=null!==(_damage$length=null==damage?void 0:damage.length)&&void 0!==_damage$length?_damage$length:Number.MAX_SAFE_INTEGER;walkColumns(effectiveColumns,cellYOffset,translateX,translateY,headerHeight,(function(c,drawX,colDrawY,clipX,startRow){var diff=Math.max(0,clipX-drawX);ctx.save(),ctx.beginPath(),ctx.rect(drawX+diff,headerHeight+1,c.width-diff,height-headerHeight-1),ctx.clip();var colTheme=void 0===c.themeOverride?outerTheme:Object.assign({},outerTheme,c.themeOverride);return walkRowsInCol(startRow,colDrawY,height,rows,getRowHeight,lastRowSticky,(function(drawY,row,rh,isSticky){var _hoverValue$hoverAmou;if((void 0===damage||damage.some((function(d){return d[0]===c.sourceIndex&&d[1]===row})))&&(!(drawRegions.length>0)||drawRegions.some((function(dr){return intersectRect(drawX,drawY,c.width,rh,dr.x,dr.y,dr.width,dr.height)})))){var rowSelected=selectedRows.hasIndex(row),rowDisabled=disabledRows.hasIndex(row),cell=row<rows?getCellContent([c.sourceIndex,row]):{kind:GridCellKind.Loading,allowOverlay:!1},theme=void 0===cell.themeOverride?outerTheme:Object.assign({},colTheme,cell.themeOverride);ctx.beginPath();var highlighted=(null==selectedCell?void 0:selectedCell.cell[0])===c.sourceIndex&&(null==selectedCell?void 0:selectedCell.cell[1])===row||!isSticky&&(rowSelected||selectedColumns.hasIndex(c.sourceIndex));if(void 0!==(null==selectedCell?void 0:selectedCell.range)){var range=selectedCell.range;c.sourceIndex>=range.x&&c.sourceIndex<range.x+range.width&&row>=range.y&&row<range.y+range.height&&(highlighted=!0)}(isSticky||theme.bgCell!==outerTheme.bgCell)&&(ctx.fillStyle=theme.bgCell,ctx.fillRect(drawX,drawY,c.width,rh)),highlighted||rowDisabled?(rowDisabled&&(ctx.fillStyle=theme.bgHeader,ctx.fillRect(drawX,drawY,c.width,rh)),highlighted&&(ctx.fillStyle=theme.accentLight,ctx.fillRect(drawX,drawY,c.width,rh))):void 0!==(null==prelightCells?void 0:prelightCells.find((function(pre){return pre[0]===c.sourceIndex&&pre[1]===row})))&&(ctx.fillStyle=theme.bgSearchResult,ctx.fillRect(drawX,drawY,c.width,rh)),"faded"===cell.style&&(ctx.globalAlpha=.6);var hoverValue=hoverValues.find((function(hv){return hv.item[0]===c.sourceIndex&&hv.item[1]===row}));return data_grid_render_drawCell(ctx,row,cell,c.sourceIndex,drawX,drawY,c.width,rh,highlighted,theme,drawCustomCell,imageLoader,null!==(_hoverValue$hoverAmou=null==hoverValue?void 0:hoverValue.hoverAmount)&&void 0!==_hoverValue$hoverAmou?_hoverValue$hoverAmou:0,hoverInfo),ctx.globalAlpha=1,--toDraw<=0}})),ctx.restore(),toDraw<=0}))}function drawFocusRing(ctx,width,height,cellYOffset,translateX,translateY,effectiveCols,theme,headerHeight,selectedCell,getRowHeight,lastRowSticky,rows){if(void 0!==selectedCell&&!effectiveCols.find((function(c){return c.sourceIndex===selectedCell.cell[0]===void 0}))){var _selectedCell$cell=data_grid_render_slicedToArray(selectedCell.cell,2),targetCol=_selectedCell$cell[0],targetRow=_selectedCell$cell[1],stickRowHeight=lastRowSticky&&!(lastRowSticky&&targetRow===rows-1)?getRowHeight(rows-1)-1:0;ctx.beginPath(),ctx.rect(0,headerHeight,width,height-headerHeight-stickRowHeight),ctx.clip(),walkColumns(effectiveCols,cellYOffset,translateX,translateY,headerHeight,(function(col,drawX,colDrawY,clipX,startRow){col.sourceIndex===targetCol&&walkRowsInCol(startRow,colDrawY,height,rows,getRowHeight,lastRowSticky,(function(drawY,row,rh){var _col$themeOverride$ac,_col$themeOverride;if(row===targetRow){if(ctx.save(),clipX>drawX){var diff=Math.max(0,clipX-drawX);ctx.beginPath(),ctx.rect(drawX+diff,drawY,col.width-diff+1,rh+1),ctx.clip()}ctx.beginPath(),ctx.rect(drawX+.5,drawY+.5,col.width,rh),ctx.strokeStyle=null!==(_col$themeOverride$ac=null===(_col$themeOverride=col.themeOverride)||void 0===_col$themeOverride?void 0:_col$themeOverride.accentColor)&&void 0!==_col$themeOverride$ac?_col$themeOverride$ac:theme.accentColor,ctx.lineWidth=1,ctx.stroke(),ctx.restore()}}))}))}}function drawGrid(canvas,buffers,width,height,cellXOffset,cellYOffset,translateX,translateY,columns,mappedColumns,enableGroups,freezeColumns,dragAndDropState,theme,headerHeight,selectedRows,disabledRows,rowHeight,verticalBorder,selectedColumns,hoveredCol,isResizing,selectedCell,lastRowSticky,rows,getCellContent,drawCustomCell,prelightCells,imageLoader,lastBlitData,canBlit,damage,hoverValues,hoverInfo,spriteManager,scrolling){var _window$devicePixelRa;if(0!==width&&0!==height){var dpr=scrolling?1:Math.ceil(null!==(_window$devicePixelRa=window.devicePixelRatio)&&void 0!==_window$devicePixelRa?_window$devicePixelRa:1);canvas.width===width*dpr&&canvas.height===height*dpr||(canvas.width=width*dpr,canvas.height=height*dpr);var overlayCanvas=buffers.overlay;overlayCanvas.width===width*dpr&&overlayCanvas.height===headerHeight*dpr||(overlayCanvas.width=width*dpr,overlayCanvas.height=headerHeight*dpr);var last=lastBlitData.current;if(!0!==canBlit||cellXOffset!==last.cellXOffset||cellYOffset!==last.cellYOffset||translateX!==last.translateX||translateY!==last.translateY){var targetCtx=canvas.getContext("2d",{alpha:!1}),overlayCtx=overlayCanvas.getContext("2d",{alpha:!1});if(null!==overlayCtx&&null!==targetCtx){var getRowHeight=function getRowHeight(r){return"number"==typeof rowHeight?rowHeight:rowHeight(r)};overlayCtx.save(),overlayCtx.beginPath(),targetCtx.save(),targetCtx.beginPath(),targetCtx.font=theme.baseFontStyle+" "+theme.fontFamily,overlayCtx.font=theme.baseFontStyle+" "+theme.fontFamily,1!==dpr&&(overlayCtx.scale(dpr,dpr),targetCtx.scale(dpr,dpr));var effectiveCols=getEffectiveColumns(mappedColumns,cellXOffset,width,dragAndDropState,translateX),drawRegions=[],drawHeaderTexture=function drawHeaderTexture(){drawGridHeaders(overlayCtx,effectiveCols,enableGroups,hoveredCol,width,height,translateX,headerHeight,selectedColumns,dragAndDropState,isResizing,selectedCell,theme,spriteManager,hoverValues,verticalBorder),enableGroups&&(overlayCtx.save(),overlayCtx.rect(0,headerHeight/2,width,headerHeight/2),overlayCtx.clip()),drawGridLines(overlayCtx,effectiveCols,cellYOffset,translateX,translateY,width,height,headerHeight,getRowHeight,verticalBorder,lastRowSticky,rows,theme,!0),enableGroups&&overlayCtx.restore()};if(void 0!==damage){(damage=damage.filter((function(x){return void 0===x[1]||intersectRect(cellXOffset,cellYOffset,effectiveCols.length,300,x[0],x[1],1,1)||intersectRect(0,cellYOffset,freezeColumns,300,x[0],x[1],1,1)}))).length>0&&(!function clipDamage(ctx,effectiveColumns,height,headerHeight,translateX,translateY,cellYOffset,rows,getRowHeight,lastRowSticky,damage){if(void 0!==damage&&0!==damage.length){var stickyRowHeight=lastRowSticky?getRowHeight(rows-1):0;ctx.beginPath(),walkColumns(effectiveColumns,cellYOffset,translateX,translateY,headerHeight,(function(c,drawX,colDrawY,clipX,startRow){var diff=Math.max(0,clipX-drawX);walkRowsInCol(startRow,colDrawY,height,rows,getRowHeight,lastRowSticky,(function(drawY,row,rh,isSticky){if(damage.some((function(d){return d[0]===c.sourceIndex&&d[1]===row}))){var top=drawY+1,bottom=isSticky?top+rh-1:Math.min(top+rh-1,height-stickyRowHeight),x=drawX+diff+1,y=top,w=c.width-diff-1,h=bottom-top;h>0&&ctx.rect(x,y,w,h)}}))})),ctx.clip()}}(targetCtx,effectiveCols,height,headerHeight,translateX,translateY,cellYOffset,rows,getRowHeight,lastRowSticky,damage),targetCtx.fillStyle=theme.bgCell,targetCtx.fillRect(0,headerHeight+1,width,height-headerHeight-1),drawCells(targetCtx,effectiveCols,height,headerHeight,translateX,translateY,cellYOffset,rows,getRowHeight,getCellContent,selectedRows,disabledRows,lastRowSticky,drawRegions,damage,selectedCell,selectedColumns,prelightCells,drawCustomCell,imageLoader,hoverValues,hoverInfo,theme));var doHeaders=damage.some((function(d){return void 0===d[1]}));return doHeaders&&drawHeaderTexture(),targetCtx.restore(),overlayCtx.restore(),void(doHeaders&&headerHeight>0&&(targetCtx.imageSmoothingEnabled=!1,targetCtx.drawImage(overlayCanvas,0,0),targetCtx.imageSmoothingEnabled=!1))}if(!0===canBlit){var _blitLastFrame=function blitLastFrame(ctx,canvas,last,cellXOffset,cellYOffset,translateX,translateY,lastRowSticky,width,height,rows,headerHeight,dpr,columns,effectiveCols,getRowHeight){var drawRegions=[],blittedYOnly=!1;ctx.imageSmoothingEnabled=!1;for(var minY=Math.min(last.cellYOffset,cellYOffset),maxY=Math.max(last.cellYOffset,cellYOffset),deltaY=0,i=minY;i<maxY;i++)deltaY+=getRowHeight(i);cellYOffset>last.cellYOffset&&(deltaY=-deltaY),deltaY+=translateY-last.translateY;for(var minX=Math.min(last.cellXOffset,cellXOffset),maxX=Math.max(last.cellXOffset,cellXOffset),deltaX=0,_i=minX;_i<maxX;_i++)deltaX+=columns[_i].width;cellXOffset>last.cellXOffset&&(deltaX=-deltaX),deltaX+=translateX-last.translateX;var stickyWidth=getStickyWidth(effectiveCols);if(stickyWidth>0&&stickyWidth++,0!==deltaX&&0!==deltaY)return{regions:[],yOnly:!1};var stickyRowHeight=lastRowSticky?getRowHeight(rows-1):0,blitWidth=width-stickyWidth-Math.abs(deltaX),blitHeight=height-headerHeight-stickyRowHeight-Math.abs(deltaY)-1;if(blitWidth>150&&blitHeight>150){blittedYOnly=0===deltaX;var args={sx:0,sy:0,sw:width*dpr,sh:height*dpr,dx:0,dy:0,dw:width,dh:height};deltaY>0?(args=Object.assign({},args,{sy:(headerHeight+1)*dpr,sh:blitHeight*dpr,dy:deltaY+headerHeight+1,dh:blitHeight}),drawRegions.push({x:0,y:headerHeight,width:width,height:deltaY+1})):deltaY<0&&(args=Object.assign({},args,{sy:(-deltaY+headerHeight+1)*dpr,sh:blitHeight*dpr,dy:headerHeight+1,dh:blitHeight}),drawRegions.push({x:0,y:height+deltaY-stickyRowHeight,width:width,height:-deltaY+stickyRowHeight})),deltaX>0?(args=Object.assign({},args,{sx:stickyWidth*dpr,sw:blitWidth*dpr,dx:deltaX+stickyWidth,dw:blitWidth}),drawRegions.push({x:stickyWidth-1,y:0,width:deltaX+2,height:height})):deltaX<0&&(args=Object.assign({},args,{sx:(stickyWidth-deltaX)*dpr,sw:blitWidth*dpr,dx:stickyWidth,dw:blitWidth}),drawRegions.push({x:width+deltaX,y:0,width:-deltaX,height:height}),ctx.beginPath()),ctx.drawImage(canvas,args.sx,args.sy,args.sw,args.sh,args.dx,args.dy,args.dw,args.dh)}return ctx.imageSmoothingEnabled=!0,{regions:drawRegions,yOnly:blittedYOnly}}(targetCtx,canvas,last,cellXOffset,cellYOffset,translateX,translateY,lastRowSticky,width,height,rows,headerHeight,dpr,columns,effectiveCols,getRowHeight);drawRegions=_blitLastFrame.regions}if(function overdrawStickyBoundaries(ctx,effectiveCols,width,height,headerHeight,lastRowSticky,rows,getRowHeight,theme){var _step2,drawX=0,_iterator2=data_grid_render_createForOfIteratorHelper(effectiveCols);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var c=_step2.value;if(!c.sticky)break;drawX+=c.width}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}if(ctx.beginPath(),ctx.moveTo(0,headerHeight+.5),ctx.lineTo(width,headerHeight+.5),ctx.strokeStyle=theme.bgHeader,ctx.stroke(),ctx.strokeStyle=theme.borderColor,ctx.stroke(),ctx.beginPath(),0!==drawX&&(ctx.moveTo(drawX+.5,0),ctx.lineTo(drawX+.5,height)),lastRowSticky){var h=getRowHeight(rows-1);ctx.moveTo(0,height-h+.5),ctx.lineTo(width,height-h+.5)}ctx.strokeStyle=theme.bgCell,ctx.stroke(),ctx.strokeStyle=theme.borderColor,ctx.stroke()}(targetCtx,effectiveCols,width,height,headerHeight,lastRowSticky,rows,getRowHeight,theme),void 0!==selectedCell&&selectedCell.cell[0]===freezeColumns-1&&drawFocusRing(targetCtx,width,height,cellYOffset,translateX,translateY,effectiveCols,theme,headerHeight,selectedCell,getRowHeight,lastRowSticky,rows),drawRegions.length>0){targetCtx.beginPath();var _step3,_iterator3=data_grid_render_createForOfIteratorHelper(drawRegions);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var r=_step3.value;targetCtx.rect(r.x,r.y,r.width,r.height)}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}targetCtx.clip(),targetCtx.beginPath()}targetCtx.fillStyle=theme.bgCell,targetCtx.fillRect(0,headerHeight,width,height-headerHeight),drawCells(targetCtx,effectiveCols,height,headerHeight,translateX,translateY,cellYOffset,rows,getRowHeight,getCellContent,selectedRows,disabledRows,lastRowSticky,drawRegions,damage,selectedCell,selectedColumns,prelightCells,drawCustomCell,imageLoader,hoverValues,hoverInfo,theme),function drawBlanks(ctx,effectiveColumns,height,headerHeight,translateX,translateY,cellYOffset,rows,getRowHeight,selectedRows,disabledRows,lastRowSticky,drawRegions,damage,theme){void 0===damage&&walkColumns(effectiveColumns,cellYOffset,translateX,translateY,headerHeight,(function(c,drawX,colDrawY,clipX,startRow){c===effectiveColumns.slice(-1)[0]&&(ctx.save(),ctx.beginPath(),drawX+=c.width,ctx.rect(Math.max(drawX,clipX),headerHeight+1,1e4,height-headerHeight-1),ctx.clip(),walkRowsInCol(startRow,colDrawY,height,rows,getRowHeight,lastRowSticky,(function(drawY,row,rh,isSticky){if(isSticky||!(drawRegions.length>0)||drawRegions.some((function(dr){return intersectRect(drawX,drawY,1e4,rh,dr.x,dr.y,dr.width,dr.height)}))){var rowSelected=selectedRows.hasIndex(row),rowDisabled=disabledRows.hasIndex(row);ctx.beginPath(),rowDisabled&&(ctx.fillStyle=theme.bgHeader,ctx.fillRect(drawX,drawY,1e4,rh)),rowSelected&&(ctx.fillStyle=theme.accentLight,ctx.fillRect(drawX,drawY,1e4,rh))}})),ctx.restore())}))}(targetCtx,effectiveCols,height,headerHeight,translateX,translateY,cellYOffset,rows,getRowHeight,selectedRows,disabledRows,lastRowSticky,drawRegions,damage,theme),drawGridLines(targetCtx,effectiveCols,cellYOffset,translateX,translateY,width,height,headerHeight,getRowHeight,verticalBorder,lastRowSticky,rows,theme),drawFocusRing(targetCtx,width,height,cellYOffset,translateX,translateY,effectiveCols,theme,headerHeight,selectedCell,getRowHeight,lastRowSticky,rows),canBlit&&cellXOffset===last.cellXOffset&&translateX===last.translateX||drawHeaderTexture(),null==imageLoader||imageLoader.setWindow({x:cellXOffset,y:cellYOffset,width:effectiveCols.length,height:100}),lastBlitData.current={cellXOffset:cellXOffset,cellYOffset:cellYOffset,translateX:translateX,translateY:translateY},targetCtx.restore(),overlayCtx.restore(),headerHeight>0&&(targetCtx.imageSmoothingEnabled=!1,targetCtx.drawImage(overlayCanvas,0,0),targetCtx.imageSmoothingEnabled=!0)}}}}function walkRowsInCol(startRow,drawY,height,rows,getRowHeight,lastRowSticky,cb){for(var y=drawY,row=startRow,doSticky=lastRowSticky;y<height||doSticky;){var doingSticky=doSticky&&y>=height;doingSticky&&(doSticky=!1,row=rows-1);var rh=getRowHeight(row);if(doingSticky&&(y=height-rh),!(doSticky&&row===rows-1)&&!0===cb(y,row,rh,doingSticky))break;if(doingSticky)break;y+=rh,row++}}function walkColumns(effectiveCols,cellYOffset,translateX,translateY,headerHeight,cb){var _step4,x=0,clipX=0,drawY=headerHeight+translateY,_iterator4=data_grid_render_createForOfIteratorHelper(effectiveCols);try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var c=_step4.value;if(!0===cb(c,c.sticky?clipX:x+translateX,drawY,clipX,cellYOffset))break;x+=c.width,clipX+=c.sticky?c.width:0}}catch(err){_iterator4.e(err)}finally{_iterator4.f()}}function animation_manager_toConsumableArray(arr){return function animation_manager_arrayWithoutHoles(arr){if(Array.isArray(arr))return animation_manager_arrayLikeToArray(arr)}(arr)||function animation_manager_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||animation_manager_unsupportedIterableToArray(arr)||function animation_manager_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function animation_manager_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return animation_manager_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?animation_manager_arrayLikeToArray(o,minLen):void 0}}function animation_manager_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function animation_manager_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function animation_manager_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var ease=new(function(){function Easing(p1x,p1y,p2x,p2y){animation_manager_classCallCheck(this,Easing),this.ax=0,this.ay=0,this.bx=0,this.by=0,this.cx=0,this.cy=0,this.cx=3*p1x,this.bx=3*(p2x-p1x)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*p1y,this.by=3*(p2y-p1y)-this.cy,this.ay=1-this.cy-this.by}return function animation_manager_createClass(Constructor,protoProps,staticProps){return protoProps&&animation_manager_defineProperties(Constructor.prototype,protoProps),staticProps&&animation_manager_defineProperties(Constructor,staticProps),Constructor}(Easing,[{key:"sampleCurveX",value:function sampleCurveX(t){return((this.ax*t+this.bx)*t+this.cx)*t}},{key:"sampleCurveY",value:function sampleCurveY(t){return((this.ay*t+this.by)*t+this.cy)*t}},{key:"sampleCurveDerivativeX",value:function sampleCurveDerivativeX(t){return(3*this.ax*t+2*this.bx)*t+this.cx}},{key:"solveCurveX",value:function solveCurveX(x){var t0,t1,t2,x2,d2,i;for(t2=x,i=0;i<8;i++){if(x2=this.sampleCurveX(t2)-x,Math.abs(x2)<1e-6)return t2;if(d2=this.sampleCurveDerivativeX(t2),Math.abs(d2)<1e-6)break;t2-=x2/d2}if((t2=x)<(t0=0))return t0;if(t2>(t1=1))return t1;for(;t0<t1;){if(x2=this.sampleCurveX(t2),Math.abs(x2-x)<1e-6)return t2;x>x2?t0=t2:t1=t2,t2=.5*(t1-t0)+t0}return t2}},{key:"solve",value:function solve(x){return this.sampleCurveY(this.solveCurveX(x))}}]),Easing}())(.25,.1,.25,1),animation_manager_AnimationManager=function AnimationManager(callback){var _this=this;animation_manager_classCallCheck(this,AnimationManager),this.callback=callback,this.currentHoveredItem=void 0,this.leavingItems=[],this.lastAnimationTime=void 0,this.areSameItems=function(left,right){return(null==left?void 0:left[0])===(null==right?void 0:right[0])&&(null==left?void 0:left[1])===(null==right?void 0:right[1])},this.addToLeavingItems=function(item){void 0!==_this.leavingItems.find((function(i){return _this.areSameItems(i.item,item.item)}))||_this.leavingItems.push(item)},this.removeFromLeavingItems=function(item){var _leavingItem$hoverAmo,leavingItem=_this.leavingItems.find((function(e){return _this.areSameItems(e.item,item)}));return _this.leavingItems=_this.leavingItems.filter((function(i){return i!==leavingItem})),null!==(_leavingItem$hoverAmo=null==leavingItem?void 0:leavingItem.hoverAmount)&&void 0!==_leavingItem$hoverAmo?_leavingItem$hoverAmo:0},this.cleanUpLeavingElements=function(){_this.leavingItems=_this.leavingItems.filter((function(i){return i.hoverAmount>0}))},this.shouldStep=function(){var hasLeavingItems=_this.leavingItems.length>0,currentHoveredIsAnimating=void 0!==_this.currentHoveredItem&&_this.currentHoveredItem.hoverAmount<1;return hasLeavingItems||currentHoveredIsAnimating},this.getAnimatingItems=function(){return void 0!==_this.currentHoveredItem?[].concat(animation_manager_toConsumableArray(_this.leavingItems),[_this.currentHoveredItem]):_this.leavingItems.map((function(x){return Object.assign({},x,{hoverAmount:ease.solve(x.hoverAmount)})}))},this.step=function(timestamp){if(void 0===_this.lastAnimationTime)_this.lastAnimationTime=timestamp;else{var _step,delta=(timestamp-_this.lastAnimationTime)/80,_iterator=function animation_manager_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=animation_manager_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(_this.leavingItems);try{for(_iterator.s();!(_step=_iterator.n()).done;){var item=_step.value;item.hoverAmount=clamp_default()(item.hoverAmount-delta,0,1)}}catch(err){_iterator.e(err)}finally{_iterator.f()}void 0!==_this.currentHoveredItem&&(_this.currentHoveredItem.hoverAmount=clamp_default()(_this.currentHoveredItem.hoverAmount+delta,0,1));var animating=_this.getAnimatingItems();_this.callback(animating),_this.cleanUpLeavingElements()}_this.shouldStep()?(_this.lastAnimationTime=timestamp,window.requestAnimationFrame(_this.step)):_this.lastAnimationTime=void 0},this.setHovered=function(item){var _this$currentHoveredI;if(!_this.areSameItems(null===(_this$currentHoveredI=_this.currentHoveredItem)||void 0===_this$currentHoveredI?void 0:_this$currentHoveredI.item,item)){if(void 0!==_this.currentHoveredItem&&_this.addToLeavingItems(_this.currentHoveredItem),void 0!==item){var hoverAmount=_this.removeFromLeavingItems(item);_this.currentHoveredItem={item:item,hoverAmount:hoverAmount}}else _this.currentHoveredItem=void 0;void 0===_this.lastAnimationTime&&window.requestAnimationFrame(_this.step)}}};__webpack_require__(70),__webpack_require__(71);function browser_detect_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var userAgent=window.navigator.userAgent,Lazy=function(){function Lazy(fn){!function browser_detect_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Lazy),this.fn=void 0,this.val=void 0,this.fn=fn}return function browser_detect_createClass(Constructor,protoProps,staticProps){return protoProps&&browser_detect_defineProperties(Constructor.prototype,protoProps),staticProps&&browser_detect_defineProperties(Constructor,staticProps),Constructor}(Lazy,[{key:"value",get:function get(){var _this$val;return null!==(_this$val=this.val)&&void 0!==_this$val?_this$val:this.val=this.fn()}}]),Lazy}();var browserIsFirefox=userAgent.includes("Firefox"),browserIsSafari=userAgent.indexOf("Mac OS")>-1&&userAgent.indexOf("Safari")>-1&&userAgent.indexOf("Chrome")<0,browserIsOSX=function lazy(fn){return new Lazy(fn)}((function(){return window.navigator.platform.toLowerCase().startsWith("mac")}));function data_grid_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function data_grid_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){data_grid_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){data_grid_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function data_grid_slicedToArray(arr,i){return function data_grid_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function data_grid_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function data_grid_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return data_grid_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return data_grid_arrayLikeToArray(o,minLen)}(arr,i)||function data_grid_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function data_grid_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var data_grid=react.memo(Object(styled_components_browser_esm.e)(react.forwardRef((function DataGrid(p,forwardedRef){var _p$translateX,_p$translateY,_p$experimental,_eventTargetRef$curre,width=p.width,height=p.height,className=p.className,theme=p.theme,columns=p.columns,cellXOffsetReal=p.cellXOffset,cellYOffset=p.cellYOffset,headerHeight=p.headerHeight,rowHeight=p.rowHeight,rows=p.rows,getCellContent=p.getCellContent,onHeaderMenuClick=p.onHeaderMenuClick,selectedRows=p.selectedRows,enableGroups=p.enableGroups,selectedCell=p.selectedCell,selectedColumns=p.selectedColumns,freezeColumns=p.freezeColumns,lastRowSticky=p.lastRowSticky,onMouseDown=p.onMouseDown,onMouseUp=p.onMouseUp,onMouseMove=p.onMouseMove,onItemHovered=p.onItemHovered,dragAndDropState=p.dragAndDropState,onKeyDown=p.onKeyDown,onKeyUp=p.onKeyUp,canvasRef=p.canvasRef,onDragStart=p.onDragStart,eventTargetRef=p.eventTargetRef,isResizing=p.isResizing,isDragging=p.isDragging,isDraggable=p.isDraggable,allowResize=p.allowResize,disabledRows=p.disabledRows,prelightCells=p.prelightCells,headerIcons=p.headerIcons,verticalBorder=p.verticalBorder,drawCustomCell=p.drawCustomCell,onCellFocused=p.onCellFocused,translateX=null!==(_p$translateX=p.translateX)&&void 0!==_p$translateX?_p$translateX:0,translateY=null!==(_p$translateY=p.translateY)&&void 0!==_p$translateY?_p$translateY:0,cellXOffset=Math.max(freezeColumns,Math.min(columns.length-1,cellXOffsetReal)),ref=react.useRef(null),imageLoader=react.useMemo((function(){return new image_window_loader}),[]),canBlit=react.useRef(),damageRegion=react.useRef(void 0),_React$useState2=data_grid_slicedToArray(react.useState(!1),2),scrolling=_React$useState2[0],setScrolling=_React$useState2[1],hoverValues=react.useRef([]),lastBlitData=react.useRef({cellXOffset:cellXOffset,cellYOffset:cellYOffset,translateX:translateX,translateY:translateY}),_React$useState4=data_grid_slicedToArray(react.useState(),2),hoveredItemInfo=_React$useState4[0],setHoveredItemInfo=_React$useState4[1],_React$useState6=data_grid_slicedToArray(react.useState(),2),hoveredOnEdge=_React$useState6[0],setHoveredOnEdge=_React$useState6[1],buffers=data_grid_slicedToArray(react.useState((function(){return function makeBuffers(){return{overlay:document.createElement("canvas")}}()})),1)[0],spriteManager=react.useMemo((function(){return new data_grid_sprites_SpriteManager(headerIcons)}),[headerIcons]),scrollingStopRef=react.useRef(-1),disableFirefoxRescaling=!0===(null===(_p$experimental=p.experimental)||void 0===_p$experimental?void 0:_p$experimental.disableFirefoxRescaling);react.useEffect((function(){browserIsFirefox&&1!==window.devicePixelRatio&&!disableFirefoxRescaling&&(-1!==scrollingStopRef.current&&setScrolling(!0),window.clearTimeout(scrollingStopRef.current),scrollingStopRef.current=window.setTimeout((function(){setScrolling(!1),scrollingStopRef.current=-1}),200))}),[cellYOffset,cellXOffset,translateX,translateY,disableFirefoxRescaling]),react.useEffect((function(){var _ref,fn=(_ref=data_grid_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,spriteManager.buildSpriteMap(theme,columns);case 2:_context.sent&&lastDrawRef.current();case 4:case"end":return _context.stop()}}),_callee)}))),function fn(){return _ref.apply(this,arguments)});fn()}),[columns,spriteManager,theme]);var mappedColumns=function useMappedColumns(columns,freezeColumns){return react_default.a.useMemo((function(){return columns.map((function(c,i){return Object.assign({},c,{sourceIndex:i,sticky:i<freezeColumns})}))}),[columns,freezeColumns])}(columns,freezeColumns),getBoundsForItem=react.useCallback((function(canvas,col,row){var rect=canvas.getBoundingClientRect(),result={x:rect.x,y:rect.y+headerHeight+translateY,width:0,height:0};if(col>=freezeColumns){var dir=cellXOffset>col?-1:1,freezeWidth=getStickyWidth(mappedColumns);result.x+=freezeWidth+translateX;for(var i=cellXOffset;i!==col;i+=dir)result.x+=mappedColumns[i].width*dir}else for(var _i2=0;_i2<col;_i2++)result.x+=mappedColumns[_i2].width;if(result.width=mappedColumns[col].width+1,void 0===row)result.y=rect.y,result.height=headerHeight;else if(lastRowSticky&&row===rows-1){var stickyHeight="number"==typeof rowHeight?rowHeight:rowHeight(row);result.y=rect.y+(height-stickyHeight),result.height=stickyHeight}else{for(var _dir=cellYOffset>row?-1:1,r=cellYOffset;r!==row;r+=_dir)result.y+=("number"==typeof rowHeight?rowHeight:rowHeight(r))*_dir;result.height=("number"==typeof rowHeight?rowHeight:rowHeight(row))+1}return result}),[headerHeight,translateY,freezeColumns,lastRowSticky,rows,cellXOffset,mappedColumns,translateX,rowHeight,height,cellYOffset]),getMouseArgsForPosition=react.useCallback((function(canvas,posX,posY,ev){var result,rect=canvas.getBoundingClientRect(),x=posX-rect.left,y=posY-rect.top,col=function getColumnIndexForX(targetX,effectiveColumns,translateX){var _step4,x=0,_iterator4=data_grid_lib_createForOfIteratorHelper(effectiveColumns);try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var c=_step4.value;if(targetX<=(c.sticky?x:x+(null!=translateX?translateX:0))+c.width)return c.sourceIndex;x+=c.width}}catch(err){_iterator4.e(err)}finally{_iterator4.f()}return-1}(x,getEffectiveColumns(mappedColumns,cellXOffset,width,void 0,translateX),translateX),row=function getRowIndexForY(targetY,height,headerHeight,rows,rowHeight,cellYOffset,translateY,lastRowSticky){if(targetY<=headerHeight/2)return-2;if(targetY<=headerHeight)return-1;var lastRowHeight="number"==typeof rowHeight?rowHeight:rowHeight(rows-1);if(lastRowSticky&&targetY>height-lastRowHeight)return rows-1;var effectiveRows=rows-(lastRowSticky?1:0),ty=targetY-(null!=translateY?translateY:0);if("number"==typeof rowHeight){var target=Math.floor((ty-headerHeight)/rowHeight)+cellYOffset;if(target>=effectiveRows)return;return target}for(var curY=headerHeight,i=cellYOffset;i<effectiveRows;i++){var rh=rowHeight(i);if(ty<=curY+rh)return i;curY+=rh}}(y,height,headerHeight,rows,rowHeight,cellYOffset,translateY,lastRowSticky),shiftKey=!0===(null==ev?void 0:ev.shiftKey),ctrlKey=!0===(null==ev?void 0:ev.ctrlKey),metaKey=!0===(null==ev?void 0:ev.metaKey),isTouch=void 0!==ev&&!(ev instanceof MouseEvent);if(-1===col||y<0||x<0||void 0===row||x>width||y>height){var horizontal=x>width?-1:x<0?1:0,vertical=y>height?1:y<0?-1:0,isEdge=!1;if(-1===col&&-1===row){var b=getBoundsForItem(canvas,mappedColumns.length-1,void 0);isEdge=posX<b.x+b.width+5}result={kind:"out-of-bounds",location:[-1!==col?col:x<0?0:mappedColumns.length-1,null!=row?row:rows-1],direction:[horizontal,vertical],shiftKey:shiftKey,ctrlKey:ctrlKey,metaKey:metaKey,isEdge:isEdge,isTouch:isTouch}}else if(row<=-1){var bounds=getBoundsForItem(canvas,col,void 0),_isEdge=void 0!==bounds&&bounds.x+bounds.width-posX<=5,previousCol=col-1;posX-bounds.x<=5?(_isEdge=!0,bounds=getBoundsForItem(canvas,previousCol,void 0),result={kind:enableGroups&&-2===row?"group-header":"header",location:[previousCol,void 0],bounds:bounds,isEdge:_isEdge,shiftKey:shiftKey,ctrlKey:ctrlKey,metaKey:metaKey,isTouch:isTouch,localEventX:posX-bounds.x,localEventY:posY-bounds.y}):result={kind:enableGroups&&-2===row?"group-header":"header",location:[col,void 0],bounds:bounds,isEdge:_isEdge,shiftKey:shiftKey,ctrlKey:ctrlKey,metaKey:metaKey,isTouch:isTouch,localEventX:posX-bounds.x,localEventY:posY-bounds.y}}else{var _bounds=getBoundsForItem(canvas,col,row);result={kind:"cell",location:[col,row],bounds:_bounds,isEdge:void 0!==_bounds&&_bounds.x+_bounds.width-posX<5,shiftKey:shiftKey,ctrlKey:ctrlKey,metaKey:metaKey,isTouch:isTouch,localEventX:posX-_bounds.x,localEventY:posY-_bounds.y}}return result}),[mappedColumns,cellXOffset,width,translateX,height,headerHeight,rows,rowHeight,cellYOffset,translateY,lastRowSticky,getBoundsForItem,enableGroups]);var hoveredCol,hoveredItem=data_grid_slicedToArray(null!=hoveredItemInfo?hoveredItemInfo:[],1)[0];void 0!==(null==hoveredItem?void 0:hoveredItem[0])&&void 0===hoveredItem[1]&&(hoveredCol=hoveredItem[0]);var hoverInfoRef=react.useRef(hoveredItemInfo);hoverInfoRef.current=hoveredItemInfo;var draw=react.useCallback((function(){var canvas=ref.current;null!==canvas&&drawGrid(canvas,buffers,width,height,cellXOffset,cellYOffset,Math.round(translateX),Math.round(translateY),columns,mappedColumns,enableGroups,freezeColumns,dragAndDropState,theme,headerHeight,null!=selectedRows?selectedRows:CompactSelection.empty(),null!=disabledRows?disabledRows:CompactSelection.empty(),rowHeight,verticalBorder,null!=selectedColumns?selectedColumns:CompactSelection.empty(),hoveredCol,isResizing,selectedCell,lastRowSticky,rows,getCellContent,drawCustomCell,prelightCells,imageLoader,lastBlitData,canBlit.current,damageRegion.current,hoverValues.current,hoverInfoRef.current,spriteManager,scrolling)}),[buffers,width,height,cellXOffset,cellYOffset,translateX,translateY,columns,mappedColumns,enableGroups,freezeColumns,dragAndDropState,theme,headerHeight,selectedRows,disabledRows,rowHeight,verticalBorder,selectedColumns,hoveredCol,isResizing,selectedCell,lastRowSticky,imageLoader,rows,getCellContent,drawCustomCell,prelightCells,spriteManager,scrolling]);canBlit.current=void 0!==canBlit.current,react.useEffect((function(){canBlit.current=!1}),[width,height,columns,theme,headerHeight,rowHeight,rows,isResizing,getCellContent,selectedRows,selectedColumns,selectedCell,dragAndDropState,prelightCells,scrolling]);var lastDrawRef=react.useRef(draw);react.useEffect((function(){draw(),lastDrawRef.current=draw}),[draw]),react.useEffect((function(){var _ref4,fn=(_ref4=data_grid_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var prev;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,document.fonts.ready;case 2:prev=canBlit.current,canBlit.current=!1,lastDrawRef.current(),canBlit.current=prev;case 6:case"end":return _context2.stop()}}),_callee2)}))),function fn(){return _ref4.apply(this,arguments)});fn()}),[]);var damageInternal=react.useCallback((function(locations){var last=canBlit.current;canBlit.current=!1,damageRegion.current=locations,lastDrawRef.current(),damageRegion.current=void 0,canBlit.current=last}),[]),damage=react.useCallback((function(cells){damageInternal(cells.map((function(x){return x.cell})))}),[damageInternal]);imageLoader.setCallback(damageInternal);var _ref6=data_grid_slicedToArray(null!=hoveredItem?hoveredItem:[],2),hCol=_ref6[0],hRow=_ref6[1],headerHovered=void 0!==hCol&&void 0===hRow,clickableInnerCellHovered=!1,editableBoolHovered=!1;if(void 0!==hCol&&void 0!==hRow){var cell=getCellContent([hCol,hRow]);clickableInnerCellHovered=cell.kind===InnerGridCellKind.NewRow||cell.kind===InnerGridCellKind.Marker&&"number"!==cell.markerKind,editableBoolHovered=cell.kind===GridCellKind.Boolean&&!0===cell.allowEdit}var canDrag=null!=hoveredOnEdge&&hoveredOnEdge,style=react.useMemo((function(){return{width:width,height:height,display:"block",cursor:isDragging?"grabbing":canDrag||isResizing?"col-resize":headerHovered||clickableInnerCellHovered||editableBoolHovered?"pointer":"default"}}),[width,height,isDragging,canDrag,isResizing,headerHovered,clickableInnerCellHovered,editableBoolHovered]),target=null==eventTargetRef?void 0:eventTargetRef.current;null!=target&&(target.style.cursor=style.cursor);var onMouseDownImpl=react.useCallback((function(ev){var canvas=ref.current,eventTarget=null==eventTargetRef?void 0:eventTargetRef.current;if(null!==canvas&&(ev.target===canvas||ev.target===eventTarget)){var clientX,clientY;if(ev instanceof MouseEvent){if(0!==ev.button)return;clientX=ev.clientX,clientY=ev.clientY}else clientX=ev.touches[0].clientX,clientY=ev.touches[0].clientY;if(ev.target===eventTarget&&null!==eventTarget){var bounds=eventTarget.getBoundingClientRect();if(clientX>bounds.left+eventTarget.clientWidth)return;if(clientY>bounds.top+eventTarget.clientHeight)return}var args=getMouseArgsForPosition(canvas,clientX,clientY,ev);if("header"===args.kind){var col=data_grid_slicedToArray(args.location,1)[0];if(!0===columns[col].hasMenu&&(null==hoveredOnEdge||!hoveredOnEdge)){var headerBounds=getBoundsForItem(canvas,col,void 0);if(clientX>headerBounds.x+headerBounds.width-40)return}}null==onMouseDown||onMouseDown(args)}}),[columns,eventTargetRef,getBoundsForItem,getMouseArgsForPosition,hoveredOnEdge,onMouseDown]);useEventListener("touchstart",onMouseDownImpl,window,!0),useEventListener("mousedown",onMouseDownImpl,window,!0);var onMouseUpImpl=react.useCallback((function(ev){var canvas=ref.current;if(void 0!==onMouseUp&&null!=canvas){var clientX,clientY,eventTarget=null==eventTargetRef?void 0:eventTargetRef.current,isOutside=ev.target!==canvas&&ev.target!==eventTarget;if(isOutside||ev.preventDefault(),ev instanceof MouseEvent){if(0!==ev.button)return;clientX=ev.clientX,clientY=ev.clientY}else clientX=ev.changedTouches[0].clientX,clientY=ev.changedTouches[0].clientY;var args=getMouseArgsForPosition(canvas,clientX,clientY,ev);if("header"===args.kind){var col=data_grid_slicedToArray(args.location,1)[0];if(!0===columns[col].hasMenu&&(null==hoveredOnEdge||!hoveredOnEdge)){var headerBounds=getBoundsForItem(canvas,col,void 0);if(clientX>headerBounds.x+headerBounds.width-40)return void(null==onHeaderMenuClick||onHeaderMenuClick(col,headerBounds))}}onMouseUp(args,isOutside)}}),[onMouseUp,eventTargetRef,getMouseArgsForPosition,columns,hoveredOnEdge,getBoundsForItem,onHeaderMenuClick]);useEventListener("mouseup",onMouseUpImpl,window,!1),useEventListener("touchend",onMouseUpImpl,window,!1);var onAnimationFrame=react.useCallback((function(values){var last=canBlit.current;canBlit.current=!1,damageRegion.current=values.map((function(x){return x.item})),hoverValues.current=values,lastDrawRef.current(),damageRegion.current=void 0,canBlit.current=last}),[]),animationManager=react.useRef(new animation_manager_AnimationManager(onAnimationFrame));react.useEffect((function(){var am=animationManager.current;if(void 0!==hoveredItem&&void 0!==hoveredItem[1]){var cell=getCellContent(hoveredItem);am.setHovered(cell.kind===GridCellKind.Custom||CellRenderers[cell.kind].needsHover?hoveredItem:void 0)}else am.setHovered(hoveredItem)}),[getCellContent,hoveredItem]);var hoveredRef=react.useRef();useEventListener("mousemove",react.useCallback((function(ev){var canvas=ref.current;if(null!==canvas){var args=getMouseArgsForPosition(canvas,ev.clientX,ev.clientY,ev);if(function isSameItem(item,other){return item===other||(null==item?void 0:item.kind)===(null==other?void 0:other.kind)&&(null==item?void 0:item.location[0])===(null==other?void 0:other.location[0])&&(null==item?void 0:item.location[1])===(null==other?void 0:other.location[1])}(args,hoveredRef.current)){if("cell"===args.kind||"header"===args.kind){var newInfo=[args.location,[args.localEventX,args.localEventY]];if(setHoveredItemInfo(newInfo),hoverInfoRef.current=newInfo,"cell"===args.kind){var toCheck=getCellContent(args.location);(toCheck.kind===GridCellKind.Custom||CellRenderers[toCheck.kind].needsHoverPosition)&&damageInternal([args.location])}}}else null==onItemHovered||onItemHovered(args),setHoveredItemInfo("out-of-bounds"===args.kind||"group-header"===args.kind?void 0:[args.location,[args.localEventX,args.localEventY]]),hoveredRef.current=args;setHoveredOnEdge("header"===args.kind&&args.isEdge&&!0===allowResize),null==onMouseMove||onMouseMove(ev)}}),[getMouseArgsForPosition,allowResize,onMouseMove,onItemHovered,getCellContent,damageInternal]),window,!0);var onKeyDownImpl=react.useCallback((function(event){var bounds,canvas=ref.current;null!==canvas&&(void 0!==selectedCell&&(bounds=getBoundsForItem(canvas,selectedCell.cell[0],selectedCell.cell[1])),null==onKeyDown||onKeyDown({bounds:bounds,cancel:function cancel(){event.stopPropagation(),event.preventDefault()},ctrlKey:event.ctrlKey,metaKey:event.metaKey,shiftKey:event.shiftKey,key:event.key,keyCode:event.keyCode}))}),[onKeyDown,selectedCell,getBoundsForItem]),onKeyUpImpl=react.useCallback((function(event){var bounds,canvas=ref.current;null!==canvas&&(void 0!==selectedCell&&(bounds=getBoundsForItem(canvas,selectedCell.cell[0],selectedCell.cell[1])),null==onKeyUp||onKeyUp({bounds:bounds,cancel:function cancel(){event.stopPropagation(),event.preventDefault()},ctrlKey:event.ctrlKey,metaKey:event.metaKey,shiftKey:event.shiftKey,key:event.key,keyCode:event.keyCode}))}),[onKeyUp,selectedCell,getBoundsForItem]),refImpl=react.useCallback((function(instance){ref.current=instance,void 0!==canvasRef&&(canvasRef.current=instance)}),[canvasRef]);useEventListener("dragstart",react.useCallback((function(event){var dragMime,dragData,canvas=ref.current;if(null===canvas||!0==!isDraggable)return!1;var dragImage,dragImageX,dragImageY,args=getMouseArgsForPosition(canvas,event.clientX,event.clientY);if(null==onDragStart||onDragStart(Object.assign({},args,{setData:function setData(mime,payload){dragMime=mime,dragData=payload},setDragImage:function setDragImage(image,x,y){dragImage=image,dragImageX=x,dragImageY=y}})),void 0!==dragMime&&void 0!==dragData&&null!==event.dataTransfer)if(event.dataTransfer.setData(dragMime,dragData),event.dataTransfer.effectAllowed="link",void 0!==dragImage&&void 0!==dragImageX&&void 0!==dragImageY)event.dataTransfer.setDragImage(dragImage,dragImageX,dragImageY);else{var _args$location3=data_grid_slicedToArray(args.location,2),col=_args$location3[0],row=_args$location3[1];if(void 0!==row){var offscreen=document.createElement("canvas"),boundsForDragTarget=getBoundsForItem(canvas,col,row);offscreen.width=boundsForDragTarget.width,offscreen.height=boundsForDragTarget.height;var ctx=offscreen.getContext("2d");null!==ctx&&(ctx.fillStyle=theme.bgCell,ctx.fillRect(0,0,offscreen.width,offscreen.height),data_grid_render_drawCell(ctx,row,getCellContent([col,row]),0,0,0,boundsForDragTarget.width,boundsForDragTarget.height,!1,theme,drawCustomCell,imageLoader,1,void 0)),offscreen.style.left="-100%",offscreen.style.position="absolute",document.body.appendChild(offscreen),event.dataTransfer.setDragImage(offscreen,boundsForDragTarget.width/2,boundsForDragTarget.height/2),window.setTimeout((function(){document.body.removeChild(offscreen)}),0)}}else event.preventDefault()}),[isDraggable,getMouseArgsForPosition,onDragStart,getBoundsForItem,theme,getCellContent,drawCustomCell,imageLoader]),null!==(_eventTargetRef$curre=null==eventTargetRef?void 0:eventTargetRef.current)&&void 0!==_eventTargetRef$curre?_eventTargetRef$curre:null,!1,!1);var focusRef=react.useRef(null),focusElement=react.useCallback((function(el){if(null!==ref.current&&ref.current.contains(document.activeElement)){var _canvasRef$current;if(null===el)null==canvasRef||null===(_canvasRef$current=canvasRef.current)||void 0===_canvasRef$current||_canvasRef$current.focus({preventScroll:!0});else el.focus({preventScroll:!0});focusRef.current=el}}),[canvasRef]);react.useImperativeHandle(forwardedRef,(function(){return{focus:function focus(){var _canvasRef$current2,el=focusRef.current;null!==el&&document.contains(el)?el.focus({preventScroll:!0}):null==canvasRef||null===(_canvasRef$current2=canvasRef.current)||void 0===_canvasRef$current2||_canvasRef$current2.focus({preventScroll:!0})},getBounds:function getBounds(col,row){if(void 0!==canvasRef&&null!==canvasRef.current)return getBoundsForItem(canvasRef.current,col,row)},damage:damage}}),[canvasRef,damage,getBoundsForItem]);var stickyShadow,accessibilityTree=function useDebouncedMemo(factory,deps,time){var _React$useState2=utils_slicedToArray(react.useState(factory),2),state=_React$useState2[0],setState=_React$useState2[1],debouncedSetState=react.useRef(debounce_default()(setState,time));return react.useEffect((function(){debouncedSetState.current((function(){return factory()}))}),deps),state}((function(){var effectiveCols=getEffectiveColumns(mappedColumns,cellXOffset,width,dragAndDropState,translateX);return react.createElement("div",{role:"grid","aria-rowcount":rows,"aria-colcount":mappedColumns.length},react.createElement("div",{role:"rowgroup"},react.createElement("div",{role:"row","aria-rowindex":1,"row-index":1},effectiveCols.map((function(c){return react.createElement("div",{role:"columnheader","aria-colindex":c.sourceIndex+1,key:c.sourceIndex},c.title)})))),react.createElement("div",{role:"rowgroup"},range_default()(cellYOffset,Math.min(rows,cellYOffset+50)).map((function(row){return react.createElement("div",{role:"row",key:row,"aria-rowindex":row+2,"row-index":row+2},effectiveCols.map((function(c){var _selectedCell$cell,col=c.sourceIndex,key=col+","+row,_ref8=data_grid_slicedToArray(null!==(_selectedCell$cell=null==selectedCell?void 0:selectedCell.cell)&&void 0!==_selectedCell$cell?_selectedCell$cell:[],2),fCol=_ref8[0],fRow=_ref8[1],focused=fCol===col&&fRow===row;return react.createElement("div",{key:key,role:"gridcell","aria-colindex":col+1,id:"glide-cell-"+col+"-"+row,onClick:function onClick(){var canvas=null==canvasRef?void 0:canvasRef.current;if(null!=canvas)return null==onKeyDown?void 0:onKeyDown({bounds:getBoundsForItem(canvas,col,row),cancel:function cancel(){},ctrlKey:!1,key:"Enter",keyCode:13,metaKey:!1,shiftKey:!1})},onFocusCapture:function onFocusCapture(e){if(e.target!==focusRef.current)return null==onCellFocused?void 0:onCellFocused([col,row])},ref:focused?focusElement:void 0,tabIndex:-1},function getRowData(cell){return cell.kind===GridCellKind.Custom?cell.copyData:CellRenderers[cell.kind].getAccessibilityString(cell)}(getCellContent([col,row])))})))}))))}),[cellXOffset,cellYOffset,mappedColumns,dragAndDropState,focusElement,getCellContent,null==selectedCell?void 0:selectedCell.cell,translateX,width],100),stickyX=getStickyWidth(mappedColumns),stickyShadowStyle=react.useMemo((function(){return{position:"absolute",top:0,left:stickyX,width:style.width-stickyX,height:style.height,opacity:cellXOffset>freezeColumns||0!==translateX?1:0,pointerEvents:"none",boxShadow:"inset 13px 0 10px -13px rgba(0, 0, 0, 0.2)",transition:"opacity 150ms"}}),[cellXOffset,freezeColumns,stickyX,style.height,style.width,translateX]);return mappedColumns[0].sticky&&(stickyShadow=react.createElement("div",{style:stickyShadowStyle})),react.createElement(react.Fragment,null,react.createElement("canvas",{tabIndex:0,onKeyDown:onKeyDownImpl,onKeyUp:onKeyUpImpl,className:className,ref:refImpl,style:style},accessibilityTree),stickyShadow)})))),data_grid_dnd_excluded=["onColumnMoved","onColumnResized","gridRef","maxColumnWidth","onHeaderMenuClick","onRowMoved","getCellContent"];function data_grid_dnd_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=data_grid_dnd_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function data_grid_dnd_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function data_grid_dnd_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function data_grid_dnd_slicedToArray(arr,i){return function data_grid_dnd_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function data_grid_dnd_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||data_grid_dnd_unsupportedIterableToArray(arr,i)||function data_grid_dnd_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function data_grid_dnd_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return data_grid_dnd_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?data_grid_dnd_arrayLikeToArray(o,minLen):void 0}}function data_grid_dnd_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function data_grid_dnd_extends(){return data_grid_dnd_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},data_grid_dnd_extends.apply(this,arguments)}var data_grid_dnd_DataGridDnd=function DataGridDnd(p){var _React$useState2=data_grid_dnd_slicedToArray(react.useState(),2),resizeColStartX=_React$useState2[0],setResizeColStartX=_React$useState2[1],_React$useState4=data_grid_dnd_slicedToArray(react.useState(),2),resizeCol=_React$useState4[0],setResizeCol=_React$useState4[1],_React$useState6=data_grid_dnd_slicedToArray(react.useState(),2),dragCol=_React$useState6[0],setDragCol=_React$useState6[1],_React$useState8=data_grid_dnd_slicedToArray(react.useState(),2),dropCol=_React$useState8[0],setDropCol=_React$useState8[1],_React$useState10=data_grid_dnd_slicedToArray(react.useState(!1),2),dragColActive=_React$useState10[0],setDragColActive=_React$useState10[1],_React$useState12=data_grid_dnd_slicedToArray(react.useState(),2),dragStartX=_React$useState12[0],setDragStartX=_React$useState12[1],_React$useState14=data_grid_dnd_slicedToArray(react.useState(),2),dragRow=_React$useState14[0],setDragRow=_React$useState14[1],_React$useState16=data_grid_dnd_slicedToArray(react.useState(),2),dropRow=_React$useState16[0],setDropRow=_React$useState16[1],_React$useState18=data_grid_dnd_slicedToArray(react.useState(!1),2),dragRowActive=_React$useState18[0],setDragRowActive=_React$useState18[1],_React$useState20=data_grid_dnd_slicedToArray(react.useState(),2),dragStartY=_React$useState20[0],setDragStartY=_React$useState20[1],onColumnMoved=p.onColumnMoved,onColumnResized=p.onColumnResized,gridRef=p.gridRef,maxColumnWidth=p.maxColumnWidth,onHeaderMenuClick=p.onHeaderMenuClick,onRowMoved=p.onRowMoved,getCellContent=p.getCellContent,rest=data_grid_dnd_objectWithoutProperties(p,data_grid_dnd_excluded),freezeColumns=p.freezeColumns,onMouseDown=p.onMouseDown,onMouseUp=p.onMouseUp,onItemHovered=p.onItemHovered,_p$isDraggable=p.isDraggable,isDraggable=void 0!==_p$isDraggable&&_p$isDraggable,columns=p.columns,selectedColumns=p.selectedColumns,onItemHoveredImpl=react.useCallback((function(args){var _args$location=data_grid_dnd_slicedToArray(args.location,2),col=_args$location[0],row=_args$location[1];void 0!==dragCol&&dropCol!==col&&col>=freezeColumns?(setDragColActive(!0),setDropCol(col)):void 0!==dragRow&&void 0!==row?(setDragRowActive(!0),setDropRow(Math.max(0,row))):null==onItemHovered||onItemHovered(args)}),[dragCol,dragRow,dropCol,freezeColumns,onItemHovered]),canDragCol=void 0!==onColumnMoved,onMouseDownImpl=react.useCallback((function(args){var shouldFireEvent=!0,_args$location2=data_grid_dnd_slicedToArray(args.location,2),col=_args$location2[0],row=_args$location2[1];if(!isDraggable)if("out-of-bounds"===args.kind&&args.isEdge){var _gridRef$current,bounds=null==gridRef||null===(_gridRef$current=gridRef.current)||void 0===_gridRef$current?void 0:_gridRef$current.getBounds(columns.length-1,-1);void 0!==bounds&&(setResizeColStartX(bounds.x),setResizeCol(columns.length-1))}else"header"===args.kind&&col>=freezeColumns?args.isEdge?(shouldFireEvent=!1,setResizeColStartX(args.bounds.x),setResizeCol(col)):"header"===args.kind&&canDragCol&&(setDragStartX(args.bounds.x),setDragCol(col)):"cell"===args.kind&&freezeColumns>0&&0===col&&void 0!==row&&void 0!==onRowMoved&&(setDragStartY(args.bounds.y),setDragRow(row));shouldFireEvent&&(null==onMouseDown||onMouseDown(args))}),[isDraggable,onMouseDown,freezeColumns,onRowMoved,gridRef,columns.length,canDragCol]),onHeaderMenuClickMangled=react.useCallback((function(col,screenPosition){dragColActive||dragRowActive||null==onHeaderMenuClick||onHeaderMenuClick(col,screenPosition)}),[dragColActive,dragRowActive,onHeaderMenuClick]),lastResizeWidthRef=react.useRef(-1),onMouseUpImpl=react.useCallback((function(args,isOutside){if(void 0!==resizeCol&&!0===(null==selectedColumns?void 0:selectedColumns.hasIndex(resizeCol))){var _step,_iterator=data_grid_dnd_createForOfIteratorHelper(selectedColumns);try{for(_iterator.s();!(_step=_iterator.n()).done;){var c=_step.value;c!==resizeCol&&(null==onColumnResized||onColumnResized(columns[c],lastResizeWidthRef.current))}}catch(err){_iterator.e(err)}finally{_iterator.f()}}lastResizeWidthRef.current=-1,setDragRow(void 0),setDropRow(void 0),setDragStartY(void 0),setDragRowActive(!1),setDragCol(void 0),setDropCol(void 0),setDragStartX(void 0),setDragColActive(!1),setResizeCol(void 0),setResizeColStartX(void 0),void 0!==dragCol&&void 0!==dropCol&&(null==onColumnMoved||onColumnMoved(dragCol,dropCol)),void 0!==dragRow&&void 0!==dropRow&&(null==onRowMoved||onRowMoved(dragRow,dropRow)),null==onMouseUp||onMouseUp(args,isOutside)}),[columns,dragCol,dragRow,dropCol,dropRow,onColumnMoved,onColumnResized,onMouseUp,onRowMoved,resizeCol,selectedColumns]),dragOffset=react.useMemo((function(){if(void 0!==dragCol&&void 0!==dropCol&&dragCol!==dropCol)return{src:dragCol,dest:dropCol}}),[dragCol,dropCol]),maxColumnWidthValue=void 0===maxColumnWidth?500:maxColumnWidth<50?50:maxColumnWidth,onMouseMove=react.useCallback((function(event){if(void 0!==dragCol&&void 0!==dragStartX)Math.abs(event.clientX-dragStartX)>20&&setDragColActive(!0);else if(void 0!==dragRow&&void 0!==dragStartY){Math.abs(event.clientY-dragStartY)>20&&setDragRowActive(!0)}else if(void 0!==resizeCol&&void 0!==resizeColStartX){var column=columns[resizeCol],newWidth=clamp_default()(event.clientX-resizeColStartX,50,maxColumnWidthValue);if(null==onColumnResized||onColumnResized(column,newWidth),lastResizeWidthRef.current=newWidth,void 0!==resizeCol&&(null==selectedColumns?void 0:selectedColumns.first())===resizeCol){var _step2,_iterator2=data_grid_dnd_createForOfIteratorHelper(selectedColumns);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var c=_step2.value;c!==resizeCol&&(null==onColumnResized||onColumnResized(columns[c],lastResizeWidthRef.current))}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}}}),[dragCol,dragStartX,dragRow,dragStartY,resizeCol,resizeColStartX,columns,maxColumnWidthValue,onColumnResized,selectedColumns]),getMangledCellContent=react.useCallback((function(cell){if(void 0===dragRow||void 0===dropRow)return getCellContent(cell);var _cell=data_grid_dnd_slicedToArray(cell,2),col=_cell[0],row=_cell[1];return row===dropRow?row=dragRow:(row>dropRow&&(row-=1),row>=dragRow&&(row+=1)),getCellContent([col,row])}),[dragRow,dropRow,getCellContent]);return react.createElement(data_grid,data_grid_dnd_extends({},rest,{getCellContent:getMangledCellContent,isResizing:void 0!==resizeCol,onHeaderMenuClick:onHeaderMenuClickMangled,isDragging:dragColActive,onItemHovered:onItemHoveredImpl,onMouseDown:onMouseDownImpl,allowResize:void 0!==onColumnResized,onMouseUp:onMouseUpImpl,dragAndDropState:dragOffset,onMouseMove:onMouseMove,ref:gridRef}))};data_grid_dnd_DataGridDnd.__docgenInfo={description:"",methods:[],displayName:"DataGridDnd"};var data_grid_dnd=data_grid_dnd_DataGridDnd;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/dist/js/data-grid-dnd/data-grid-dnd.js"]={name:"DataGridDnd",docgenInfo:data_grid_dnd_DataGridDnd.__docgenInfo,path:"core/dist/js/data-grid-dnd/data-grid-dnd.js"});var infinite_scroller_templateObject,dist_index_esm=__webpack_require__(87);var ScrollRegionStyle=styled.div(infinite_scroller_templateObject||(infinite_scroller_templateObject=function infinite_scroller_taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n    .dvn-scroller {\n        overflow: ",";\n        transform: translate3d(0, 0, 0);\n    }\n\n    .dvn-scroll-inner {\n        display: flex;\n        pointer-events: none;\n\n        > * {\n            flex-shrink: 0;\n        }\n\n        .dvn-spacer {\n            flex-grow: 1;\n        }\n\n        .dvn-stack {\n            display: flex;\n            flex-direction: column;\n        }\n    }\n\n    .dvn-underlay > * {\n        position: absolute;\n        left: 0;\n        top: 0;\n    }\n\n    canvas {\n        outline: none;\n\n        * {\n            height: 0;\n        }\n    }\n"])),browserIsSafari?"scroll":"auto"),infinite_scroller_InfiniteScroller=function InfiniteScroller(p){var children=p.children,clientHeight=p.clientHeight,scrollHeight=p.scrollHeight,scrollWidth=p.scrollWidth,update=p.update,draggable=p.draggable,className=p.className,_p$paddingBottom=p.paddingBottom,paddingBottom=void 0===_p$paddingBottom?0:_p$paddingBottom,_p$paddingRight=p.paddingRight,paddingRight=void 0===_p$paddingRight?0:_p$paddingRight,rightElement=p.rightElement,_p$rightElementSticky=p.rightElementSticky,rightElementSticky=void 0!==_p$rightElementSticky&&_p$rightElementSticky,scrollRef=p.scrollRef,scrollToEnd=p.scrollToEnd,style=p.style,padders=[],offsetY=react.useRef(0),lastScrollY=react.useRef(0),scroller=react.useRef(null),dpr=window.devicePixelRatio;react.useEffect((function(){var el=scroller.current;null!==el&&!0===scrollToEnd&&(el.scrollLeft=el.scrollWidth-el.clientWidth)}),[scrollToEnd]);for(var onScroll=react.useCallback((function(){var el=scroller.current;if(null!==el){var newY=el.scrollTop,delta=lastScrollY.current-newY,scrollableHeight=el.scrollHeight-el.clientHeight,maxFakeY=Math.max(0,scrollHeight-el.clientHeight);if(lastScrollY.current=newY,scrollableHeight>0&&(Math.abs(delta)>2e3||0===newY||newY===scrollableHeight)&&scrollHeight>el.scrollHeight+5){var prog=newY/scrollableHeight,recomputed=(scrollHeight-el.clientHeight)*prog;offsetY.current=recomputed-newY}update({x:el.scrollLeft,y:Math.min(maxFakeY,newY+offsetY.current),width:el.clientWidth-paddingRight,height:el.clientHeight-paddingBottom})}}),[paddingBottom,paddingRight,scrollHeight,update]),lastProps=react.useRef(),nomEvent=react.useCallback((function(e){e.stopPropagation()}),[]),setRefs=react.useCallback((function(instance){scroller.current=instance,void 0!==scrollRef&&(scrollRef.current=instance)}),[scrollRef]),key=0,h=0;h<scrollHeight;){var toAdd=Math.min(5e6,scrollHeight-h);padders.push(react.createElement("div",{key:key++,style:{width:scrollWidth,height:toAdd}})),h+=toAdd}return react.createElement("div",{style:style},react.createElement(dist_index_esm.a,null,(function(props){var _lastProps$current,_lastProps$current2;return 0===props.width||0===props.height?null:((null===(_lastProps$current=lastProps.current)||void 0===_lastProps$current?void 0:_lastProps$current.height)===props.height&&(null===(_lastProps$current2=lastProps.current)||void 0===_lastProps$current2?void 0:_lastProps$current2.width)===props.width||(window.setTimeout(onScroll,0),lastProps.current=props),react.createElement(ScrollRegionStyle,null,react.createElement("div",{className:"dvn-underlay"},children),react.createElement("div",{ref:setRefs,style:props,draggable:draggable,onDragStart:function onDragStart(e){draggable||(e.stopPropagation(),e.preventDefault())},className:"dvn-scroller "+(null!=className?className:""),onScroll:onScroll},react.createElement("div",{className:"dvn-scroll-inner"},react.createElement("div",{className:"dvn-stack"},padders),void 0!==rightElement&&react.createElement(react.Fragment,null,react.createElement("div",{className:"dvn-spacer"}),react.createElement("div",{onMouseDown:nomEvent,onMouseUp:nomEvent,onMouseMove:nomEvent,style:{height:props.height,maxHeight:clientHeight-Math.ceil(dpr%1),position:"sticky",top:0,marginBottom:-40,marginRight:paddingRight,right:rightElementSticky?null!=paddingRight?paddingRight:0:void 0,pointerEvents:"auto"}},rightElement))))))})))};infinite_scroller_InfiniteScroller.__docgenInfo={description:"",methods:[],displayName:"InfiniteScroller"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/dist/js/scrolling-data-grid/infinite-scroller.js"]={name:"InfiniteScroller",docgenInfo:infinite_scroller_InfiniteScroller.__docgenInfo,path:"core/dist/js/scrolling-data-grid/infinite-scroller.js"});var scrolling_data_grid_excluded=["className","onVisibleRegionChanged","scrollToEnd","scrollRef","rightElement","rightElementSticky","overscrollX"];function scrolling_data_grid_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=scrolling_data_grid_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function scrolling_data_grid_slicedToArray(arr,i){return function scrolling_data_grid_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function scrolling_data_grid_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||scrolling_data_grid_unsupportedIterableToArray(arr,i)||function scrolling_data_grid_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function scrolling_data_grid_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return scrolling_data_grid_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?scrolling_data_grid_arrayLikeToArray(o,minLen):void 0}}function scrolling_data_grid_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function scrolling_data_grid_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function scrolling_data_grid_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function scrolling_data_grid_extends(){return scrolling_data_grid_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},scrolling_data_grid_extends.apply(this,arguments)}var scrolling_data_grid_GridScroller=function GridScroller(p){var columns=p.columns,rows=p.rows,rowHeight=p.rowHeight,headerHeight=p.headerHeight,freezeColumns=p.freezeColumns,experimental=p.experimental,_ref=null!=experimental?experimental:{},paddingRight=_ref.paddingRight,paddingBottom=_ref.paddingBottom,className=p.className,onVisibleRegionChanged=p.onVisibleRegionChanged,scrollToEnd=p.scrollToEnd,scrollRef=p.scrollRef,rightElement=p.rightElement,rightElementSticky=p.rightElementSticky,overscrollX=p.overscrollX,dataGridProps=scrolling_data_grid_objectWithoutProperties(p,scrolling_data_grid_excluded),smoothScrollX=p.smoothScrollX,smoothScrollY=p.smoothScrollY,_React$useState2=scrolling_data_grid_slicedToArray(react.useState(10),2),clientWidth=_React$useState2[0],setClientWidth=_React$useState2[1],_React$useState4=scrolling_data_grid_slicedToArray(react.useState(10),2),clientHeight=_React$useState4[0],setClientHeight=_React$useState4[1],last=react.useRef(),lastX=react.useRef(),lastY=react.useRef(),width=react.useMemo((function(){var _step,r=Math.max(0,null!=overscrollX?overscrollX:0),_iterator=scrolling_data_grid_createForOfIteratorHelper(columns);try{for(_iterator.s();!(_step=_iterator.n()).done;){r+=_step.value.width}}catch(err){_iterator.e(err)}finally{_iterator.f()}return r}),[columns,overscrollX]),height=headerHeight;if("number"==typeof rowHeight)height+=rows*rowHeight;else for(var r=0;r<rows;r++)height+=rowHeight(r);var lastArgs=react.useRef(),processArgs=react.useCallback((function(){var args=lastArgs.current;if(void 0!==args){setClientHeight(args.height),setClientWidth(args.width);var _step2,x=0,tx=0,cellRight=0,cellX=0,stickyColWidth=columns.slice(0,freezeColumns).map((function(c){return c.width})).reduce((function(pv,cv){return pv+cv}),0),_iterator2=scrolling_data_grid_createForOfIteratorHelper(columns);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var c=_step2.value,cx=x-stickyColWidth;if(args.x>=cx+c.width)x+=c.width,cellX++,cellRight++;else if(args.x>cx)x+=c.width,smoothScrollX?tx+=cx-args.x:cellX++,cellRight++;else{if(!(args.x+args.width>cx))break;x+=c.width,cellRight++}}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}var ty=0,cellY=0,cellBottom=0;if("number"==typeof rowHeight)smoothScrollY?ty=(cellY=Math.floor(args.y/rowHeight))*rowHeight-args.y:cellY=Math.ceil(args.y/rowHeight),cellBottom=Math.ceil(args.height/rowHeight)+cellY,ty<0&&cellBottom++;else for(var y=0,row=0;row<rows;row++){var rh=rowHeight(row),cy=y+(smoothScrollY?0:rh/2);if(args.y>=y+rh)y+=rh,cellY++,cellBottom++;else if(args.y>cy)y+=rh,smoothScrollY?ty+=cy-args.y:cellY++,cellBottom++;else{if(!(args.y+args.height>rh/2+y))break;y+=rh,cellBottom++}}var rect={x:cellX,y:cellY,width:cellRight-cellX,height:cellBottom-cellY},oldRect=last.current;void 0!==oldRect&&oldRect.y===rect.y&&oldRect.x===rect.x&&oldRect.height===rect.height&&oldRect.width===rect.width&&lastX.current===tx&&lastY.current===ty||(null==onVisibleRegionChanged||onVisibleRegionChanged({x:cellX,y:cellY,width:cellRight-cellX,height:cellBottom-cellY},tx,ty),last.current=rect,lastX.current=tx,lastY.current=ty)}}),[columns,rowHeight,rows,onVisibleRegionChanged,freezeColumns,smoothScrollX,smoothScrollY]),onScrollUpdate=react.useCallback((function(args){lastArgs.current=args,processArgs()}),[processArgs]);return react.useEffect((function(){processArgs()}),[processArgs]),react.createElement(infinite_scroller_InfiniteScroller,{scrollRef:scrollRef,className:className,draggable:!0===dataGridProps.isDraggable,scrollWidth:width,scrollHeight:height,clientHeight:clientHeight,rightElement:rightElement,paddingBottom:paddingBottom,paddingRight:paddingRight,rightElementSticky:rightElementSticky,update:onScrollUpdate,scrollToEnd:scrollToEnd},react.createElement(data_grid_dnd,scrolling_data_grid_extends({eventTargetRef:scrollRef,width:clientWidth,height:clientHeight},dataGridProps)))};scrolling_data_grid_GridScroller.__docgenInfo={description:"",methods:[],displayName:"GridScroller"};var data_grid_search_style_templateObject,scrolling_data_grid=scrolling_data_grid_GridScroller;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/dist/js/scrolling-data-grid/scrolling-data-grid.js"]={name:"GridScroller",docgenInfo:scrolling_data_grid_GridScroller.__docgenInfo,path:"core/dist/js/scrolling-data-grid/scrolling-data-grid.js"});var SearchWrapper=styled.div(data_grid_search_style_templateObject||(data_grid_search_style_templateObject=function data_grid_search_style_taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n    position: absolute;\n    top: 4px;\n    right: 20px;\n\n    background-color: ",";\n    color: ",";\n\n    padding: 8px;\n    border: 1px solid ",";\n\n    font-size: 13px;\n\n    transform: translateX(","px);\n    transition: transform 0.15s;\n\n    .search-bar-inner {\n        display: flex;\n    }\n\n    .search-status {\n        margin-top: 4px;\n        font-size: 11px;\n    }\n\n    .search-progress {\n        position: absolute;\n        height: 4px;\n        left: 0;\n        bottom: 0;\n\n        background-color: ",";\n    }\n\n    input {\n        width: 220px;\n        color: ",";\n        border: none;\n        border-width: 0;\n        outline: none;\n    }\n\n    button {\n        width: 24px;\n        height: 24px;\n        padding: 0;\n\n        border: none;\n        outline: none;\n        background: none;\n\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        cursor: pointer;\n        color: ",";\n\n        :hover {\n            color: ",";\n        }\n\n        .button-icon {\n            width: 16px;\n            height: 16px;\n        }\n\n        :disabled {\n            ","\n        }\n    }\n"])),(function(p){return p.theme.bgCell}),(function(p){return p.theme.textDark}),(function(p){return p.theme.borderColor}),(function(p){return p.showSearch?0:400}),(function(p){return p.theme.textLight}),(function(p){return p.theme.textDark}),(function(p){return p.theme.textMedium}),(function(p){return p.theme.textDark}),disabledProps),data_grid_search_excluded=["onKeyDown","getCellsForSelection","onSearchResultsChanged","searchColOffset","showSearch","onSearchClose"];function data_grid_search_slicedToArray(arr,i){return function data_grid_search_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function data_grid_search_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function data_grid_search_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return data_grid_search_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return data_grid_search_arrayLikeToArray(o,minLen)}(arr,i)||function data_grid_search_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function data_grid_search_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function data_grid_search_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function data_grid_search_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function data_grid_search_extends(){return data_grid_search_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},data_grid_search_extends.apply(this,arguments)}var data_grid_search_UpArrow=function UpArrow(){return react.createElement("svg",{className:"button-icon",viewBox:"0 0 512 512"},react.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M112 244l144-144 144 144M256 120v292"}))},data_grid_search_DownArrow=function DownArrow(){return react.createElement("svg",{className:"button-icon",viewBox:"0 0 512 512"},react.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M112 268l144 144 144-144M256 392V100"}))},data_grid_search_CloseX=function CloseX(){return react.createElement("svg",{className:"button-icon",viewBox:"0 0 512 512"},react.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M368 368L144 144M368 144L144 368"}))},data_grid_search_DataGridSearch=function DataGridSearch(p){var _searchStatus$rowsSea,_searchStatus$results,_searchStatus$results2,onKeyDown=p.onKeyDown,getCellsForSelection=p.getCellsForSelection,onSearchResultsChanged=p.onSearchResultsChanged,searchColOffset=p.searchColOffset,_p$showSearch=p.showSearch,showSearch=void 0!==_p$showSearch&&_p$showSearch,onSearchClose=p.onSearchClose,rest=data_grid_search_objectWithoutProperties(p,data_grid_search_excluded),canvasRef=p.canvasRef,cellYOffset=p.cellYOffset,rows=p.rows,columns=p.columns,getCellContent=p.getCellContent,_React$useState2=data_grid_search_slicedToArray(react.useState(""),2),searchString=_React$useState2[0],setSearchString=_React$useState2[1],_React$useState4=data_grid_search_slicedToArray(react.useState(),2),searchStatus=_React$useState4[0],setSearchStatus=_React$useState4[1],searchStatusRef=react.useRef(searchStatus);searchStatusRef.current=searchStatus;var inputRef=react.useRef(null),searchHandle=react.useRef(),_React$useState6=data_grid_search_slicedToArray(react.useState([]),2),searchResults=_React$useState6[0],setSearchResults=_React$useState6[1],cancelSearch=react.useCallback((function(){void 0!==searchHandle.current&&(window.cancelAnimationFrame(searchHandle.current),searchHandle.current=void 0)}),[]),getCellsForSelectionMangled=react.useCallback((function(selection){if(void 0!==getCellsForSelection)return getCellsForSelection(selection.range);if(void 0===selection.range)return[[getCellContent(selection.cell)]];for(var range=selection.range,result=[],row=range.y;row<range.y+range.height;row++){for(var inner=[],col=range.x;col<range.x+range.width;col++)inner.push(getCellContent([col+searchColOffset,row]));result.push(inner)}return result}),[getCellContent,getCellsForSelection,searchColOffset]),beginSearch=react.useCallback((function(str){var regex=new RegExp(str.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"i"),startY=cellYOffset,searchStride=Math.min(10,rows),rowsSearched=0;setSearchStatus(void 0),setSearchResults([]);var runningResult=[];cancelSearch(),searchHandle.current=window.requestAnimationFrame((function tick(){var _searchStatusRef$curr,_searchStatusRef$curr2,tStart=performance.now(),rowsLeft=rows-rowsSearched,data=getCellsForSelectionMangled({cell:[0,0],range:{x:0,y:startY,width:columns.length-searchColOffset,height:Math.min(searchStride,rowsLeft,rows-startY)}}),added=!1;data.forEach((function(d,row){return d.forEach((function(cell,col){var testString;switch(cell.kind){case GridCellKind.Text:case GridCellKind.Number:testString=cell.displayData;break;case GridCellKind.Uri:case GridCellKind.Markdown:testString=cell.data;break;case GridCellKind.Boolean:testString=cell.data.toString();break;case GridCellKind.Image:case GridCellKind.Bubble:testString=cell.data.join("")}void 0!==testString&&regex.test(testString)&&(runningResult.push([col+searchColOffset,row+startY]),added=!0)}))}));var tEnd=performance.now();added&&setSearchResults([].concat(runningResult)),assert((rowsSearched+=data.length)<=rows);var selectedIndex=null!==(_searchStatusRef$curr=null===(_searchStatusRef$curr2=searchStatusRef.current)||void 0===_searchStatusRef$curr2?void 0:_searchStatusRef$curr2.selectedIndex)&&void 0!==_searchStatusRef$curr?_searchStatusRef$curr:-1;setSearchStatus({results:runningResult.length,rowsSearched:rowsSearched,selectedIndex:selectedIndex}),null==onSearchResultsChanged||onSearchResultsChanged(runningResult,selectedIndex),startY+searchStride>=rows?startY=0:startY+=searchStride;var tElapsed=tEnd-tStart,scalar=10/Math.max(tElapsed,1);searchStride=Math.ceil(searchStride*scalar),rowsSearched<rows&&runningResult.length<1e3&&(searchHandle.current=window.requestAnimationFrame(tick))}))}),[cancelSearch,cellYOffset,columns.length,getCellsForSelectionMangled,onSearchResultsChanged,rows,searchColOffset]),cancelEvent=react.useCallback((function(ev){ev.stopPropagation()}),[]),onClose=react.useCallback((function(){var _canvasRef$current;null==onSearchClose||onSearchClose(),setSearchStatus(void 0),setSearchResults([]),null==onSearchResultsChanged||onSearchResultsChanged([],-1),cancelSearch(),null==canvasRef||null===(_canvasRef$current=canvasRef.current)||void 0===_canvasRef$current||_canvasRef$current.focus()}),[cancelSearch,canvasRef,onSearchClose,onSearchResultsChanged]),onSearchChange=react.useCallback((function(event){setSearchString(event.target.value),""===event.target.value?(setSearchStatus(void 0),setSearchResults([]),cancelSearch()):beginSearch(event.target.value)}),[beginSearch,cancelSearch]);react.useEffect((function(){showSearch&&null!==inputRef.current&&(setSearchString(""),inputRef.current.focus({preventScroll:!0}))}),[showSearch]);var resultString,onNext=react.useCallback((function(ev){var _ev$stopPropagation;if(null==ev||null===(_ev$stopPropagation=ev.stopPropagation)||void 0===_ev$stopPropagation||_ev$stopPropagation.call(ev),void 0!==searchStatus){var newIndex=(searchStatus.selectedIndex+1)%searchStatus.results;setSearchStatus(Object.assign({},searchStatus,{selectedIndex:newIndex})),null==onSearchResultsChanged||onSearchResultsChanged(searchResults,newIndex)}}),[searchStatus,onSearchResultsChanged,searchResults]),onPrev=react.useCallback((function(ev){var _ev$stopPropagation2;if(null==ev||null===(_ev$stopPropagation2=ev.stopPropagation)||void 0===_ev$stopPropagation2||_ev$stopPropagation2.call(ev),void 0!==searchStatus){var newIndex=(searchStatus.selectedIndex-1)%searchStatus.results;newIndex<0&&(newIndex+=searchStatus.results),setSearchStatus(Object.assign({},searchStatus,{selectedIndex:newIndex})),null==onSearchResultsChanged||onSearchResultsChanged(searchResults,newIndex)}}),[onSearchResultsChanged,searchResults,searchStatus]),onSearchKeyDown=react.useCallback((function(event){(event.ctrlKey||event.metaKey)&&"f"===event.key||"Escape"===event.key?(onClose(),event.stopPropagation(),event.preventDefault()):"Enter"===event.key&&(event.shiftKey?onPrev():onNext())}),[onClose,onNext,onPrev]),rowsSearchedProgress=Math.floor((null!==(_searchStatus$rowsSea=null==searchStatus?void 0:searchStatus.rowsSearched)&&void 0!==_searchStatus$rowsSea?_searchStatus$rowsSea:0)/rows*100),progressStyle=react.useMemo((function(){return{width:rowsSearchedProgress+"%"}}),[rowsSearchedProgress]);return react.useEffect((function(){return function(){cancelSearch()}}),[cancelSearch]),void 0!==searchStatus&&(resultString=searchStatus.results>=1e3?"over 1000":searchStatus.results+" result"+(1!==searchStatus.results?"s":""),searchStatus.selectedIndex>=0&&(resultString=searchStatus.selectedIndex+1+" of "+resultString)),react.createElement(react.Fragment,null,react.createElement(scrolling_data_grid,data_grid_search_extends({},rest,{onKeyDown:onKeyDown,prelightCells:searchResults})),react.createElement(SearchWrapper,{showSearch:showSearch,onMouseDown:cancelEvent,onMouseMove:cancelEvent,onMouseUp:cancelEvent,onClick:cancelEvent},react.createElement("div",{className:"search-bar-inner"},react.createElement("input",{ref:inputRef,onChange:onSearchChange,value:searchString,tabIndex:showSearch?void 0:-1,onKeyDownCapture:onSearchKeyDown}),react.createElement("button",{tabIndex:showSearch?void 0:-1,onClick:onPrev,disabled:0===(null!==(_searchStatus$results=null==searchStatus?void 0:searchStatus.results)&&void 0!==_searchStatus$results?_searchStatus$results:0)},react.createElement(data_grid_search_UpArrow,null)),react.createElement("button",{tabIndex:showSearch?void 0:-1,onClick:onNext,disabled:0===(null!==(_searchStatus$results2=null==searchStatus?void 0:searchStatus.results)&&void 0!==_searchStatus$results2?_searchStatus$results2:0)},react.createElement(data_grid_search_DownArrow,null)),void 0!==onSearchClose&&react.createElement("button",{tabIndex:showSearch?void 0:-1,onClick:onClose},react.createElement(data_grid_search_CloseX,null))),void 0!==searchStatus&&react.createElement(react.Fragment,null,react.createElement("div",{className:"search-status"},react.createElement("div",null,resultString)),react.createElement("div",{className:"search-progress",style:progressStyle}))))};data_grid_search_DataGridSearch.__docgenInfo={description:"",methods:[],displayName:"DataGridSearch"};var data_grid_search=data_grid_search_DataGridSearch;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/dist/js/data-grid-search/data-grid-search.js"]={name:"DataGridSearch",docgenInfo:data_grid_search_DataGridSearch.__docgenInfo,path:"core/dist/js/data-grid-search/data-grid-search.js"});var data_editor_excluded=["columns","rows","getCellContent","onCellClicked","onHeaderClicked","onCellEdited","enableDownfill","onRowAppended","onColumnMoved","drawCell","drawCustomCell","onDeleteRows","onDragStart","onPaste","freezeColumns","rowSelectionMode","onHeaderMenuClick","onItemHovered","onVisibleRegionChanged","selectedColumns","onSelectedColumnsChange","selectedRows","onSelectedRowsChange","gridSelection","onGridSelectionChange","provideEditor","trailingRowOptions","verticalBorder"];function data_editor_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=data_editor_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function data_editor_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function data_editor_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){data_editor_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){data_editor_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function data_editor_toConsumableArray(arr){return function data_editor_arrayWithoutHoles(arr){if(Array.isArray(arr))return data_editor_arrayLikeToArray(arr)}(arr)||function data_editor_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||data_editor_unsupportedIterableToArray(arr)||function data_editor_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function data_editor_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function data_editor_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function data_editor_slicedToArray(arr,i){return function data_editor_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function data_editor_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||data_editor_unsupportedIterableToArray(arr,i)||function data_editor_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function data_editor_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return data_editor_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?data_editor_arrayLikeToArray(o,minLen):void 0}}function data_editor_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function data_editor_extends(){return data_editor_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},data_editor_extends.apply(this,arguments)}var image_overlay_editor_style_templateObject,DataEditor=react.forwardRef((function DataEditorImpl(p,forwardedRef){var _gridSelection$cell,_React$useState2=data_editor_slicedToArray(react.useState(),2),gridSelectionInner=_React$useState2[0],setGridSelectionInner=_React$useState2[1],_React$useState4=data_editor_slicedToArray(react.useState(CompactSelection.empty()),2),selectedColumnsInner=_React$useState4[0],setSelectedColumnsInner=_React$useState4[1],_React$useState6=data_editor_slicedToArray(react.useState(CompactSelection.empty()),2),selectedRowsInner=_React$useState6[0],setSelectedRowsInner=_React$useState6[1],_React$useState8=data_editor_slicedToArray(react.useState(),2),overlay=_React$useState8[0],setOverlay=_React$useState8[1],canvasRef=react.useRef(null),mouseState=react.useRef(),scrollRef=react.useRef(null),scrollTimer=react.useRef(),lastSent=react.useRef(),isDraggable=p.isDraggable,getCellsForSelection=p.getCellsForSelection,_p$rowMarkers=p.rowMarkers,rowMarkers=void 0===_p$rowMarkers?"none":_p$rowMarkers,_p$rowHeight=p.rowHeight,rowHeight=void 0===_p$rowHeight?34:_p$rowHeight,_p$headerHeight=p.headerHeight,rawHeaderHeight=void 0===_p$headerHeight?36:_p$headerHeight,rowMarkerWidthRaw=p.rowMarkerWidth,imageEditorOverride=p.imageEditorOverride,markdownDivCreateNode=p.markdownDivCreateNode,columns=p.columns,rows=p.rows,getCellContent=p.getCellContent,onCellClicked=p.onCellClicked,onHeaderClicked=p.onHeaderClicked,onCellEdited=p.onCellEdited,_p$enableDownfill=p.enableDownfill,enableDownfill=void 0!==_p$enableDownfill&&_p$enableDownfill,onRowAppended=p.onRowAppended,onColumnMoved=p.onColumnMoved,drawCell=p.drawCell,drawCustomCell=p.drawCustomCell,onDeleteRows=p.onDeleteRows,onDragStart=p.onDragStart,onPaste=p.onPaste,_p$freezeColumns=p.freezeColumns,freezeColumns=void 0===_p$freezeColumns?0:_p$freezeColumns,_p$rowSelectionMode=p.rowSelectionMode,rowSelectionMode=void 0===_p$rowSelectionMode?"auto":_p$rowSelectionMode,onHeaderMenuClick=p.onHeaderMenuClick,onItemHovered=p.onItemHovered,onVisibleRegionChanged=p.onVisibleRegionChanged,selectedColumnsOuter=p.selectedColumns,setSelectedColumnsOuter=p.onSelectedColumnsChange,selectedRowsOuter=p.selectedRows,setSelectedRowsOuter=p.onSelectedRowsChange,gridSelectionOuter=p.gridSelection,onGridSelectionChange=p.onGridSelectionChange,provideEditor=p.provideEditor,trailingRowOptions=p.trailingRowOptions,verticalBorder=p.verticalBorder,rest=data_editor_objectWithoutProperties(p,data_editor_excluded),rowMarkerWidth=(null!=rowMarkerWidthRaw?rowMarkerWidthRaw:rows>1e4)?48:rows>1e3?44:rows>100?36:32,hasRowMarkers="none"!==rowMarkers,rowMarkerOffset=hasRowMarkers?1:0,showTrailingBlankRow=void 0!==onRowAppended,lastRowSticky=!0===(null==trailingRowOptions?void 0:trailingRowOptions.sticky),mangledFreezeColumns=freezeColumns+(hasRowMarkers?1:0),gridSelection=null!=gridSelectionOuter?gridSelectionOuter:gridSelectionInner,setGridSelection=null!=onGridSelectionChange?onGridSelectionChange:setGridSelectionInner,selectedRows=null!=selectedRowsOuter?selectedRowsOuter:selectedRowsInner,setSelectedRows=null!=setSelectedRowsOuter?setSelectedRowsOuter:setSelectedRowsInner,mangledOuterCols=null==selectedColumnsOuter?void 0:selectedColumnsOuter.offset(rowMarkerOffset),selectedColumns=null!=mangledOuterCols?mangledOuterCols:selectedColumnsInner,mangledSetSelectedColumns=react.useCallback((function(newColumns){null==setSelectedColumnsOuter||setSelectedColumnsOuter(newColumns.offset(-rowMarkerOffset))}),[rowMarkerOffset,setSelectedColumnsOuter]),enableGroups=react.useMemo((function(){return columns.some((function(c){return void 0!==c.group}))}),[columns]),headerHeight=enableGroups?2*rawHeaderHeight:rawHeaderHeight,setSelectedColumns=void 0!==setSelectedColumnsOuter?mangledSetSelectedColumns:setSelectedColumnsInner,_React$useState10=data_editor_slicedToArray(react.useState({x:0,y:0,width:1,height:1}),2),visibleRegion=_React$useState10[0],setVisibleRegion=_React$useState10[1],cellXOffset=visibleRegion.x+rowMarkerOffset,cellYOffset=visibleRegion.y,gridRef=react.useRef(null);react.useImperativeHandle(forwardedRef,(function(){return{updateCells:function updateCells(){for(var _gridRef$current9,_gridRef$current,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return null===(_gridRef$current=gridRef.current)||void 0===_gridRef$current?void 0:(_gridRef$current9=_gridRef$current).damage.apply(_gridRef$current9,args)}}}),[]);var focus=react.useCallback((function(immediate){var _gridRef$current2;!0===immediate?null===(_gridRef$current2=gridRef.current)||void 0===_gridRef$current2||_gridRef$current2.focus():window.requestAnimationFrame((function(){var _gridRef$current3;null===(_gridRef$current3=gridRef.current)||void 0===_gridRef$current3||_gridRef$current3.focus()}))}),[]),mangledRows=showTrailingBlankRow?rows+1:rows,mangledOnCellEdited=react.useCallback((function(cell,newValue){null==onCellEdited||onCellEdited([cell[0]-rowMarkerOffset,cell[1]],newValue)}),[onCellEdited,rowMarkerOffset]),mangledCols=react.useMemo((function(){return"none"===rowMarkers?columns:[{title:"",width:rowMarkerWidth,icon:void 0,hasMenu:!1,style:"normal"}].concat(data_editor_toConsumableArray(columns))}),[columns,rowMarkerWidth,rowMarkers]),getMangedCellContent=react.useCallback((function(_ref){var _ref2=data_editor_slicedToArray(_ref,2),col=_ref2[0],row=_ref2[1],isTrailing=showTrailingBlankRow&&row===mangledRows-1;if(0===col&&hasRowMarkers)return isTrailing?{kind:GridCellKind.Loading,allowOverlay:!1}:{kind:InnerGridCellKind.Marker,allowOverlay:!1,checked:selectedRows.hasIndex(row),markerKind:rowMarkers,row:row};if(isTrailing){var _trailingRowOptions$h,isFirst=col===rowMarkerOffset,display=isFirst&&null!==(_trailingRowOptions$h=null==trailingRowOptions?void 0:trailingRowOptions.hint)&&void 0!==_trailingRowOptions$h?_trailingRowOptions$h:"";return{kind:InnerGridCellKind.NewRow,hint:display,isFirst:isFirst,allowOverlay:!1}}return getCellContent([col-rowMarkerOffset,row])}),[showTrailingBlankRow,mangledRows,hasRowMarkers,selectedRows,rowMarkers,rowMarkerOffset,null==trailingRowOptions?void 0:trailingRowOptions.hint,getCellContent]),reselect=react.useCallback((function(bounds,initialValue){if(void 0!==gridSelection){var _gridSelection$cell2=data_editor_slicedToArray(gridSelection.cell,2),col=_gridSelection$cell2[0],row=_gridSelection$cell2[1],c=getMangedCellContent([col,row]);if(c.kind!==GridCellKind.Boolean&&c.allowOverlay){var content=c;if(void 0!==initialValue)switch(content.kind){case GridCellKind.Text:content=Object.assign({},content,{data:initialValue});break;case GridCellKind.Number:content=Object.assign({},content,{data:maybe((function(){return Number.parseFloat(initialValue)}),0)});break;case GridCellKind.Markdown:case GridCellKind.Uri:content=Object.assign({},content,{data:initialValue})}setOverlay({target:bounds,content:content,cell:[col,row],highlight:void 0===initialValue,forceEditMode:void 0!==initialValue})}}}),[getMangedCellContent,gridSelection]),focusOnRowFromTrailingBlankRow=react.useCallback((function(col,row){var _gridRef$current4,bounds=null===(_gridRef$current4=gridRef.current)||void 0===_gridRef$current4?void 0:_gridRef$current4.getBounds(col,row);if(void 0!==bounds&&null!==scrollRef.current){var content=getMangedCellContent([col,row]);if(content.allowOverlay){switch(content.kind){case GridCellKind.Text:content=Object.assign({},content,{data:""});break;case GridCellKind.Number:content=Object.assign({},content,{data:void 0});break;case GridCellKind.Markdown:case GridCellKind.Uri:content=Object.assign({},content,{data:""})}setOverlay({target:bounds,content:content,highlight:!0,cell:[col,row],forceEditMode:!0})}}}),[getMangedCellContent]),focusCallback=react.useRef(focusOnRowFromTrailingBlankRow),getCellContentRef=react.useRef(getCellContent),rowsRef=react.useRef(rows);focusCallback.current=focusOnRowFromTrailingBlankRow,getCellContentRef.current=getCellContent,rowsRef.current=rows;var _ref3,appendRow=react.useCallback((_ref3=data_editor_asyncToGenerator(regeneratorRuntime.mark((function _callee(col){var appendResult,bottom,backoff;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(appendResult=null==onRowAppended?void 0:onRowAppended(),bottom=!0,void 0===appendResult){_context.next=7;break}return _context.next=5,appendResult;case 5:"top"===_context.sent&&(bottom=!1);case 7:backoff=0,function doFocus(){var _scrollRef$current;if(rowsRef.current<=rows)return backoff<500&&window.setTimeout(doFocus,backoff),void(backoff=50+2*backoff);var row=bottom?rows:0;null===(_scrollRef$current=scrollRef.current)||void 0===_scrollRef$current||_scrollRef$current.scrollBy(0,(bottom?1:-1)*scrollRef.current.scrollHeight+1e3),setGridSelection({cell:[col,row],range:{x:col,y:row,width:1,height:1}});var cell=getCellContentRef.current([col-rowMarkerOffset,row]);cell.allowOverlay&&isReadWriteCell(cell)&&!0!==cell.readonly&&window.setTimeout((function(){focusCallback.current(col,row)}),0)}();case 10:case"end":return _context.stop()}}),_callee)}))),function(_x){return _ref3.apply(this,arguments)}),[onRowAppended,rowMarkerOffset,rows,setGridSelection]),lastSelectedRowRef=react.useRef(),lastSelectedColRef=react.useRef(),onMouseDown=react.useCallback((function(args){mouseState.current={previousSelection:gridSelection};var isMultiKey=browserIsOSX.value?args.metaKey:args.ctrlKey;if("cell"===args.kind){lastSelectedColRef.current=void 0;var _args$location=data_editor_slicedToArray(args.location,2),col=_args$location[0],row=_args$location[1];if(0===col&&hasRowMarkers){if(!0===showTrailingBlankRow&&row===rows||"number"===rowMarkers)return;setGridSelection(void 0),setOverlay(void 0),focus(),setSelectedColumns(CompactSelection.empty());var isSelected=selectedRows.hasIndex(row),lastHighlighted=lastSelectedRowRef.current;if(args.shiftKey&&void 0!==lastHighlighted&&selectedRows.hasIndex(lastHighlighted)){var newSlice=[Math.min(lastHighlighted,row),Math.max(lastHighlighted,row)+1];setSelectedRows(isMultiKey||"multi"===rowSelectionMode?selectedRows.add(newSlice):CompactSelection.fromSingleSelection(newSlice))}else isMultiKey||args.isTouch||"multi"===rowSelectionMode?isSelected?setSelectedRows(selectedRows.remove(row)):(setSelectedRows(selectedRows.add(row)),lastSelectedRowRef.current=row):isSelected&&1===selectedRows.length?setSelectedRows(CompactSelection.empty()):(setSelectedRows(CompactSelection.fromSingleSelection(row)),lastSelectedRowRef.current=row)}else if(col>=rowMarkerOffset&&showTrailingBlankRow&&row===rows)appendRow(col);else if((null==gridSelection?void 0:gridSelection.cell[0])!==col||gridSelection.cell[1]!==row){var isLastStickyRow=lastRowSticky&&row===rows,startedFromLastSticky=lastRowSticky&&void 0!==gridSelection&&gridSelection.cell[1]===rows;if(args.shiftKey&&void 0!==gridSelection&&!startedFromLastSticky){if(isLastStickyRow)return;var _gridSelection$cell3=data_editor_slicedToArray(gridSelection.cell,2),sCol=_gridSelection$cell3[0],sRow=_gridSelection$cell3[1],left=Math.min(col,sCol),right=Math.max(col,sCol),top=Math.min(row,sRow),_bottom=Math.max(row,sRow);setGridSelection(Object.assign({},gridSelection,{range:{x:left,y:top,width:right-left+1,height:_bottom-top+1}})),lastSelectedRowRef.current=void 0,focus()}else setGridSelection({cell:[col,row],range:{x:col,y:row,width:1,height:1}}),setSelectedColumns(CompactSelection.empty()),setSelectedRows(CompactSelection.empty()),lastSelectedRowRef.current=void 0,setOverlay(void 0),focus()}}else if("header"===args.kind){var _col=data_editor_slicedToArray(args.location,1)[0];if(setGridSelection(void 0),setOverlay(void 0),hasRowMarkers&&0===_col)lastSelectedRowRef.current=void 0,lastSelectedColRef.current=void 0,selectedRows.length!==rows?setSelectedRows(CompactSelection.fromSingleSelection([0,rows])):setSelectedRows(CompactSelection.empty()),focus();else{var lastCol=lastSelectedColRef.current;if(args.shiftKey&&void 0!==lastCol&&selectedColumns.hasIndex(lastCol)){var _newSlice=[Math.min(lastCol,_col),Math.max(lastCol,_col)+1];setSelectedColumns(isMultiKey?selectedColumns.add(_newSlice):CompactSelection.fromSingleSelection(_newSlice))}else isMultiKey?(selectedColumns.hasIndex(_col)?setSelectedColumns(selectedColumns.remove(_col)):setSelectedColumns(selectedColumns.add(_col)),lastSelectedColRef.current=_col):(setSelectedColumns(CompactSelection.fromSingleSelection(_col)),lastSelectedColRef.current=_col);setSelectedRows(CompactSelection.empty()),lastSelectedRowRef.current=void 0,focus()}}else if("out-of-bounds"===args.kind)setGridSelection(void 0),setOverlay(void 0),focus(),setSelectedColumns(CompactSelection.empty()),setSelectedRows(CompactSelection.empty()),lastSelectedRowRef.current=void 0,lastSelectedColRef.current=void 0;else if("group-header"===args.kind){var _col2=data_editor_slicedToArray(args.location,1)[0];if(_col2<rowMarkerOffset)return;for(var needle=mangledCols[_col2],start=_col2,end=_col2,i=_col2-1;i>=rowMarkerOffset&&needle.group===mangledCols[i].group;i--)start--;for(var _i2=_col2+1;_i2<mangledCols.length&&needle.group===mangledCols[_i2].group;_i2++)end++;if(setSelectedRows(CompactSelection.empty()),setGridSelection(void 0),focus(),isMultiKey)if(selectedColumns.hasAll([start,end+1])){for(var newVal=selectedColumns,index=start;index<=end;index++)newVal=newVal.remove(index);setSelectedColumns(newVal)}else setSelectedColumns(selectedColumns.add([start,end+1]));else setSelectedColumns(CompactSelection.fromSingleSelection([start,end+1]))}}),[gridSelection,hasRowMarkers,rowMarkerOffset,showTrailingBlankRow,rows,rowMarkers,setGridSelection,focus,setSelectedColumns,selectedRows,rowSelectionMode,setSelectedRows,appendRow,lastRowSticky,selectedColumns,mangledCols]),onMouseUp=react.useCallback((function(args,isOutside){var _mouse$previousSelect,mouse=mouseState.current;if(mouseState.current=void 0,!isOutside&&(void 0!==scrollTimer.current&&window.clearInterval(scrollTimer.current),"header"===args.kind&&(null==onHeaderClicked||onHeaderClicked(args.location[0]-rowMarkerOffset)),"cell"===args.kind&&void 0!==gridSelection&&void 0!==(null==mouse||null===(_mouse$previousSelect=mouse.previousSelection)||void 0===_mouse$previousSelect?void 0:_mouse$previousSelect.cell))){var _args$location4=data_editor_slicedToArray(args.location,2),col=_args$location4[0],row=_args$location4[1],_gridSelection$cell4=data_editor_slicedToArray(gridSelection.cell,2),selectedCol=_gridSelection$cell4[0],selectedRow=_gridSelection$cell4[1],_mouse$previousSelect2=data_editor_slicedToArray(mouse.previousSelection.cell,2),prevCol=_mouse$previousSelect2[0],prevRow=_mouse$previousSelect2[1],c=getMangedCellContent([col,row]),r=c.kind===GridCellKind.Custom?void 0:CellRenderers[c.kind];if(void 0!==r&&void 0!==r.onClick){var _gridRef$current5,newVal=r.onClick(c,args.localEventX,args.localEventY,args.bounds);if(void 0!==newVal&&!isInnerOnlyCell(newVal)&&isEditableGridCell(newVal))mangledOnCellEdited(args.location,newVal),null===(_gridRef$current5=gridRef.current)||void 0===_gridRef$current5||_gridRef$current5.damage([{cell:args.location}])}col===selectedCol&&col===prevCol&&row===selectedRow&&row===prevRow&&reselect(args.bounds),null==onCellClicked||onCellClicked([args.location[0]-rowMarkerOffset,args.location[1]])}}),[getMangedCellContent,gridSelection,mangledOnCellEdited,onCellClicked,onHeaderClicked,reselect,rowMarkerOffset]),onHeaderMenuClickInner=react.useCallback((function(col,screenPosition){null==onHeaderMenuClick||onHeaderMenuClick(col-rowMarkerOffset,screenPosition)}),[onHeaderMenuClick,rowMarkerOffset]),onVisibleRegionChangedImpl=react.useCallback((function(region,tx,ty){var newRegion=Object.assign({},region,{x:region.x-rowMarkerOffset,height:showTrailingBlankRow&&region.y+region.height>=rows?region.height-1:region.height,tx:tx,ty:ty});setVisibleRegion(newRegion),null==onVisibleRegionChanged||onVisibleRegionChanged(newRegion,tx,ty)}),[onVisibleRegionChanged,rowMarkerOffset,rows,showTrailingBlankRow]),onColumnMovedImpl=react.useCallback((function(startIndex,endIndex){null==onColumnMoved||onColumnMoved(startIndex-rowMarkerOffset,endIndex-rowMarkerOffset),setSelectedColumns(CompactSelection.fromSingleSelection(endIndex))}),[onColumnMoved,rowMarkerOffset,setSelectedColumns]),onDragStartImpl=react.useCallback((function(args){null==onDragStart||onDragStart(Object.assign({},args,{location:[args.location[0]-rowMarkerOffset,args.location[1]]}))}),[onDragStart,rowMarkerOffset]),onItemHoveredImpl=react.useCallback((function(args){if(void 0!==mouseState.current&&void 0!==gridSelection&&!isDraggable){var _gridSelection$cell5=data_editor_slicedToArray(gridSelection.cell,2),selectedCol=_gridSelection$cell5[0],selectedRow=_gridSelection$cell5[1],_args$location5=data_editor_slicedToArray(args.location,2),col=_args$location5[0],row=_args$location5[1];if(lastRowSticky&&row===rows||lastRowSticky&&selectedRow===rows)return;0===col&&hasRowMarkers&&(col=1);var deltaX=col-selectedCol,deltaY=(null!=row?row:0)-selectedRow,newRange={x:deltaX>=0?selectedCol:col,y:deltaY>=0?selectedRow:null!=row?row:0,width:Math.abs(deltaX)+1,height:Math.abs(deltaY)+1};if(setGridSelection(Object.assign({},gridSelection,{range:newRange})),"out-of-bounds"===args.kind&&null!==scrollRef.current){var _args$direction=data_editor_slicedToArray(args.direction,2),horizontal=_args$direction[0],vertical=_args$direction[1],scrollX=0,scrollY=0;-1===horizontal?scrollX=columns[columns.length-1].width:1===horizontal&&(scrollX=-columns[0].width),0!==vertical&&(scrollY="number"==typeof rowHeight?rowHeight*vertical:rowHeight(null!=row?row:0)*vertical),void 0!==scrollTimer.current&&window.clearInterval(scrollTimer.current),scrollTimer.current=window.setInterval((function(){var _scrollRef$current2;null===(_scrollRef$current2=scrollRef.current)||void 0===_scrollRef$current2||_scrollRef$current2.scrollBy(-100*horizontal,scrollY)}),200),scrollRef.current.scrollBy(scrollX,scrollY)}else void 0!==scrollTimer.current&&window.clearInterval(scrollTimer.current)}null==onItemHovered||onItemHovered(args)}),[gridSelection,isDraggable,onItemHovered,lastRowSticky,rows,hasRowMarkers,setGridSelection,columns,rowHeight]),copyToClipboard=react.useCallback((function(cells){function escape(str){return/\n|"|\t/.test(str)&&(str='"'+str.replace(/"/g,'""')+'"'),str}var formatCell=function formatCell(cell){switch(cell.kind){case GridCellKind.Text:case GridCellKind.Number:return escape(cell.displayData);case GridCellKind.Markdown:case GridCellKind.RowID:case GridCellKind.Uri:return escape(cell.data);case GridCellKind.Image:case GridCellKind.Bubble:return cell.data.reduce((function(pv,cv){return escape(pv)+","+escape(cv)}));case GridCellKind.Boolean:return cell.data?"TRUE":"FALSE";case GridCellKind.Loading:return"#LOADING";case GridCellKind.Protected:return"************";case GridCellKind.Drilldown:return cell.data.map((function(i){return i.text})).reduce((function(pv,cv){return escape(pv)+","+escape(cv)}));case GridCellKind.Custom:return escape(cell.copyData);default:assertNever()}},str=cells.map((function(row){return row.map(formatCell).join("\t")})).join("\n");window.navigator.clipboard.writeText(str)}),[]),scrollTo=react.useCallback((function(col,row){var dir=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"both";if(null!==scrollRef.current){var grid=gridRef.current,canvas=canvasRef.current;if(null!==grid&&null!==canvas){var bounds=grid.getBounds(col,row),scrollBounds=canvas.getBoundingClientRect();if(void 0!==bounds){var scrollX=0,scrollY=0,sLeft=scrollBounds.left+rowMarkerOffset*rowMarkerWidth,sRight=scrollBounds.right,sTop=scrollBounds.top+headerHeight,trailingRowHeight=0;lastRowSticky&&(trailingRowHeight="number"==typeof rowHeight?rowHeight:rowHeight(rows));var sBottom=scrollBounds.bottom-trailingRowHeight;sLeft>bounds.x?scrollX=bounds.x-sLeft:sRight<bounds.x+bounds.width&&(scrollX=bounds.x+bounds.width-sRight),sTop>bounds.y?scrollY=bounds.y-sTop:sBottom<bounds.y+bounds.height&&(scrollY=bounds.y+bounds.height-sBottom),"vertical"===dir?scrollX=0:"horizontal"===dir&&(scrollY=0),0===scrollX&&0===scrollY||scrollRef.current.scrollTo(scrollX+scrollRef.current.scrollLeft,scrollY+scrollRef.current.scrollTop)}}}}),[headerHeight,lastRowSticky,rowHeight,rowMarkerOffset,rowMarkerWidth,rows]),adjustSelection=react.useCallback((function(direction){var _oldRange$x,_oldRange$y,_oldRange$width,_oldRange$height;if(void 0!==gridSelection){var _direction=data_editor_slicedToArray(direction,2),x=_direction[0],y=_direction[1],_gridSelection$cell6=data_editor_slicedToArray(gridSelection.cell,2),col=_gridSelection$cell6[0],row=_gridSelection$cell6[1],oldRange=gridSelection.range,left=null!==(_oldRange$x=null==oldRange?void 0:oldRange.x)&&void 0!==_oldRange$x?_oldRange$x:col,top=null!==(_oldRange$y=null==oldRange?void 0:oldRange.y)&&void 0!==_oldRange$y?_oldRange$y:row,width=null!==(_oldRange$width=null==oldRange?void 0:oldRange.width)&&void 0!==_oldRange$width?_oldRange$width:1,height=null!==(_oldRange$height=null==oldRange?void 0:oldRange.height)&&void 0!==_oldRange$height?_oldRange$height:1,isTop=0===top-row;y<0&&1===height&&(isTop=!1);var heightDiff=isTop?y:-1*y,isLeft=0===left-col;x<0&&1===width&&(isLeft=!1);var widthDiff=isLeft?x:-1*x;if(isTop){var maxHeight=rows-top;height+=heightDiff,height=Math.min(maxHeight,height),scrollTo(0,top+height-1,"vertical")}else top-=heightDiff,height=Math.abs(top-row)+1,scrollTo(0,top,"vertical");isLeft?scrollTo(left+(width+=widthDiff)-1,0,"horizontal"):(left-=widthDiff,left=Math.max(rowMarkerOffset,left),width=Math.abs(left-col)+1,scrollTo(left,0,"horizontal")),setGridSelection(Object.assign({},gridSelection,{range:{x:left,y:top,width:width,height:height}}))}}),[gridSelection,rowMarkerOffset,rows,scrollTo,setGridSelection]),updateSelectedCell=react.useCallback((function(col,row){var fromEditingTrailingRow=arguments.length>2&&void 0!==arguments[2]&&arguments[2],rowMax=mangledRows-(fromEditingTrailingRow?0:1);return col=Object(fp.clamp)(rowMarkerOffset,columns.length-1+rowMarkerOffset,col),row=Object(fp.clamp)(0,rowMax,row),(col!==(null==gridSelection?void 0:gridSelection.cell[0])||row!==(null==gridSelection?void 0:gridSelection.cell[1]))&&(setGridSelection({cell:[col,row],range:{x:col,y:row,width:1,height:1}}),void 0!==lastSent.current&&lastSent.current[0]===col&&lastSent.current[1]===row&&(lastSent.current=void 0),scrollTo(col,row),!0)}),[mangledRows,rowMarkerOffset,columns.length,null==gridSelection?void 0:gridSelection.cell,setGridSelection,scrollTo]),onFinishEditing=react.useCallback((function(newValue,movement){void 0!==gridSelection&&void 0!==newValue&&(null==mangledOnCellEdited||mangledOnCellEdited([gridSelection.cell[0],gridSelection.cell[1]],newValue)),focus(!0),setOverlay(void 0);var _movement=data_editor_slicedToArray(movement,2),movX=_movement[0],movY=_movement[1];if(void 0!==gridSelection&&(0!==movX||0!==movY)){var isEditingTrailingRow=gridSelection.cell[1]===mangledRows-1&&void 0!==newValue;updateSelectedCell(gridSelection.cell[0]+movX,gridSelection.cell[1]+movY,isEditingTrailingRow)}}),[gridSelection,focus,mangledOnCellEdited,mangledRows,updateSelectedCell]),_ref5=data_editor_slicedToArray(null!==(_gridSelection$cell=null==gridSelection?void 0:gridSelection.cell)&&void 0!==_gridSelection$cell?_gridSelection$cell:[],2),selCol=_ref5[0],selRow=_ref5[1],onCellFocused=react.useCallback((function(cell){selCol===cell[0]&&selRow===cell[1]||(setGridSelection({cell:cell,range:{x:cell[0],y:cell[1],width:1,height:1}}),setSelectedRows(CompactSelection.empty()))}),[selCol,selRow,setGridSelection,setSelectedRows]),onKeyDown=react.useCallback((function(event){var _ref6,fn=(_ref6=data_editor_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var overlayOpen,shiftKey,isOSX,isPrimaryKey,isDeleteKey,_gridSelection$cell7,col,row,_gridRef$current6,damage,r,x,fillCol,fillVal,y,fillRow,target,_gridRef$current7,range,damaged,_x2,_y,cellValue,_r$onDelete,_r,newVal,key;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(overlayOpen=void 0!==overlay,shiftKey=event.shiftKey,isOSX=browserIsOSX.value,isPrimaryKey=isOSX?event.metaKey:event.ctrlKey,isDeleteKey="Delete"===event.key||isOSX&&"Backspace"===event.key,"Escape"!==event.key){_context2.next=13;break}if(!overlayOpen){_context2.next=9;break}return setOverlay(void 0),_context2.abrupt("return");case 9:return setGridSelection(void 0),setSelectedRows(CompactSelection.empty()),setSelectedColumns(CompactSelection.empty()),_context2.abrupt("return");case 13:if(!isDeleteKey||void 0===selectedRows||0===selectedRows.length||void 0!==gridSelection){_context2.next=18;break}return focus(),null==onDeleteRows||onDeleteRows(Array.from(selectedRows)),setSelectedRows(CompactSelection.empty()),_context2.abrupt("return");case 18:if(void 0!==gridSelection){_context2.next=20;break}return _context2.abrupt("return");case 20:if(_gridSelection$cell7=data_editor_slicedToArray(gridSelection.cell,2),col=_gridSelection$cell7[0],row=_gridSelection$cell7[1],"Enter"!==event.key||void 0===event.bounds){_context2.next=25;break}overlayOpen?(setOverlay(void 0),row++):row===rows&&showTrailingBlankRow?window.setTimeout((function(){appendRow(col)}),0):(reselect(event.bounds),event.cancel()),_context2.next=82;break;case 25:if(!(68===event.keyCode&&isPrimaryKey&&gridSelection.range.height>1&&enableDownfill)){_context2.next=42;break}damage=[],r=gridSelection.range,x=0;case 29:if(!(x<r.width)){_context2.next=38;break}if(fillCol=x+r.x,!isInnerOnlyCell(fillVal=getMangedCellContent([fillCol,r.y]))&&isEditableGridCell(fillVal)){_context2.next=34;break}return _context2.abrupt("continue",35);case 34:for(y=1;y<r.height;y++)fillRow=y+r.y,target=[fillCol,fillRow],damage.push(target),null==mangledOnCellEdited||mangledOnCellEdited(target,Object.assign({},fillVal));case 35:x++,_context2.next=29;break;case 38:null===(_gridRef$current6=gridRef.current)||void 0===_gridRef$current6||_gridRef$current6.damage(damage.map((function(c){return{cell:c}}))),event.cancel(),_context2.next=82;break;case 42:if("ArrowDown"!==event.key){_context2.next=47;break}setOverlay(void 0),shiftKey?adjustSelection([0,isPrimaryKey?Number.MAX_SAFE_INTEGER:1]):row+=isPrimaryKey?Number.MAX_SAFE_INTEGER:1,_context2.next=82;break;case 47:if("ArrowUp"!==event.key){_context2.next=52;break}setOverlay(void 0),shiftKey?adjustSelection([0,isPrimaryKey?Number.MIN_SAFE_INTEGER:-1]):row+=isPrimaryKey?Number.MIN_SAFE_INTEGER:-1,_context2.next=82;break;case 52:if("ArrowRight"!==event.key){_context2.next=57;break}setOverlay(void 0),shiftKey?adjustSelection([isPrimaryKey?Number.MAX_SAFE_INTEGER:1,0]):col+=isPrimaryKey?Number.MAX_SAFE_INTEGER:1,_context2.next=82;break;case 57:if("ArrowLeft"!==event.key){_context2.next=62;break}setOverlay(void 0),shiftKey?adjustSelection([isPrimaryKey?Number.MIN_SAFE_INTEGER:-1,0]):col+=isPrimaryKey?Number.MIN_SAFE_INTEGER:-1,_context2.next=82;break;case 62:if("Tab"!==event.key){_context2.next=67;break}setOverlay(void 0),shiftKey?col--:col++,_context2.next=82;break;case 67:if(!isDeleteKey){_context2.next=75;break}for(range=gridSelection.range,focus(),damaged=[],_x2=range.x;_x2<range.x+range.width;_x2++)for(_y=range.y;_y<range.y+range.height;_y++)(isEditableGridCell(cellValue=getCellContent([_x2-rowMarkerOffset,_y]))&&cellValue.allowOverlay||cellValue.kind===GridCellKind.Boolean)&&(_r=CellRenderers[cellValue.kind],void 0!==(newVal=null===(_r$onDelete=_r.onDelete)||void 0===_r$onDelete?void 0:_r$onDelete.call(_r,cellValue))&&(mangledOnCellEdited([_x2,_y],newVal),damaged.push([_x2,_y])));null===(_gridRef$current7=gridRef.current)||void 0===_gridRef$current7||_gridRef$current7.damage(damaged.map((function(x){return{cell:x}}))),_context2.next=82;break;case 75:if(event.metaKey||event.ctrlKey||!String.fromCharCode(event.keyCode).match(/(\w|\s)/g)||void 0===event.bounds||!isReadWriteCell(getCellContent([col-rowMarkerOffset,Math.max(0,row-1)]))){_context2.next=82;break}if(lastRowSticky&&row===rows||!(visibleRegion.y>row||row>visibleRegion.y+visibleRegion.height||visibleRegion.x>col||col>visibleRegion.x+visibleRegion.width)){_context2.next=78;break}return _context2.abrupt("return");case 78:key=String.fromCharCode(event.keyCode),event.shiftKey||(key=key.toLowerCase()),reselect(event.bounds,key),event.cancel();case 82:updateSelectedCell(col,row)&&event.cancel();case 84:case"end":return _context2.stop()}}),_callee2)}))),function fn(){return _ref6.apply(this,arguments)});fn()}),[overlay,selectedRows,gridSelection,enableDownfill,getCellContent,rowMarkerOffset,updateSelectedCell,setGridSelection,setSelectedRows,setSelectedColumns,focus,onDeleteRows,rows,showTrailingBlankRow,appendRow,reselect,getMangedCellContent,mangledOnCellEdited,adjustSelection,lastRowSticky,visibleRegion.y,visibleRegion.height,visibleRegion.x,visibleRegion.width]);function unquote(str){function descape(s){return s.startsWith('"')&&s.endsWith('"')&&(s=s.slice(1,-1).replace(/""/g,'"')),s}var State;!function(State){State[State.None=0]="None",State[State.inString=1]="inString",State[State.inStringPostQuote=2]="inStringPostQuote"}(State||(State={}));var _step,result=[],current=[],start=0,state=State.None,index=0,_iterator=data_editor_createForOfIteratorHelper(str=str.trim().replace(/\r\n/g,"\n"));try{for(_iterator.s();!(_step=_iterator.n()).done;){var _char=_step.value;switch(state){case State.None:"\t"===_char||"\n"===_char?(current.push(str.slice(start,index)),start=index+1,"\n"===_char&&(result.push(current),current=[])):'"'===_char&&(state=State.inString);break;case State.inString:'"'===_char&&(state=State.inStringPostQuote);break;case State.inStringPostQuote:'"'===_char?state=State.inString:"\t"===_char||"\n"===_char?(current.push(descape(str.slice(start,index))),start=index+1,"\n"===_char&&(result.push(current),current=[]),state=State.None):state=State.None}index++}}catch(err){_iterator.e(err)}finally{_iterator.f()}return start<str.length&&current.push(descape(str.slice(start,str.length))),result.push(current),result}useEventListener("paste",react.useCallback(data_editor_asyncToGenerator(regeneratorRuntime.mark((function _callee3(){var _scrollRef$current3,_canvasRef$current,pasteToCell,focused,target,_selectedColumns$firs,_selectedRows$first,_gridRef$current8,text,_target2,gridCol,gridRow,cellData,data,damage,row,dataRow,col,dataItem,index,_cellData;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(pasteToCell=function _pasteToCell(inner,target,toPaste){if(!isInnerOnlyCell(inner)&&isReadWriteCell(inner)&&!0!==inner.readonly)switch(inner.kind){case GridCellKind.Text:case GridCellKind.Markdown:case GridCellKind.Uri:return null==mangledOnCellEdited||mangledOnCellEdited(target,Object.assign({},inner,{data:toPaste})),!0;case GridCellKind.Number:var newNumber=Number.parseFloat(toPaste);return!Number.isNaN(newNumber)&&(null==mangledOnCellEdited||mangledOnCellEdited(target,Object.assign({},inner,{data:newNumber})),!0);default:assertNever()}return!1},focused=(null===(_scrollRef$current3=scrollRef.current)||void 0===_scrollRef$current3?void 0:_scrollRef$current3.contains(document.activeElement))||(null===(_canvasRef$current=canvasRef.current)||void 0===_canvasRef$current?void 0:_canvasRef$current.contains(document.activeElement)),void 0===(target=null==gridSelection?void 0:gridSelection.cell)&&1===selectedColumns.length&&(target=[null!==(_selectedColumns$firs=selectedColumns.first())&&void 0!==_selectedColumns$firs?_selectedColumns$firs:0,0]),void 0===target&&1===selectedRows.length&&(target=[rowMarkerOffset,null!==(_selectedRows$first=selectedRows.first())&&void 0!==_selectedRows$first?_selectedRows$first:0]),!focused||void 0===target){_context3.next=28;break}return _context3.next=8,navigator.clipboard.readText();case 8:if(text=_context3.sent,_target2=data_editor_slicedToArray(target,2),gridCol=_target2[0],gridRow=_target2[1],void 0!==onPaste){_context3.next=14;break}return cellData=getMangedCellContent(target),pasteToCell(cellData,target,text),_context3.abrupt("return");case 14:if(data=unquote(text),!1!==onPaste&&("function"!=typeof onPaste||!0===(null==onPaste?void 0:onPaste(target,data)))){_context3.next=17;break}return _context3.abrupt("return");case 17:damage=[],row=0;case 19:if(!(row<data.length)){_context3.next=27;break}if(dataRow=data[row],!(row+gridRow>=rows)){_context3.next=23;break}return _context3.abrupt("break",27);case 23:for(col=0;col<dataRow.length;col++)dataItem=dataRow[col],_cellData=getMangedCellContent(index=[col+gridCol,row+gridRow]),pasteToCell(_cellData,index,dataItem)&&damage.push(index);case 24:row++,_context3.next=19;break;case 27:null===(_gridRef$current8=gridRef.current)||void 0===_gridRef$current8||_gridRef$current8.damage(damage.map((function(c){return{cell:c}})));case 28:case"end":return _context3.stop()}}),_callee3)}))),[getMangedCellContent,gridSelection,mangledOnCellEdited,onPaste,rowMarkerOffset,rows,selectedColumns,selectedRows]),window,!1,!0),useEventListener("copy",react.useCallback((function(){var _scrollRef$current4,_canvasRef$current2;if(((null===(_scrollRef$current4=scrollRef.current)||void 0===_scrollRef$current4?void 0:_scrollRef$current4.contains(document.activeElement))||(null===(_canvasRef$current2=canvasRef.current)||void 0===_canvasRef$current2?void 0:_canvasRef$current2.contains(document.activeElement)))&&getCellsForSelection)if(void 0!==gridSelection){var _gridSelection$cell8=data_editor_slicedToArray(gridSelection.cell,2),col=_gridSelection$cell8[0],row=_gridSelection$cell8[1];if(void 0!==gridSelection.range&&void 0!==getCellsForSelection)copyToClipboard(getCellsForSelection(Object.assign({},gridSelection.range,{x:gridSelection.range.x-rowMarkerOffset})));else{var cellValue=getCellContent([col-rowMarkerOffset,row]);copyToClipboard([[cellValue]])}}else if(void 0!==selectedRows&&selectedRows.length>0){var cells=Array.from(selectedRows).map((function(rowIndex){return getCellsForSelection({x:0,y:rowIndex,width:columns.length,height:1})[0]}));copyToClipboard(cells)}else if(selectedColumns.length>=1){var _step2,results=[],_iterator2=data_editor_createForOfIteratorHelper(selectedColumns);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _col3=_step2.value;results.push(getCellsForSelection({x:_col3-rowMarkerOffset,y:0,width:1,height:rows}))}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}1===results.length&&copyToClipboard(results[0]);var _toCopy=results.reduce((function(pv,cv){return pv.map((function(row,index){return[].concat(data_editor_toConsumableArray(row),data_editor_toConsumableArray(cv[index]))}))}));copyToClipboard(_toCopy)}}),[columns.length,copyToClipboard,getCellContent,getCellsForSelection,gridSelection,rowMarkerOffset,rows,selectedColumns,selectedRows]),window,!0,!1);var onSearchResultsChanged=react.useCallback((function(results,navIndex){if(0!==results.length&&-1!==navIndex){var _results$navIndex=data_editor_slicedToArray(results[navIndex],2),col=_results$navIndex[0],row=_results$navIndex[1];void 0!==lastSent.current&&lastSent.current[0]===col&&lastSent.current[1]===row||(lastSent.current=[col,row],updateSelectedCell(col,row))}}),[updateSelectedCell]);react.useEffect((function(){if(void 0!==gridSelection){var _gridSelection$cell9=data_editor_slicedToArray(gridSelection.cell,2),col=_gridSelection$cell9[0],row=_gridSelection$cell9[1];void 0!==mangledCols[col]&&updateSelectedCell(col,row)}}),[mangledCols,rows,gridSelection,updateSelectedCell]);var disabledRows=react.useMemo((function(){return!0===showTrailingBlankRow&&!0===(null==trailingRowOptions?void 0:trailingRowOptions.tint)?CompactSelection.fromSingleSelection(mangledRows-1):CompactSelection.empty()}),[mangledRows,showTrailingBlankRow,null==trailingRowOptions?void 0:trailingRowOptions.tint]),theme=Object(styled_components_browser_esm.d)(),mergedTheme=react.useMemo((function(){return Object.assign({},function getDataEditorTheme(){return dataEditorBaseTheme}(),theme)}),[theme]),mangedVerticalBorder=react.useCallback((function(col){var _verticalBorder;return"boolean"==typeof verticalBorder?verticalBorder:null===(_verticalBorder=null==verticalBorder?void 0:verticalBorder(col-rowMarkerOffset))||void 0===_verticalBorder||_verticalBorder}),[rowMarkerOffset,verticalBorder]),drawCustomCellMangled=react.useMemo((function(){return void 0!==drawCell?drawCell:void 0!==drawCustomCell?function(a){return drawCustomCell(a.ctx,a.cell,a.theme,a.rect,a.hoverAmount)}:void 0}),[drawCell,drawCustomCell]);return react.createElement(styled_components_browser_esm.a,{theme:mergedTheme},react.createElement(data_grid_search,data_editor_extends({},rest,{enableGroups:enableGroups,canvasRef:canvasRef,cellXOffset:cellXOffset,cellYOffset:cellYOffset,columns:mangledCols,drawCustomCell:drawCustomCellMangled,disabledRows:disabledRows,freezeColumns:mangledFreezeColumns,getCellContent:getMangedCellContent,headerHeight:headerHeight,lastRowSticky:lastRowSticky,onCellFocused:onCellFocused,onColumnMoved:void 0===onColumnMoved?void 0:onColumnMovedImpl,onDragStart:onDragStartImpl,onHeaderMenuClick:onHeaderMenuClickInner,onItemHovered:onItemHoveredImpl,onKeyDown:onKeyDown,onMouseDown:onMouseDown,onMouseUp:onMouseUp,onSearchResultsChanged:onSearchResultsChanged,onVisibleRegionChanged:onVisibleRegionChangedImpl,rowHeight:rowHeight,rows:mangledRows,scrollRef:scrollRef,searchColOffset:rowMarkerOffset,selectedCell:gridSelection,selectedColumns:selectedColumns,selectedRows:selectedRows,translateX:visibleRegion.tx,translateY:visibleRegion.ty,verticalBorder:mangedVerticalBorder,gridRef:gridRef})),void 0!==overlay&&react.createElement(data_grid_overlay_editor,data_editor_extends({},overlay,{provideEditor:provideEditor,imageEditorOverride:imageEditorOverride,onFinishEditing:onFinishEditing,markdownDivCreateNode:markdownDivCreateNode})))}));DataEditor.__docgenInfo={description:"",methods:[],displayName:"DataEditor"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/dist/js/data-editor/data-editor.js"]={name:"DataEditor",docgenInfo:DataEditor.__docgenInfo,path:"core/dist/js/data-editor/data-editor.js"});var ImageOverlayEditorStyle=styled.div(image_overlay_editor_style_templateObject||(image_overlay_editor_style_templateObject=function image_overlay_editor_style_taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n    display: flex;\n\n    height: 100%;\n\n    .centering-container {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n\n        height: 100%;\n\n        img,\n        canvas {\n            max-height: calc(100vh - var(--overlay-top) - 20px);\n            object-fit: contain;\n            user-select: none;\n        }\n\n        canvas {\n            max-width: 380px;\n        }\n    }\n\n    .edit-icon {\n        position: absolute;\n        top: 12px;\n        right: 0;\n        width: 48px;\n        height: 48px;\n        color: ",";\n\n        cursor: pointer;\n\n        display: flex;\n        justify-content: center;\n        align-items: center;\n\n        > * {\n            width: 24px;\n            height: 24px;\n        }\n    }\n\n    textarea {\n        position: absolute;\n        top: 0px;\n        left: 0px;\n        width: 0px;\n        height: 0px;\n\n        opacity: 0;\n    }\n"])),(function(p){return p.theme.accentColor})),js=__webpack_require__(209),image_overlay_editor_ImageOverlayEditor=function ImageOverlayEditor(p){var urls=p.urls,canWrite=p.canWrite,onKeyDown=p.onKeyDown,onEditClick=p.onEditClick,renderImage=p.renderImage,filtered=urls.filter((function(u){return""!==u}));if(0===filtered.length)return null;var allowMove=filtered.length>1;return react.createElement(ImageOverlayEditorStyle,{onKeyDown:onKeyDown},react.createElement(js.Carousel,{showArrows:allowMove,showThumbs:!1,swipeable:allowMove,emulateTouch:allowMove,infiniteLoop:allowMove},filtered.map((function(url){var _renderImage,innerContent=null!==(_renderImage=null==renderImage?void 0:renderImage(url))&&void 0!==_renderImage?_renderImage:react.createElement("img",{draggable:!1,src:url});return react.createElement("div",{className:"centering-container",key:url},innerContent)}))),canWrite&&onEditClick&&react.createElement("button",{className:"edit-icon",onClick:onEditClick},react.createElement(utils_EditPencil,null)),react.createElement("textarea",{autoFocus:!0,onKeyDown:onKeyDown}))};image_overlay_editor_ImageOverlayEditor.__docgenInfo={description:"",methods:[],displayName:"ImageOverlayEditor"};var image_overlay_editor=image_overlay_editor_ImageOverlayEditor;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/dist/js/data-grid-overlay-editor/private/image-overlay-editor.js"]={name:"ImageOverlayEditor",docgenInfo:image_overlay_editor_ImageOverlayEditor.__docgenInfo,path:"core/dist/js/data-grid-overlay-editor/private/image-overlay-editor.js"});var data_grid_container_templateObject,data_grid_container_excluded=["width","height","children"];function data_grid_container_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function data_grid_container_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function data_grid_container_extends(){return data_grid_container_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},data_grid_container_extends.apply(this,arguments)}var Wrapper=styled.div(data_grid_container_templateObject||(data_grid_container_templateObject=function data_grid_container_taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n    overflow: hidden;\n    position: relative;\n\n    width: ","px;\n    height: ","px;\n\n    > :first-child {\n        position: absolute;\n        left: 0;\n        top: 0;\n        width: 100%;\n        height: 100%;\n    }\n"])),(function(p){return p.width}),(function(p){return p.height})),data_grid_container_DataEditorContainer=function DataEditorContainer(p){var width=p.width,height=p.height,children=p.children,rest=data_grid_container_objectWithoutProperties(p,data_grid_container_excluded);return react.createElement(Wrapper,data_grid_container_extends({width:width,height:height},rest),children)};data_grid_container_DataEditorContainer.__docgenInfo={description:"",methods:[],displayName:"DataEditorContainer"};var data_grid_container=data_grid_container_DataEditorContainer;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/dist/js/data-editor-container/data-grid-container.js"]={name:"DataEditorContainer",docgenInfo:data_grid_container_DataEditorContainer.__docgenInfo,path:"core/dist/js/data-editor-container/data-grid-container.js"});var star_cell_templateObject;function star_cell_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function star_cell_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return star_cell_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return star_cell_arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function star_cell_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var starPoints=[[50,5],[61.23,39.55],[97.55,39.55],[68.16,60.9],[79.39,95.45],[50,74.1],[20.61,95.45],[31.84,60.9],[2.45,39.55],[38.77,39.55]];function pathStar(ctx,center,size){var _step,moved=!1,_iterator=star_cell_createForOfIteratorHelper(starPoints);try{for(_iterator.s();!(_step=_iterator.n()).done;){var p=_step.value,x=(p[0]-50)*(size/100)+center[0],y=(p[1]-50)*(size/100)+center[1];moved?ctx.lineTo(x,y):(ctx.moveTo(x,y),moved=!0)}}catch(err){_iterator.e(err)}finally{_iterator.f()}ctx.closePath()}var star_cell_StarSVG=function StarSVG(){return react.createElement("svg",{width:"100",height:"100",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react.createElement("path",{d:"M47.1468 13.7811C48.0449 11.0172 51.9551 11.0172 52.8532 13.7812L60.5522 37.4762C60.9538 38.7123 62.1056 39.5491 63.4053 39.5491H88.3198C91.226 39.5491 92.4343 43.268 90.0831 44.9762L69.9269 59.6205C68.8755 60.3845 68.4355 61.7386 68.8371 62.9746L76.5361 86.6697C77.4342 89.4336 74.2707 91.732 71.9196 90.0238L51.7634 75.3794C50.7119 74.6155 49.2881 74.6155 48.2366 75.3795L28.0804 90.0238C25.7293 91.732 22.5659 89.4336 23.4639 86.6697L31.1629 62.9746C31.5645 61.7386 31.1245 60.3845 30.0731 59.6205L9.91686 44.9762C7.56572 43.268 8.77405 39.5491 11.6802 39.5491H36.5947C37.8944 39.5491 39.0462 38.7123 39.4478 37.4762L47.1468 13.7811Z",fill:"currentColor"}))},EditorWrap=styled_components_browser_esm.c.div(star_cell_templateObject||(star_cell_templateObject=function star_cell_taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n    .active {\n        color: ",";\n    }\n\n    display: flex;\n    align-items: center;\n    padding: 6px 0;\n    color: ",";\n\n    > * {\n        position: relative;\n        width: 16px;\n        height: 16px;\n        cursor: pointer;\n        margin-right: 2px;\n\n        svg {\n            width: 100%;\n            height: 100%;\n        }\n    }\n"])),(function(p){return p.theme.textDark}),(function(p){return p.theme.textLight})),star_cell={isMatch:function isMatch(cell){return"star-cell"===cell.data.kind},draw:function draw(args,cell){var ctx=args.ctx,theme=args.theme,rect=args.rect,hoverAmount=args.hoverAmount,rating=cell.data.rating,drawX=theme.cellHorizontalPadding,stars=Math.min(5,Math.ceil(rating));drawX+=8,ctx.beginPath();for(var i=0;i<stars;i++)pathStar(ctx,[drawX,rect.y+rect.height/2],16),drawX+=18;return ctx.fillStyle=theme.textDark,ctx.globalAlpha=.6+.4*hoverAmount,ctx.fill(),ctx.globalAlpha=1,!0},provideEditor:function provideEditor(){return function(p){return react.createElement(EditorWrap,null,[0,1,2,3,4].map((function(index){return react.createElement("div",{key:index,className:p.value.data.rating<index+1?"inactive":"active",onClick:function onClick(){p.onChange(Object.assign({},p.value,{data:Object.assign({},p.value.data,{rating:index+1})}))}},react.createElement(star_cell_StarSVG,null))})))}}};function sparkline_cell_slicedToArray(arr,i){return function sparkline_cell_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function sparkline_cell_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||sparkline_cell_unsupportedIterableToArray(arr,i)||function sparkline_cell_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sparkline_cell_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return sparkline_cell_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sparkline_cell_arrayLikeToArray(o,minLen):void 0}}function sparkline_cell_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var tags_cell_templateObject,sparkline_cell={isMatch:function isMatch(cell){return"sparkline-cell"===cell.data.kind},draw:function draw(args,cell){var ctx=args.ctx,theme=args.theme,rect=args.rect,hoverAmount=args.hoverAmount,hoverX=args.hoverX,_cell$data=cell.data,values=_cell$data.values,yAxis=_cell$data.yAxis,color=_cell$data.color,_cell$data$graphKind=_cell$data.graphKind,graphKind=void 0===_cell$data$graphKind?"line":_cell$data$graphKind,displayValues=_cell$data.displayValues,_yAxis=sparkline_cell_slicedToArray(yAxis,2),minY=_yAxis[0],maxY=_yAxis[1];if(0===values.length)return!0;values=values.map((function(x){return Math.min(1,Math.max(0,(x-minY)/(maxY-minY)))}));var padX=theme.cellHorizontalPadding,drawX=padX+rect.x,y=rect.y+3,height=rect.height-6,width=rect.width-2*padX,zeroY=maxY<=0?y:minY>=0?y+height:y+height*(maxY/(maxY-minY));if(minY<=0&&maxY>=0&&(ctx.beginPath(),ctx.moveTo(drawX,zeroY),ctx.lineTo(drawX+width,zeroY),ctx.globalAlpha=.4,ctx.lineWidth=1,ctx.strokeStyle=theme.textLight,ctx.stroke(),ctx.globalAlpha=1),"bar"===graphKind){var _cell$data$color;ctx.beginPath();var _step,barWidth=(width-2*(values.length-1))/values.length,x=drawX,_iterator=function sparkline_cell_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=sparkline_cell_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(values);try{for(_iterator.s();!(_step=_iterator.n()).done;){var val=_step.value,barY=y+height-val*height;ctx.moveTo(x,zeroY),ctx.lineTo(x+barWidth,zeroY),ctx.lineTo(x+barWidth,barY),ctx.lineTo(x,barY),x+=barWidth+2}}catch(err){_iterator.e(err)}finally{_iterator.f()}ctx.fillStyle=null!==(_cell$data$color=cell.data.color)&&void 0!==_cell$data$color?_cell$data$color:theme.accentColor,ctx.fill()}else{1===values.length&&(values=[values[0],values[0]]),ctx.beginPath();var i,xStep=(rect.width-16)/(values.length-1),points=values.map((function(val,ind){return{x:drawX+xStep*ind,y:y+height-val*height}}));for(ctx.moveTo(points[0].x,points[0].y),i=1;i<points.length-2;i++){var xControl=(points[i].x+points[i+1].x)/2,yControl=(points[i].y+points[i+1].y)/2;ctx.quadraticCurveTo(points[i].x,points[i].y,xControl,yControl)}ctx.quadraticCurveTo(points[i].x,points[i].y,points[i+1].x,points[i+1].y),ctx.strokeStyle=null!=color?color:theme.accentColor,ctx.lineWidth=1+.5*hoverAmount,ctx.stroke(),ctx.lineTo(rect.x+rect.width-padX,zeroY),ctx.lineTo(rect.x+padX,zeroY),ctx.closePath(),ctx.globalAlpha=.2+.2*hoverAmount;var grad=ctx.createLinearGradient(0,y,0,y+1.4*height);grad.addColorStop(0,null!=color?color:theme.accentColor);var _parseToRgba2=sparkline_cell_slicedToArray(parseToRgba(null!=color?color:theme.accentColor),3),r=_parseToRgba2[0],g=_parseToRgba2[1],b=_parseToRgba2[2];if(grad.addColorStop(1,"rgba("+r+", "+g+", "+b+", 0)"),ctx.fillStyle=grad,ctx.fill(),ctx.globalAlpha=1,void 0!==hoverX&&"line"===graphKind&&void 0!==displayValues){ctx.beginPath();var closest=Math.min(values.length-1,Math.max(0,Math.round((hoverX-padX)/xStep)));ctx.moveTo(drawX+closest*xStep,rect.y),ctx.lineTo(drawX+closest*xStep,rect.y+rect.height),ctx.lineWidth=1,ctx.strokeStyle=theme.textLight,ctx.stroke(),ctx.save(),ctx.font="8px "+theme.fontFamily,ctx.fillStyle=theme.textMedium,ctx.fillText(displayValues[closest],drawX,rect.y+12),ctx.restore()}}return!0},provideEditor:function provideEditor(){}};function tags_cell_toConsumableArray(arr){return function tags_cell_arrayWithoutHoles(arr){if(Array.isArray(arr))return tags_cell_arrayLikeToArray(arr)}(arr)||function tags_cell_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||tags_cell_unsupportedIterableToArray(arr)||function tags_cell_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tags_cell_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return tags_cell_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tags_cell_arrayLikeToArray(o,minLen):void 0}}function tags_cell_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var tags_cell_EditorWrap=styled_components_browser_esm.c.div(tags_cell_templateObject||(tags_cell_templateObject=function tags_cell_taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n    display: flex;\n    flex-direction: column;\n    align-items: stretch;\n    padding-top: 6px;\n    color: ",";\n\n    &&&& label {\n        display: flex;\n        cursor: pointer;\n\n        input {\n            cursor: pointer;\n            width: auto;\n        }\n\n        .pill {\n            margin-left: 8px;\n            margin-right: 6px;\n            margin-bottom: 6px;\n\n            border-radius: 100px;\n            height: ","px;\n            padding: 0 ","px;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n\n            font: 12px ",";\n\n            background-color: ",";\n\n            transition: box-shadow 150ms;\n\n            &.unselected {\n                opacity: 0.8;\n            }\n        }\n    }\n    label:hover .pill {\n        box-shadow: 0 1px 4px rgba(0, 0, 0, 0.15);\n    }\n"])),(function(p){return p.theme.textDark}),20,6,(function(p){return p.theme.fontFamily}),(function(p){return p.theme.bgBubble}));function src_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function src_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return src_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return src_arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function src_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var src_cells=[star_cell,sparkline_cell,{isMatch:function isMatch(c){return"tags-cell"===c.data.kind},draw:function draw(args,cell){var _step,ctx=args.ctx,theme=args.theme,rect=args.rect,_cell$data=cell.data,possibleTags=_cell$data.possibleTags,tags=_cell$data.tags,drawArea={x:rect.x+theme.cellHorizontalPadding,y:rect.y+theme.cellVerticalPadding,width:rect.width-2*theme.cellHorizontalPadding,height:rect.height-2*theme.cellVerticalPadding},rows=Math.max(1,Math.floor(drawArea.height/26)),x=drawArea.x,row=1,y=drawArea.y+(drawArea.height-20*rows-6*(rows-1))/2,_loop=function _loop(tag){var color=null!==(_possibleTags$find$co=null===(_possibleTags$find=possibleTags.find((function(t){return t.tag===tag})))||void 0===_possibleTags$find?void 0:_possibleTags$find.color)&&void 0!==_possibleTags$find$co?_possibleTags$find$co:theme.bgBubble;ctx.font="12px "+theme.fontFamily;var metrics=measureTextCached(tag,ctx),width=metrics.width+12,textY=10+metrics.actualBoundingBoxAscent/2;if(x!==drawArea.x&&x+width>drawArea.x+drawArea.width&&row<rows&&(row++,y+=26,x=drawArea.x),ctx.fillStyle=color,ctx.beginPath(),function tags_cell_roundedRect(ctx,x,y,width,height,radius){ctx.moveTo(x+radius,y),ctx.arcTo(x+width,y,x+width,y+radius,radius),ctx.arcTo(x+width,y+height,x+width-radius,y+height,radius),ctx.arcTo(x,y+height,x,y+height-radius,radius),ctx.arcTo(x,y,x+radius,y,radius)}(ctx,x,y,width,20,10),ctx.fill(),ctx.fillStyle=theme.textDark,ctx.fillText(tag,x+6,y+textY),(x+=width+8)>drawArea.x+drawArea.width&&row>rows)return"break"},_iterator=function tags_cell_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=tags_cell_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(tags);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _possibleTags$find$co,_possibleTags$find;if("break"===_loop(_step.value))break}}catch(err){_iterator.e(err)}finally{_iterator.f()}return!0},provideEditor:function provideEditor(){return function(p){var _onChange=p.onChange,value=p.value,_value$data=value.data,possibleTags=_value$data.possibleTags,tags=_value$data.tags;return react.createElement(tags_cell_EditorWrap,null,possibleTags.map((function(t){var selected=-1!==tags.indexOf(t.tag);return react.createElement("label",{key:t.tag},react.createElement("input",{type:"checkbox",checked:selected,onChange:function onChange(){var newTags=selected?tags.filter((function(x){return x!==t.tag})):[].concat(tags_cell_toConsumableArray(tags),[t.tag]);_onChange(Object.assign({},p.value,{data:Object.assign({},value.data,{tags:newTags})}))}}),react.createElement("div",{className:"pill "+(selected?"selectd":"unselected"),style:{backgroundColor:selected?t.color:void 0}},t.tag))})))}}}];var cell_stories_templateObject,cell_stories_templateObject2,cell_stories_templateObject3,uniq=__webpack_require__(427),uniq_default=__webpack_require__.n(uniq);function cell_stories_slicedToArray(arr,i){return function cell_stories_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function cell_stories_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function cell_stories_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return cell_stories_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cell_stories_arrayLikeToArray(o,minLen)}(arr,i)||function cell_stories_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cell_stories_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function cell_stories_taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}function cell_stories_extends(){return cell_stories_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},cell_stories_extends.apply(this,arguments)}var SimpleWrapper=styled_components_browser_esm.c.div(cell_stories_templateObject||(cell_stories_templateObject=cell_stories_taggedTemplateLiteralLoose(["\n    text-rendering: optimizeLegibility;\n    -webkit-font-smoothing: antialiased;\n\n    box-sizing: border-box;\n\n    *,\n    *::before,\n    *::after {\n        box-sizing: inherit;\n    }\n"]))),cell_stories_SimpleThemeWrapper=function SimpleThemeWrapper(p){return react.createElement(SimpleWrapper,null,react.createElement("div",{className:"content"},p.children))},BeautifulStyle=(__webpack_exports__.default={title:"Extra Cells",decorators:[function(Story){return react.createElement(cell_stories_SimpleThemeWrapper,null,react.createElement(Story,null))}]},styled_components_browser_esm.c.div(cell_stories_templateObject2||(cell_stories_templateObject2=cell_stories_taggedTemplateLiteralLoose(["\n    background-color: #2790b9;\n    background: linear-gradient(90deg, #2790b9, #2070a9);\n    color: white;\n\n    padding: 32px 48px;\n\n    display: flex;\n    flex-direction: column;\n    height: 100vh;\n\n    font-family: sans-serif;\n\n    & > h1 {\n        font-size: 50px;\n        font-weight: 600;\n        flex-shrink: 0;\n        margin: 0 0 12px 0;\n    }\n\n    .sizer {\n        flex-grow: 1;\n\n        background-color: white;\n\n        border-radius: 12px;\n        box-shadow: rgba(9, 30, 66, 0.25) 0px 4px 8px -2px, rgba(9, 30, 66, 0.08) 0px 0px 0px 1px;\n\n        .sizer-clip {\n            border-radius: 12px;\n            overflow: hidden;\n            transform: translateZ(0);\n\n            height: 100%;\n        }\n    }\n"])))),cell_stories_BeautifulWrapper=function BeautifulWrapper(p){var title=p.title,children=p.children,description=p.description;return react.createElement(BeautifulStyle,null,react.createElement("h1",null,title),description,react.createElement("div",{className:"sizer"},react.createElement("div",{className:"sizer-clip"},react.createElement(index_esm.a,null,(function(props){var _props$width,_props$height;return react.createElement(data_grid_container,{width:null!==(_props$width=props.width)&&void 0!==_props$width?_props$width:100,height:null!==(_props$height=props.height)&&void 0!==_props$height?_props$height:100},children)})))))},Description=styled_components_browser_esm.c.p(cell_stories_templateObject3||(cell_stories_templateObject3=cell_stories_taggedTemplateLiteralLoose(["\n    font-size: 18px;\n    flex-shrink: 0;\n    margin: 0 0 20px 0;\n"]))),defaultProps={smoothScrollX:!0,smoothScrollY:!0,isDraggable:!1,rowMarkers:"none"},num=1;function rand(){return(num=16807*num%2147483647)/2147483647}var cell_stories_possibleTags=[{tag:"Bug",color:"#ff4d4d35"},{tag:"Feature",color:"#35f8ff35"},{tag:"Enhancement",color:"#48ff5735"},{tag:"First Issue",color:"#436fff35"},{tag:"PR",color:"#e0ff3235"},{tag:"Assigned",color:"#ff1eec35"}],cell_stories_CustomCells=function CustomCells(){var _useExtraCells=function useExtraCells(){return{drawCell:react.useCallback((function(args){var cell=args.cell;if(cell.kind!==GridCellKind.Custom)return!1;var _step,_iterator=src_createForOfIteratorHelper(src_cells);try{for(_iterator.s();!(_step=_iterator.n()).done;){var c=_step.value;if(c.isMatch(cell))return c.draw(args,cell)}}catch(err){_iterator.e(err)}finally{_iterator.f()}return!1}),[]),provideEditor:react.useCallback((function(cell){if(cell.kind===GridCellKind.Custom){var _step2,_iterator2=src_createForOfIteratorHelper(src_cells);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var c=_step2.value;if(c.isMatch(cell))return c.provideEditor(cell)}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}}),[])}}(),drawCell=_useExtraCells.drawCell,provideEditor=_useExtraCells.provideEditor;return react.createElement(cell_stories_BeautifulWrapper,{title:"Custom cells",description:react.createElement(Description,null,"Some of our extension cells.")},react.createElement(DataEditor,cell_stories_extends({},defaultProps,{drawCell:drawCell,provideEditor:provideEditor,getCellContent:function getCellContent(cell){var _cell=cell_stories_slicedToArray(cell,2),col=_cell[0],row=_cell[1];if(0===col)return{kind:GridCellKind.Custom,allowOverlay:!0,copyData:"4",data:{kind:"star-cell",label:"Test",rating:4}};if(1===col){num=row+1;var values=range_default()(0,15).map((function(){return 100*rand()-50}));return{kind:GridCellKind.Custom,allowOverlay:!1,copyData:"4",data:{kind:"sparkline-cell",values:values,displayValues:values.map((function(x){return Math.round(x).toString()})),color:row%2==0?"#77c4c4":"#D98466",yAxis:[-50,50]}}}return 2===col?(num=row+1,{kind:GridCellKind.Custom,allowOverlay:!1,copyData:"4",data:{kind:"sparkline-cell",values:range_default()(0,15).map((function(){return 100*rand()-50})),color:row%2==0?"#77c4c4":"#D98466",graphKind:"bar",yAxis:[-50,50]}}):(num=row+1,rand(),{kind:GridCellKind.Custom,allowOverlay:!0,copyData:"4",data:{kind:"tags-cell",possibleTags:cell_stories_possibleTags,tags:uniq_default()([cell_stories_possibleTags[Math.round(1e3*rand())%cell_stories_possibleTags.length].tag,cell_stories_possibleTags[Math.round(1e3*rand())%cell_stories_possibleTags.length].tag,cell_stories_possibleTags[Math.round(1e3*rand())%cell_stories_possibleTags.length].tag,cell_stories_possibleTags[Math.round(1e3*rand())%cell_stories_possibleTags.length].tag])}})},columns:[{title:"Stars",width:200},{title:"Sparkline",width:150},{title:"Sparkline (bars)",width:150},{title:"Tags",width:250}],rows:500})))};cell_stories_CustomCells.parameters={options:{showPanel:!1}};try{cell_stories_CustomCells.displayName="CustomCells",cell_stories_CustomCells.__docgenInfo={description:"",displayName:"CustomCells",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["cells/src/cell.stories.tsx#CustomCells"]={docgenInfo:cell_stories_CustomCells.__docgenInfo,name:"CustomCells",path:"cells/src/cell.stories.tsx#CustomCells"})}catch(__react_docgen_typescript_loader_error){}},2464:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,"parameters",(function(){return parameters}));__webpack_require__(33),__webpack_require__(6),__webpack_require__(43),__webpack_require__(724),__webpack_require__(72),__webpack_require__(48),__webpack_require__(725),__webpack_require__(726),__webpack_require__(54);var client_api=__webpack_require__(2468),esm=__webpack_require__(20),client=__webpack_require__(204);Object(client.addParameters)({options:{showRoots:!0,storySort:function storySort(a,b){return a[1].id.localeCompare(b[1].id,void 0,{numeric:!0})}}});var parameters={layout:"fullscreen"};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.a.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return Object(client_api.c)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(client_api.d)(loader,!1)}));case"parameters":return Object(client_api.e)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(client_api.a)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(client_api.b)(enhancer)}));case"render":return Object(client_api.g)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(client_api.e)(v,!1);default:return console.log(key+" was not supported :( !")}}))},25:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"n",(function(){return useMappedColumns})),__webpack_require__.d(__webpack_exports__,"l",(function(){return getStickyWidth})),__webpack_require__.d(__webpack_exports__,"j",(function(){return getEffectiveColumns})),__webpack_require__.d(__webpack_exports__,"i",(function(){return getColumnIndexForX})),__webpack_require__.d(__webpack_exports__,"k",(function(){return getRowIndexForY})),__webpack_require__.d(__webpack_exports__,"h",(function(){return drawTextCell})),__webpack_require__.d(__webpack_exports__,"f",(function(){return drawNewRowCell})),__webpack_require__.d(__webpack_exports__,"e",(function(){return drawMarkerRowCell})),__webpack_require__.d(__webpack_exports__,"g",(function(){return drawProtectedCell})),__webpack_require__.d(__webpack_exports__,"a",(function(){return drawBoolean})),__webpack_require__.d(__webpack_exports__,"b",(function(){return drawBubbles})),__webpack_require__.d(__webpack_exports__,"c",(function(){return drawDrilldownCell})),__webpack_require__.d(__webpack_exports__,"d",(function(){return drawImage})),__webpack_require__.d(__webpack_exports__,"m",(function(){return roundedPoly}));__webpack_require__(4),__webpack_require__(14),__webpack_require__(114),__webpack_require__(5),__webpack_require__(43),__webpack_require__(2),__webpack_require__(57),__webpack_require__(3),__webpack_require__(53),__webpack_require__(31),__webpack_require__(124),__webpack_require__(26),__webpack_require__(34),__webpack_require__(72),__webpack_require__(48),__webpack_require__(9),__webpack_require__(19),__webpack_require__(12),__webpack_require__(6),__webpack_require__(16),__webpack_require__(17),__webpack_require__(10),__webpack_require__(11),__webpack_require__(23);var _common_utils__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(36),react__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_25___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_25__);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function useMappedColumns(columns,freezeColumns){return react__WEBPACK_IMPORTED_MODULE_25___default.a.useMemo((function(){return columns.map((function(c,i){return Object.assign({},c,{sourceIndex:i,sticky:i<freezeColumns})}))}),[columns,freezeColumns])}function getStickyWidth(columns){var _step,result=0,_iterator=_createForOfIteratorHelper(columns);try{for(_iterator.s();!(_step=_iterator.n()).done;){var c=_step.value;if(!c.sticky)break;result+=c.width}}catch(err){_iterator.e(err)}finally{_iterator.f()}return result}function getEffectiveColumns(columns,cellXOffset,width,dndState,tx){var mappedCols=columns;if(void 0!==dndState){var writable=_toConsumableArray(columns),temp=mappedCols[dndState.src];dndState.src>dndState.dest?(writable.splice(dndState.src,1),writable.splice(dndState.dest,0,temp)):(writable.splice(dndState.dest+1,0,temp),writable.splice(dndState.src,1)),mappedCols=writable}var _step2,sticky=[],_iterator2=_createForOfIteratorHelper(columns);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var c=_step2.value;if(!c.sticky)break;sticky.push(c)}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}if(sticky.length>0){var _step3,_iterator3=_createForOfIteratorHelper(sticky);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){width-=_step3.value.width}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}}for(var endIndex=cellXOffset,curX=null!=tx?tx:0;curX<=width&&endIndex<mappedCols.length;)curX+=mappedCols[endIndex].width,endIndex++;var effectiveCols=[].concat(sticky,_toConsumableArray(mappedCols.slice(cellXOffset,endIndex).filter((function(c){return!c.sticky}))));return effectiveCols}function getColumnIndexForX(targetX,effectiveColumns,translateX){var _step4,x=0,_iterator4=_createForOfIteratorHelper(effectiveColumns);try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var c=_step4.value;if(targetX<=(c.sticky?x:x+(null!=translateX?translateX:0))+c.width)return c.sourceIndex;x+=c.width}}catch(err){_iterator4.e(err)}finally{_iterator4.f()}return-1}function getRowIndexForY(targetY,height,headerHeight,rows,rowHeight,cellYOffset,translateY,lastRowSticky){if(targetY<=headerHeight/2)return-2;if(targetY<=headerHeight)return-1;var lastRowHeight="number"==typeof rowHeight?rowHeight:rowHeight(rows-1);if(lastRowSticky&&targetY>height-lastRowHeight)return rows-1;var effectiveRows=rows-(lastRowSticky?1:0),ty=targetY-(null!=translateY?translateY:0);if("number"==typeof rowHeight){var target=Math.floor((ty-headerHeight)/rowHeight)+cellYOffset;if(target>=effectiveRows)return;return target}for(var curY=headerHeight,i=cellYOffset;i<effectiveRows;i++){var rh=rowHeight(i);if(ty<=curY+rh)return i;curY+=rh}}var metricsSize=0,metricsCache={};function _clearCacheOnLoad(){return(_clearCacheOnLoad=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,document.fonts.ready;case 2:metricsSize=0,metricsCache={};case 4:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}function measureTextCached(s,ctx){var key=s+"_"+ctx.font,metrics=metricsCache[key];return void 0===metrics&&(metrics=ctx.measureText(s),metricsCache[key]=metrics,metricsSize++),metricsSize>1e4&&(metricsCache={},metricsSize=0),metrics}function drawTextCell(args,data,overrideColor){var ctx=args.ctx,x=args.x,y=args.y,w=args.w,h=args.h,theme=args.theme;data=data.split(/\r?\n/)[0].slice(0,Math.round(w/4));var dir=Object(_common_utils__WEBPACK_IMPORTED_MODULE_24__.d)(data);if(ctx.fillStyle=null!=overrideColor?overrideColor:theme.textDark,"rtl"===dir){var textWidth=measureTextCached(data,ctx).width;ctx.fillText(data,x+w-theme.cellHorizontalPadding-textWidth+.5,y+h/2+4.5)}else ctx.fillText(data,x+theme.cellHorizontalPadding+.5,y+h/2+4.5)}function drawNewRowCell(args,data,isFirst){var ctx=args.ctx,x=args.x,y=args.y,w=args.w,h=args.h,hoverAmount=args.hoverAmount,theme=args.theme;ctx.beginPath(),ctx.globalAlpha=hoverAmount,ctx.rect(x,y,w,h),ctx.fillStyle=theme.bgHeaderHovered,ctx.fill(),ctx.globalAlpha=1,ctx.beginPath();var lineSize=isFirst?12:12*hoverAmount,xTranslate=isFirst?0:12*(1-hoverAmount)*.5,padPlus=theme.cellHorizontalPadding+4;lineSize>0&&(ctx.moveTo(x+padPlus+xTranslate,y+h/2),ctx.lineTo(x+padPlus+xTranslate+lineSize,y+h/2),ctx.moveTo(x+padPlus+xTranslate+.5*lineSize,y+h/2-.5*lineSize),ctx.lineTo(x+padPlus+xTranslate+.5*lineSize,y+h/2+.5*lineSize),ctx.lineWidth=2,ctx.strokeStyle=theme.bgIconHeader,ctx.lineCap="round",ctx.stroke()),ctx.fillStyle=theme.textMedium,ctx.fillText(data,24+x+theme.cellHorizontalPadding+.5,y+h/2+4.5),ctx.beginPath()}function drawCheckbox(ctx,theme,checked,x,y,width,height,highlighted){var hoverX=arguments.length>8&&void 0!==arguments[8]?arguments[8]:-20,hoverY=arguments.length>9&&void 0!==arguments[9]?arguments[9]:-20,centerX=x+width/2,centerY=y+height/2,hovered=Math.abs(hoverX-width/2)<10&&Math.abs(hoverY-height/2)<10;checked?(ctx.beginPath(),roundedRect(ctx,centerX-9,centerY-9,18,18,4),ctx.fillStyle=highlighted?theme.accentColor:theme.textLight,ctx.fill(),ctx.beginPath(),ctx.moveTo(centerX-8+3.65005,centerY-8+7.84995),ctx.lineTo(centerX-8+6.37587,centerY-8+10.7304),ctx.lineTo(centerX-8+11.9999,centerY-8+4.74995),ctx.strokeStyle=theme.accentFg,ctx.lineJoin="round",ctx.lineCap="round",ctx.lineWidth=1.9,ctx.stroke()):(ctx.beginPath(),roundedRect(ctx,centerX-8.5,centerY-8.5,17,17,4),ctx.lineWidth=1,ctx.strokeStyle=hovered?theme.textMedium:theme.textLight,ctx.stroke())}function drawMarkerRowCell(args,index,checked,markerKind){var ctx=args.ctx,x=args.x,y=args.y,width=args.w,height=args.h,hoverAmount=args.hoverAmount,theme=args.theme;if("number"!==markerKind&&(ctx.globalAlpha=checked?1:hoverAmount,drawCheckbox(ctx,theme,checked,x,y,width,height,!0),ctx.globalAlpha=1),"number"===markerKind||"both"===markerKind&&!checked){var text=(index+1).toString();ctx.font="9px "+theme.fontFamily;var start=x+(width-measureTextCached(text,ctx).width)/2;"both"===markerKind&&(ctx.globalAlpha=1-hoverAmount),ctx.fillStyle=theme.textLight,ctx.fillText(text,start,y+height/2+4.5),ctx.globalAlpha=1}ctx.globalAlpha=1}function drawProtectedCell(args){var ctx=args.ctx,theme=args.theme,x=args.x,y=args.y,w=args.w,h=args.h;args.highlighted||(ctx.beginPath(),ctx.rect(x+1,y+1,w-1,h-1),ctx.fillStyle=theme.bgCellMedium,ctx.fill()),ctx.beginPath();for(var xStart=x+theme.cellHorizontalPadding+2.5,center=y+h/2,p=2.5*Math.cos(Object(_common_utils__WEBPACK_IMPORTED_MODULE_24__.c)(30)),q=2.5*Math.sin(Object(_common_utils__WEBPACK_IMPORTED_MODULE_24__.c)(30)),i=0;i<12;i++)ctx.moveTo(xStart,center-2.5),ctx.lineTo(xStart,center+2.5),ctx.moveTo(xStart+p,center-q),ctx.lineTo(xStart-p,center+q),ctx.moveTo(xStart-p,center-q),ctx.lineTo(xStart+p,center+q),xStart+=8;ctx.lineWidth=1.1,ctx.lineCap="square",ctx.strokeStyle=theme.textLight,ctx.stroke()}function roundedRect(ctx,x,y,width,height,radius){"number"==typeof radius&&(radius={tl:radius,tr:radius,br:radius,bl:radius}),ctx.moveTo(x+radius.tl,y),ctx.arcTo(x+width,y,x+width,y+radius.tr,radius.tr),ctx.arcTo(x+width,y+height,x+width-radius.br,y+height,radius.br),ctx.arcTo(x,y+height,x,y+height-radius.bl,radius.bl),ctx.arcTo(x,y,x+radius.tl,y,radius.tl)}function drawBoolean(args,data,canEdit){var ctx=args.ctx,hoverAmount=args.hoverAmount,theme=args.theme,x=args.x,y=args.y,w=args.w,h=args.h,highlighted=args.highlighted,hoverX=args.hoverX,hoverY=args.hoverY;ctx.globalAlpha=canEdit?.65+.35*hoverAmount:.4,drawCheckbox(ctx,theme,data,x,y,w,h,highlighted,hoverX,hoverY),ctx.globalAlpha=1}!function clearCacheOnLoad(){return _clearCacheOnLoad.apply(this,arguments)}();function drawBubbles(args,data){var _step5,x=args.x,y=args.y,w=args.w,h=args.h,theme=args.theme,ctx=args.ctx,highlighted=args.highlighted,renderX=x+theme.cellHorizontalPadding,renderBoxes=[],_iterator5=_createForOfIteratorHelper(data);try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var s=_step5.value;if(renderX>x+w)break;var textWidth=measureTextCached(s,ctx).width;renderBoxes.push({x:renderX,width:textWidth}),renderX+=textWidth+16+4}}catch(err){_iterator5.e(err)}finally{_iterator5.f()}ctx.beginPath(),renderBoxes.forEach((function(rectInfo){roundedRect(ctx,rectInfo.x,y+(h-20)/2,rectInfo.width+16,20,10)})),ctx.fillStyle=highlighted?theme.bgBubbleSelected:theme.bgBubble,ctx.fill(),renderBoxes.forEach((function(rectInfo,i){ctx.beginPath(),ctx.fillStyle=theme.textBubble,ctx.fillText(data[i],rectInfo.x+8,y+h/2+4)}))}function drawDrilldownCell(args,data){var _step6,x=args.x,y=args.y,w=args.w,h=args.h,theme=args.theme,ctx=args.ctx,imageLoader=args.imageLoader,col=args.col,row=args.row,renderX=x+theme.cellHorizontalPadding,renderBoxes=[],_iterator6=_createForOfIteratorHelper(data);try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var el=_step6.value;if(renderX>x+w)break;var textWidth=measureTextCached(el.text,ctx).width,imgWidth=0;if(void 0!==el.img)void 0!==imageLoader.loadOrGetImage(el.img,col,row)&&(imgWidth=20);var renderWidth=textWidth+imgWidth+16;renderBoxes.push({x:renderX,width:renderWidth}),renderX+=renderWidth+4}}catch(err){_iterator6.e(err)}finally{_iterator6.f()}ctx.beginPath(),renderBoxes.forEach((function(rectInfo){roundedRect(ctx,Math.floor(rectInfo.x),y+(h-24)/2,Math.floor(rectInfo.width),24,6)})),ctx.shadowColor="rgba(24, 25, 34, 0.4)",ctx.shadowBlur=1,ctx.fillStyle=theme.bgCell,ctx.fill(),ctx.shadowColor="rgba(24, 25, 34, 0.2)",ctx.shadowOffsetY=1,ctx.shadowBlur=5,ctx.fillStyle=theme.bgCell,ctx.fill(),ctx.shadowOffsetY=0,ctx.shadowBlur=0,ctx.shadowBlur=0,ctx.beginPath(),renderBoxes.forEach((function(rectInfo){roundedRect(ctx,Math.floor(rectInfo.x)+.5,Math.floor(y+(h-24)/2)+.5,Math.round(rectInfo.width),24,6)})),ctx.strokeStyle=theme.drilldownBorder,ctx.lineWidth=1,ctx.stroke(),renderBoxes.forEach((function(rectInfo,i){var d=data[i],drawX=rectInfo.x+8;if(void 0!==d.img){var img=imageLoader.loadOrGetImage(d.img,col,row);if(void 0!==img){var srcX=0,srcY=0,srcWidth=img.width,srcHeight=img.height;srcWidth>srcHeight?(srcX+=(srcWidth-srcHeight)/2,srcWidth=srcHeight):srcHeight>srcWidth&&(srcY+=(srcHeight-srcWidth)/2,srcHeight=srcWidth),ctx.beginPath(),roundedRect(ctx,drawX,y+h/2-8,16,16,3),ctx.save(),ctx.clip(),ctx.drawImage(img,srcX,srcY,srcWidth,srcHeight,drawX,y+h/2-8,16,16),ctx.restore(),drawX+=20}}ctx.beginPath(),ctx.fillStyle=theme.textBubble,ctx.fillText(d.text,drawX,y+h/2+4)}))}function drawImage(args,data){var x=args.x,y=args.y,h=args.h,col=args.col,row=args.row,theme=args.theme,ctx=args.ctx,imageLoader=args.imageLoader,drawX=x+theme.cellHorizontalPadding;data.filter((function(s){return s.length>0})).forEach((function(i){var img=imageLoader.loadOrGetImage(i,col,row);if(void 0!==img){var imgHeight=h-2*theme.cellVerticalPadding,imgWidth=img.width*(imgHeight/img.height);roundedRect(ctx,drawX,y+theme.cellVerticalPadding,imgWidth,imgHeight,4),ctx.save(),ctx.clip(),ctx.drawImage(img,drawX,y+theme.cellVerticalPadding,imgWidth,imgHeight),ctx.restore(),drawX+=imgWidth+4}}))}function roundedPoly(ctx,points,radiusAll){for(var asVec=function asVec(p,pp){var vx=pp.x-p.x,vy=pp.y-p.y,vlen=Math.sqrt(vx*vx+vy*vy),vnx=vx/vlen,vny=vy/vlen;return{x:vx,y:pp.y-p.y,len:vlen,nx:vnx,ny:vny,ang:Math.atan2(vny,vnx)}},radius=radiusAll,len=points.length,p1=points[len-1],i=0;i<len;i++){var p2=points[i%len],p3=points[(i+1)%len],v1=asVec(p2,p1),v2=asVec(p2,p3),sinA=v1.nx*v2.ny-v1.ny*v2.nx,sinA90=v1.nx*v2.nx-v1.ny*-v2.ny,angle=Math.asin(sinA<-1?-1:sinA>1?1:sinA),radDirection=1,drawDirection=!1;sinA90<0?angle<0?angle=Math.PI+angle:(angle=Math.PI-angle,radDirection=-1,drawDirection=!0):angle>0&&(radDirection=-1,drawDirection=!0),radius=void 0!==p2.radius?p2.radius:radiusAll;var halfAngle=angle/2,lenOut=Math.abs(Math.cos(halfAngle)*radius/Math.sin(halfAngle)),cRadius=void 0;lenOut>Math.min(v1.len/2,v2.len/2)?(lenOut=Math.min(v1.len/2,v2.len/2),cRadius=Math.abs(lenOut*Math.sin(halfAngle)/Math.cos(halfAngle))):cRadius=radius;var x=p2.x+v2.nx*lenOut,y=p2.y+v2.ny*lenOut;x+=-v2.ny*cRadius*radDirection,y+=v2.nx*cRadius*radDirection,ctx.arc(x,y,cRadius,v1.ang+Math.PI/2*radDirection,v2.ang-Math.PI/2*radDirection,drawDirection),p1=p2,p2=p3}ctx.closePath()}},27:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return styled})),__webpack_require__.d(__webpack_exports__,"a",(function(){return getDataEditorTheme}));var styled_components__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(21),dataEditorBaseTheme={accentColor:"#4F5DFF",accentFg:"#FFFFFF",accentLight:"rgba(62, 116, 253, 0.1)",textDark:"#313139",textMedium:"#737383",textLight:"#B2B2C0",textBubble:"#313139",bgIconHeader:"#737383",fgIconHeader:"#FFFFFF",textHeader:"#313139",textGroupHeader:"#313139BB",textHeaderSelected:"#FFFFFF",bgCell:"#FFFFFF",bgCellMedium:"#FAFAFB",bgHeader:"#F7F7F8",bgHeaderHasFocus:"#E9E9EB",bgHeaderHovered:"#EFEFF1",bgBubble:"#EDEDF3",bgBubbleSelected:"#FFFFFF",bgSearchResult:"#fff9e3",borderColor:"rgba(115, 116, 131, 0.16)",drilldownBorder:"rgba(0, 0, 0, 0)",linkColor:"#4F5DFF",cellHorizontalPadding:8,cellVerticalPadding:3,headerFontStyle:"600 13px",baseFontStyle:"13px",fontFamily:"Inter, Roboto, -apple-system, BlinkMacSystemFont, avenir next, avenir, segoe ui, helvetica neue, helvetica, Ubuntu, noto, arial, sans-serif"},styled=styled_components__WEBPACK_IMPORTED_MODULE_0__.c;function getDataEditorTheme(){return dataEditorBaseTheme}},36:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"g",(function(){return useEventListener})),__webpack_require__.d(__webpack_exports__,"c",(function(){return degreesToRadians})),__webpack_require__.d(__webpack_exports__,"e",(function(){return disabledProps})),__webpack_require__.d(__webpack_exports__,"b",(function(){return EditPencil})),__webpack_require__.d(__webpack_exports__,"a",(function(){return Checkmark})),__webpack_require__.d(__webpack_exports__,"f",(function(){return useDebouncedMemo})),__webpack_require__.d(__webpack_exports__,"d",(function(){return direction}));__webpack_require__(2),__webpack_require__(23),__webpack_require__(6),__webpack_require__(16),__webpack_require__(3),__webpack_require__(17),__webpack_require__(12),__webpack_require__(10),__webpack_require__(11),__webpack_require__(9),__webpack_require__(19),__webpack_require__(142),__webpack_require__(31),__webpack_require__(26);var _templateObject,react__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(0),styled_components__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(21),lodash_debounce__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(166),lodash_debounce__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_16__);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function useEventListener(eventName,handler,element,passive,capture){var _capture;capture=null!==(_capture=capture)&&void 0!==_capture&&_capture;var savedHandler=react__WEBPACK_IMPORTED_MODULE_14__.useRef();react__WEBPACK_IMPORTED_MODULE_14__.useEffect((function(){savedHandler.current=handler}),[handler]),react__WEBPACK_IMPORTED_MODULE_14__.useEffect((function(){if(null!==element&&void 0!==element.addEventListener){var el=element,eventListener=function eventListener(event){var _savedHandler$current;null===(_savedHandler$current=savedHandler.current)||void 0===_savedHandler$current||_savedHandler$current.call(el,event)};return el.addEventListener(eventName,eventListener,{passive:passive,capture:capture}),function(){el.removeEventListener(eventName,eventListener,{capture:capture})}}}),[eventName,element,passive,capture])}var PI=Math.PI;function degreesToRadians(degrees){return degrees*PI/180}var disabledProps=Object(styled_components__WEBPACK_IMPORTED_MODULE_15__.b)(_templateObject||(_templateObject=function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n    opacity: 0.4;\n    pointer-events: none;\n"]))),EditPencil=function EditPencil(props){var _props$fgColor,fg=null!==(_props$fgColor=props.fgColor)&&void 0!==_props$fgColor?_props$fgColor:"currentColor";return react__WEBPACK_IMPORTED_MODULE_14__.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_14__.createElement("path",{d:"M12.7073 7.05029C7.87391 11.8837 10.4544 9.30322 6.03024 13.7273C5.77392 13.9836 5.58981 14.3071 5.50189 14.6587L4.52521 18.5655C4.38789 19.1148 4.88543 19.6123 5.43472 19.475L9.34146 18.4983C9.69313 18.4104 10.0143 18.2286 10.2706 17.9722L16.9499 11.2929",stroke:fg,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",vectorEffect:"non-scaling-stroke"}),react__WEBPACK_IMPORTED_MODULE_14__.createElement("path",{d:"M20.4854 4.92901L19.0712 3.5148C18.2901 2.73375 17.0238 2.73375 16.2428 3.5148L14.475 5.28257C15.5326 7.71912 16.4736 8.6278 18.7176 9.52521L20.4854 7.75744C21.2665 6.97639 21.2665 5.71006 20.4854 4.92901Z",stroke:fg,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",vectorEffect:"non-scaling-stroke"}))},Checkmark=function Checkmark(props){var _props$fgColor2,fg=null!==(_props$fgColor2=props.fgColor)&&void 0!==_props$fgColor2?_props$fgColor2:"currentColor";return react__WEBPACK_IMPORTED_MODULE_14__.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_14__.createElement("path",{d:"M19 6L10.3802 17L5.34071 11.8758",vectorEffect:"non-scaling-stroke",stroke:fg,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))};function useDebouncedMemo(factory,deps,time){var _React$useState2=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_14__.useState(factory),2),state=_React$useState2[0],setState=_React$useState2[1],debouncedSetState=react__WEBPACK_IMPORTED_MODULE_14__.useRef(lodash_debounce__WEBPACK_IMPORTED_MODULE_16___default()(setState,time));return react__WEBPACK_IMPORTED_MODULE_14__.useEffect((function(){debouncedSetState.current((function(){return factory()}))}),deps),state}var ltrRange="A-Za-z--------",rtl=new RegExp("^[^"+ltrRange+"]*[---]"),ltr=new RegExp("^[^---]*["+ltrRange+"]");function direction(value){return rtl.test(value)?"rtl":ltr.test(value)?"ltr":"neutral"}try{degreesToRadians.displayName="degreesToRadians",degreesToRadians.__docgenInfo={description:"",displayName:"degreesToRadians",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/common/utils.tsx#degreesToRadians"]={docgenInfo:degreesToRadians.__docgenInfo,name:"degreesToRadians",path:"core/src/common/utils.tsx#degreesToRadians"})}catch(__react_docgen_typescript_loader_error){}try{direction.displayName="direction",direction.__docgenInfo={description:"",displayName:"direction",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/common/utils.tsx#direction"]={docgenInfo:direction.__docgenInfo,name:"direction",path:"core/src/common/utils.tsx#direction"})}catch(__react_docgen_typescript_loader_error){}try{EditPencil.displayName="EditPencil",EditPencil.__docgenInfo={description:"",displayName:"EditPencil",props:{fgColor:{defaultValue:null,description:"",name:"fgColor",required:!1,type:{name:"string"}},bgColor:{defaultValue:null,description:"",name:"bgColor",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/common/utils.tsx#EditPencil"]={docgenInfo:EditPencil.__docgenInfo,name:"EditPencil",path:"core/src/common/utils.tsx#EditPencil"})}catch(__react_docgen_typescript_loader_error){}try{Checkmark.displayName="Checkmark",Checkmark.__docgenInfo={description:"",displayName:"Checkmark",props:{fgColor:{defaultValue:null,description:"",name:"fgColor",required:!1,type:{name:"string"}},bgColor:{defaultValue:null,description:"",name:"bgColor",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/common/utils.tsx#Checkmark"]={docgenInfo:Checkmark.__docgenInfo,name:"Checkmark",path:"core/src/common/utils.tsx#Checkmark"})}catch(__react_docgen_typescript_loader_error){}},379:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ResizableColumns",(function(){return ResizableColumns})),__webpack_require__.d(__webpack_exports__,"AddData",(function(){return AddData})),__webpack_require__.d(__webpack_exports__,"AddDataToTop",(function(){return AddDataToTop})),__webpack_require__.d(__webpack_exports__,"SmallEditableGrid",(function(){return SmallEditableGrid})),__webpack_require__.d(__webpack_exports__,"OneMillionRows",(function(){return OneMillionRows})),__webpack_require__.d(__webpack_exports__,"SillyNumbers",(function(){return SillyNumbers})),__webpack_require__.d(__webpack_exports__,"ObserveVisibleRegion",(function(){return ObserveVisibleRegion})),__webpack_require__.d(__webpack_exports__,"OneHundredThousandCols",(function(){return OneHundredThousandCols})),__webpack_require__.d(__webpack_exports__,"TenMillionCells",(function(){return TenMillionCells})),__webpack_require__.d(__webpack_exports__,"SmoothScrollingGrid",(function(){return SmoothScrollingGrid})),__webpack_require__.d(__webpack_exports__,"AddColumns",(function(){return AddColumns})),__webpack_require__.d(__webpack_exports__,"AutomaticRowMarkers",(function(){return AutomaticRowMarkers})),__webpack_require__.d(__webpack_exports__,"UnevenRows",(function(){return UnevenRows})),__webpack_require__.d(__webpack_exports__,"DrawCustomCells",(function(){return DrawCustomCells})),__webpack_require__.d(__webpack_exports__,"RearrangeColumns",(function(){return RearrangeColumns})),__webpack_require__.d(__webpack_exports__,"RowAndHeaderSizes",(function(){return RowAndHeaderSizes})),__webpack_require__.d(__webpack_exports__,"MultiSelectColumns",(function(){return MultiSelectColumns})),__webpack_require__.d(__webpack_exports__,"AllCellKinds",(function(){return AllCellKinds})),__webpack_require__.d(__webpack_exports__,"ThemeSupport",(function(){return ThemeSupport})),__webpack_require__.d(__webpack_exports__,"ThemePerColumn",(function(){return ThemePerColumn})),__webpack_require__.d(__webpack_exports__,"BuiltInSearch",(function(){return BuiltInSearch})),__webpack_require__.d(__webpack_exports__,"HeaderMenus",(function(){return HeaderMenus})),__webpack_require__.d(__webpack_exports__,"CustomHeaderIcons",(function(){return CustomHeaderIcons})),__webpack_require__.d(__webpack_exports__,"RightElement",(function(){return RightElement})),__webpack_require__.d(__webpack_exports__,"RapidUpdates",(function(){return RapidUpdates})),__webpack_require__.d(__webpack_exports__,"CopySupport",(function(){return CopySupport})),__webpack_require__.d(__webpack_exports__,"PasteSupport",(function(){return PasteSupport})),__webpack_require__.d(__webpack_exports__,"FreezeColumns",(function(){return FreezeColumns})),__webpack_require__.d(__webpack_exports__,"ReorderRows",(function(){return ReorderRows})),__webpack_require__.d(__webpack_exports__,"ColumnGroups",(function(){return ColumnGroups}));__webpack_require__(33),__webpack_require__(41),__webpack_require__(23),__webpack_require__(17),__webpack_require__(19),__webpack_require__(54),__webpack_require__(14),__webpack_require__(6),__webpack_require__(16),__webpack_require__(9),__webpack_require__(2),__webpack_require__(4),__webpack_require__(5),__webpack_require__(262),__webpack_require__(3),__webpack_require__(12),__webpack_require__(10),__webpack_require__(11),__webpack_require__(201),__webpack_require__(114),__webpack_require__(57),__webpack_require__(70),__webpack_require__(71),__webpack_require__(26),__webpack_require__(34);var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,react__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(0),_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(1),_data_editor__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(13),_data_editor_container_data_grid_container__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(80),faker__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(39),faker__WEBPACK_IMPORTED_MODULE_29___default=__webpack_require__.n(faker__WEBPACK_IMPORTED_MODULE_29__),styled_components__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(21),react_virtualized_auto_sizer__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(87),_stories_story_utils__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(73),_common_utils__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__(36),react_laag__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__(420),lodash_range__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__(98),lodash_range__WEBPACK_IMPORTED_MODULE_35___default=__webpack_require__.n(lodash_range__WEBPACK_IMPORTED_MODULE_35__),_excluded=["getContent"];function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function getGridColumn(columnWithMock){columnWithMock.getContent;return _objectWithoutProperties(columnWithMock,_excluded)}faker__WEBPACK_IMPORTED_MODULE_29___default.a.seed(1337),__webpack_exports__.default={title:"DataEditor",decorators:[function(Story){return react__WEBPACK_IMPORTED_MODULE_25__.createElement(_stories_story_utils__WEBPACK_IMPORTED_MODULE_32__.b,null,react__WEBPACK_IMPORTED_MODULE_25__.createElement(Story,null))}]};var BeautifulStyle=styled_components__WEBPACK_IMPORTED_MODULE_30__.c.div(_templateObject||(_templateObject=_taggedTemplateLiteralLoose(["\n    background-color: #2790b9;\n    background: linear-gradient(90deg, #2790b9, #2070a9);\n    color: white;\n\n    padding: 32px 48px;\n\n    display: flex;\n    flex-direction: column;\n    height: 100vh;\n\n    font-family: sans-serif;\n\n    & > h1 {\n        font-size: 50px;\n        font-weight: 600;\n        flex-shrink: 0;\n        margin: 0 0 12px 0;\n    }\n\n    .sizer {\n        flex-grow: 1;\n\n        background-color: white;\n\n        border-radius: 12px;\n        box-shadow: rgba(9, 30, 66, 0.25) 0px 4px 8px -2px, rgba(9, 30, 66, 0.08) 0px 0px 0px 1px;\n\n        .sizer-clip {\n            border-radius: 12px;\n            overflow: hidden;\n            transform: translateZ(0);\n\n            height: 100%;\n        }\n    }\n"]))),PropName=styled_components__WEBPACK_IMPORTED_MODULE_30__.c.span(_templateObject2||(_templateObject2=_taggedTemplateLiteralLoose(["\n    font-family: monospace;\n    font-weight: 500;\n    color: #ffe394;\n"]))),Description=styled_components__WEBPACK_IMPORTED_MODULE_30__.c.p(_templateObject3||(_templateObject3=_taggedTemplateLiteralLoose(["\n    font-size: 18px;\n    flex-shrink: 0;\n    margin: 0 0 20px 0;\n"]))),MoreInfo=styled_components__WEBPACK_IMPORTED_MODULE_30__.c.p(_templateObject4||(_templateObject4=_taggedTemplateLiteralLoose(["\n    font-size: 14px;\n    flex-shrink: 0;\n    margin: 0 0 20px 0;\n\n    button {\n        background-color: #f4f4f4;\n        color: #2b2b2b;\n        padding: 2px 6px;\n        font-family: monospace;\n        font-size: 14px;\n        border-radius: 4px;\n        box-shadow: 0px 1px 2px #00000040;\n        margin: 0 0.1em;\n        border: none;\n        cursor: pointer;\n    }\n"]))),BeautifulWrapper=function BeautifulWrapper(p){var title=p.title,children=p.children,description=p.description;return react__WEBPACK_IMPORTED_MODULE_25__.createElement(BeautifulStyle,null,react__WEBPACK_IMPORTED_MODULE_25__.createElement("h1",null,title),description,react__WEBPACK_IMPORTED_MODULE_25__.createElement("div",{className:"sizer"},react__WEBPACK_IMPORTED_MODULE_25__.createElement("div",{className:"sizer-clip"},react__WEBPACK_IMPORTED_MODULE_25__.createElement(react_virtualized_auto_sizer__WEBPACK_IMPORTED_MODULE_31__.a,null,(function(props){var _props$width,_props$height;return react__WEBPACK_IMPORTED_MODULE_25__.createElement(_data_editor_container_data_grid_container__WEBPACK_IMPORTED_MODULE_28__.a,{width:null!==(_props$width=props.width)&&void 0!==_props$width?_props$width:100,height:null!==(_props$height=props.height)&&void 0!==_props$height?_props$height:100},children)})))))};function getResizableColumns(amount,group){var defaultColumns=[{title:"First name",group:group?"Name":void 0,width:120,icon:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.c.HeaderString,hasMenu:!1,getContent:function getContent(){var firstName=faker__WEBPACK_IMPORTED_MODULE_29___default.a.name.firstName();return{kind:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.b.Text,displayData:firstName,data:firstName,allowOverlay:!0,readonly:!0}}},{title:"Last name",group:group?"Name":void 0,width:120,icon:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.c.HeaderString,hasMenu:!1,getContent:function getContent(){var lastName=faker__WEBPACK_IMPORTED_MODULE_29___default.a.name.lastName();return{kind:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.b.Text,displayData:lastName,data:lastName,allowOverlay:!0,readonly:!0}}},{title:"Avatar",width:120,group:group?"Info":void 0,icon:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.c.HeaderImage,hasMenu:!1,getContent:function getContent(){var n=Math.round(100*Math.random());return{kind:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.b.Image,data:["https://picsum.photos/id/"+n+"/900/900"],displayData:["https://picsum.photos/id/"+n+"/40/40"],allowOverlay:!0,allowAdd:!1,readonly:!0}}},{title:"Email",width:120,group:group?"Info":void 0,icon:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.c.HeaderString,hasMenu:!1,getContent:function getContent(){var email=faker__WEBPACK_IMPORTED_MODULE_29___default.a.internet.email();return{kind:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.b.Text,displayData:email,data:email,allowOverlay:!0,readonly:!0}}},{title:"Title",width:120,group:group?"Info":void 0,icon:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.c.HeaderString,hasMenu:!1,getContent:function getContent(){var company=faker__WEBPACK_IMPORTED_MODULE_29___default.a.name.jobTitle();return{kind:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.b.Text,displayData:company,data:company,allowOverlay:!0,readonly:!0}}},{title:"More Info",width:120,group:group?"Info":void 0,icon:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.c.HeaderUri,hasMenu:!1,getContent:function getContent(){var url=faker__WEBPACK_IMPORTED_MODULE_29___default.a.internet.url();return{kind:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.b.Markdown,displayData:url,data:url,allowOverlay:!0,readonly:!0}}}];if(amount<defaultColumns.length)return defaultColumns.slice(0,amount);var extraColumnsAmount=amount-defaultColumns.length,extraColumns=_toConsumableArray(new Array(extraColumnsAmount)).map((function(_,index){return function createTextColumnInfo(index,group){return{title:"Column "+index,group:group?"Group "+Math.round(index/3):void 0,width:120,icon:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.c.HeaderString,hasMenu:!1,getContent:function getContent(){var text=faker__WEBPACK_IMPORTED_MODULE_29___default.a.lorem.word();return{kind:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.b.Text,data:text,displayData:text,allowOverlay:!0,readonly:!0}}}}(index+defaultColumns.length,group)}));return[].concat(defaultColumns,_toConsumableArray(extraColumns))}var ContentCache=function(){function ContentCache(){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ContentCache),this.cachedContent=new Map}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ContentCache,[{key:"get",value:function get(col,row){var colCache=this.cachedContent.get(col);if(void 0!==colCache)return colCache.get(row)}},{key:"set",value:function set(col,row,value){void 0===this.cachedContent.get(col)&&this.cachedContent.set(col,new Map),this.cachedContent.get(col).set(row,value)}}]),ContentCache}();function useMockDataGenerator(numCols){var readonly=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],group=arguments.length>2&&void 0!==arguments[2]&&arguments[2],cache=react__WEBPACK_IMPORTED_MODULE_25__.useRef(new ContentCache),_React$useState=react__WEBPACK_IMPORTED_MODULE_25__.useState((function(){return getResizableColumns(numCols,group)})),_React$useState2=_slicedToArray(_React$useState,2),colsMap=_React$useState2[0],setColsMap=_React$useState2[1];react__WEBPACK_IMPORTED_MODULE_25__.useEffect((function(){setColsMap(getResizableColumns(numCols,group))}),[group,numCols]);var onColumnResized=react__WEBPACK_IMPORTED_MODULE_25__.useCallback((function(column,newSize){setColsMap((function(prevColsMap){var index=prevColsMap.findIndex((function(ci){return ci.title===column.title})),newArray=_toConsumableArray(prevColsMap);return newArray.splice(index,1,Object.assign({},prevColsMap[index],{width:newSize})),newArray}))}),[]),cols=react__WEBPACK_IMPORTED_MODULE_25__.useMemo((function(){return colsMap.map(getGridColumn)}),[colsMap]),getCellContent=react__WEBPACK_IMPORTED_MODULE_25__.useCallback((function(_ref){var _ref8=_slicedToArray(_ref,2),col=_ref8[0],row=_ref8[1],val=cache.current.get(col,row);return void 0===val&&(val=colsMap[col].getContent(),readonly||Object(_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.h)(val)&&(val=Object.assign({},val,{readonly:readonly})),cache.current.set(col,row,val)),val}),[colsMap,readonly]),getCellsForSelection=react__WEBPACK_IMPORTED_MODULE_25__.useCallback((function(selection){for(var result=[],y=selection.y;y<selection.y+selection.height;y++){for(var row=[],x=selection.x;x<selection.x+selection.width;x++)row.push(getCellContent([x,y]));result.push(row)}return result}),[getCellContent]),setCellValueRaw=react__WEBPACK_IMPORTED_MODULE_25__.useCallback((function(_ref2,val){var _ref9=_slicedToArray(_ref2,2),col=_ref9[0],row=_ref9[1];cache.current.set(col,row,val)}),[]),setCellValue=react__WEBPACK_IMPORTED_MODULE_25__.useCallback((function(_ref3,val){var _ref10=_slicedToArray(_ref3,2),col=_ref10[0],row=_ref10[1],current=cache.current.get(col,row);if(void 0===current&&(current=colsMap[col].getContent()),Object(_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.e)(val)&&Object(_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.e)(current)){var copied=Object(_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.i)(val,current);cache.current.set(col,row,Object.assign({},copied,{displayData:"string"==typeof copied.data?copied.data:copied.displayData}))}}),[colsMap]);return{cols:cols,getCellContent:getCellContent,onColumnResized:onColumnResized,setCellValue:setCellValue,getCellsForSelection:getCellsForSelection,setCellValueRaw:setCellValueRaw}}var defaultProps={smoothScrollX:!0,smoothScrollY:!0,isDraggable:!1,rowMarkers:"none"},ResizableColumns=function ResizableColumns(){var _useMockDataGenerator=useMockDataGenerator(6),cols=_useMockDataGenerator.cols,getCellContent=_useMockDataGenerator.getCellContent,onColumnResized=_useMockDataGenerator.onColumnResized;return react__WEBPACK_IMPORTED_MODULE_25__.createElement(BeautifulWrapper,{title:"Resizable columns",description:react__WEBPACK_IMPORTED_MODULE_25__.createElement(react__WEBPACK_IMPORTED_MODULE_25__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_25__.createElement(Description,null,"You can resize columns by dragging their edges, as long as you respond to the"," ",react__WEBPACK_IMPORTED_MODULE_25__.createElement(PropName,null,"onColumnResized")," prop."),react__WEBPACK_IMPORTED_MODULE_25__.createElement(MoreInfo,null,"By setting the ",react__WEBPACK_IMPORTED_MODULE_25__.createElement(PropName,null,"overscrollX")," property extra space can be allocated at the end of the grid to allow for easier resizing of the final column. You can highlight multiple columns to resize them all at once."))},react__WEBPACK_IMPORTED_MODULE_25__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_27__.a,_extends({},defaultProps,{getCellContent:getCellContent,columns:cols,overscrollX:200,rows:50,onColumnResized:onColumnResized})))};function clearCell(cell){switch(cell.kind){case _data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.b.Boolean:return Object.assign({},cell,{data:!1});case _data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.b.Image:return Object.assign({},cell,{data:[],displayData:[]});case _data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.b.Drilldown:case _data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.b.Bubble:return Object.assign({},cell,{data:[]});case _data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.b.Uri:case _data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.b.Markdown:return Object.assign({},cell,{data:""});case _data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.b.Text:return Object.assign({},cell,{data:"",displayData:""});case _data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.b.Number:return Object.assign({},cell,{data:0,displayData:""})}return cell}ResizableColumns.parameters={options:{showPanel:!1}};var AddData=function AddData(){var _useMockDataGenerator2=useMockDataGenerator(60,!1),cols=_useMockDataGenerator2.cols,getCellContent=_useMockDataGenerator2.getCellContent,setCellValueRaw=_useMockDataGenerator2.setCellValueRaw,setCellValue=_useMockDataGenerator2.setCellValue,_React$useState4=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_25__.useState(50),2),numRows=_React$useState4[0],setNumRows=_React$useState4[1],onRowAppended=react__WEBPACK_IMPORTED_MODULE_25__.useCallback((function(){for(var newRow=numRows,c=0;c<6;c++){var cell=getCellContent([c,newRow]);setCellValueRaw([c,newRow],clearCell(cell))}setNumRows((function(cv){return cv+1}))}),[getCellContent,numRows,setCellValueRaw]);return react__WEBPACK_IMPORTED_MODULE_25__.createElement(BeautifulWrapper,{title:"Add data",description:react__WEBPACK_IMPORTED_MODULE_25__.createElement(react__WEBPACK_IMPORTED_MODULE_25__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_25__.createElement(Description,null,"Data can be added by clicking on the trailing row."),react__WEBPACK_IMPORTED_MODULE_25__.createElement(MoreInfo,null,"Keyboard is also supported, just navigate past the last row and press ",react__WEBPACK_IMPORTED_MODULE_25__.createElement(KeyName,null,"Enter")))},react__WEBPACK_IMPORTED_MODULE_25__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_27__.a,_extends({},defaultProps,{getCellContent:getCellContent,columns:cols,rowMarkers:"both",onCellEdited:setCellValue,trailingRowOptions:{hint:"New row...",sticky:!0,tint:!0},rows:numRows,onRowAppended:onRowAppended})))};AddData.parameters={options:{showPanel:!1}};var AddDataToTop=function AddDataToTop(){var _useMockDataGenerator3=useMockDataGenerator(60,!1),cols=_useMockDataGenerator3.cols,getCellContent=_useMockDataGenerator3.getCellContent,setCellValueRaw=_useMockDataGenerator3.setCellValueRaw,setCellValue=_useMockDataGenerator3.setCellValue,_React$useState6=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_25__.useState(50),2),numRows=_React$useState6[0],setNumRows=_React$useState6[1],onRowAppended=react__WEBPACK_IMPORTED_MODULE_25__.useCallback(function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(){var newRow,c,cell;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:for(newRow=numRows,c=0;c<6;c++)cell=getCellContent([c,newRow]),setCellValueRaw([c,newRow],clearCell(cell));return setNumRows((function(cv){return cv+1})),_context.abrupt("return","top");case 4:case"end":return _context.stop()}}),_callee)}))),[getCellContent,numRows,setCellValueRaw]);return react__WEBPACK_IMPORTED_MODULE_25__.createElement(BeautifulWrapper,{title:"Add data",description:react__WEBPACK_IMPORTED_MODULE_25__.createElement(react__WEBPACK_IMPORTED_MODULE_25__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_25__.createElement(Description,null,"You can return a different location to have the new row append take place."),react__WEBPACK_IMPORTED_MODULE_25__.createElement(MoreInfo,null,"At this time this story still adds the data to the end because our fake data source is bad."))},react__WEBPACK_IMPORTED_MODULE_25__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_27__.a,_extends({},defaultProps,{getCellContent:getCellContent,columns:cols,rowMarkers:"both",onCellEdited:setCellValue,trailingRowOptions:{hint:"New row...",sticky:!0,tint:!0},rows:numRows,onRowAppended:onRowAppended})))};AddData.parameters={options:{showPanel:!1}};var SmallEditableGrid=function SmallEditableGrid(){var _useMockDataGenerator4=useMockDataGenerator(6,!1),cols=_useMockDataGenerator4.cols,getCellContent=_useMockDataGenerator4.getCellContent,setCellValue=_useMockDataGenerator4.setCellValue;return react__WEBPACK_IMPORTED_MODULE_25__.createElement(BeautifulWrapper,{title:"Editable Grid",description:react__WEBPACK_IMPORTED_MODULE_25__.createElement(Description,null,"Data grid supports overlay editors for changing values. There are bespoke editors for numbers, strings, images, booleans, markdown, and uri.")},react__WEBPACK_IMPORTED_MODULE_25__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_27__.a,_extends({},defaultProps,{getCellContent:getCellContent,rowMarkers:"both",columns:cols,rows:20,onCellEdited:setCellValue})))};SmallEditableGrid.parameters={options:{showPanel:!1}};var OneMillionRows=function OneMillionRows(){var _useMockDataGenerator5=useMockDataGenerator(6),cols=_useMockDataGenerator5.cols,getCellContent=_useMockDataGenerator5.getCellContent,getCellsForSelection=_useMockDataGenerator5.getCellsForSelection;return react__WEBPACK_IMPORTED_MODULE_25__.createElement(BeautifulWrapper,{title:"One Million Rows",description:react__WEBPACK_IMPORTED_MODULE_25__.createElement(Description,null,"Data grid supports over 1 million rows. Your limit is mostly RAM.")},react__WEBPACK_IMPORTED_MODULE_25__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_27__.a,_extends({},defaultProps,{getCellContent:getCellContent,getCellsForSelection:getCellsForSelection,columns:cols,rowHeight:31,rows:1e6,rowMarkers:"number"})))};OneMillionRows.parameters={options:{showPanel:!1}};var SillyNumbers=function SillyNumbers(){var _useMockDataGenerator6=useMockDataGenerator(6),cols=_useMockDataGenerator6.cols,getCellContent=_useMockDataGenerator6.getCellContent,getCellsForSelection=_useMockDataGenerator6.getCellsForSelection;return react__WEBPACK_IMPORTED_MODULE_25__.createElement(BeautifulWrapper,{title:"100 Million Rows",description:react__WEBPACK_IMPORTED_MODULE_25__.createElement(Description,null,"100 million rows is silly. Once we cross about 33 million pixels in height we can no longer trust the browser to scroll accurately.")},react__WEBPACK_IMPORTED_MODULE_25__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_27__.a,_extends({},defaultProps,{getCellContent:getCellContent,getCellsForSelection:getCellsForSelection,columns:cols,rowHeight:31,rows:1e8,rowMarkers:"number"})))};SillyNumbers.parameters={options:{showPanel:!1}};var ObserveVisibleRegion=function ObserveVisibleRegion(){var _useMockDataGenerator7=useMockDataGenerator(100),cols=_useMockDataGenerator7.cols,getCellContent=_useMockDataGenerator7.getCellContent,_React$useState8=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_25__.useState({x:0,y:0,width:0,height:0}),2),visibleRegion=_React$useState8[0],setVisibleRegion=_React$useState8[1];return react__WEBPACK_IMPORTED_MODULE_25__.createElement(BeautifulWrapper,{title:"Observe Visible Region",description:react__WEBPACK_IMPORTED_MODULE_25__.createElement(react__WEBPACK_IMPORTED_MODULE_25__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_25__.createElement(Description,null,"The visible region can be observed using ",react__WEBPACK_IMPORTED_MODULE_25__.createElement(PropName,null,"onVisibleRegionChanged")),react__WEBPACK_IMPORTED_MODULE_25__.createElement(MoreInfo,null,"Then current visible region is x:",react__WEBPACK_IMPORTED_MODULE_25__.createElement(KeyName,null,visibleRegion.x)," y:",react__WEBPACK_IMPORTED_MODULE_25__.createElement(KeyName,null,visibleRegion.y)," width:",react__WEBPACK_IMPORTED_MODULE_25__.createElement(KeyName,null,visibleRegion.width)," height:",react__WEBPACK_IMPORTED_MODULE_25__.createElement(KeyName,null,visibleRegion.height)))},react__WEBPACK_IMPORTED_MODULE_25__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_27__.a,_extends({},defaultProps,{getCellContent:getCellContent,columns:cols,rows:1e3,onVisibleRegionChanged:setVisibleRegion})))};OneMillionRows.parameters={options:{showPanel:!1}};var OneHundredThousandCols=function OneHundredThousandCols(){var _useMockDataGenerator8=useMockDataGenerator(1e5),cols=_useMockDataGenerator8.cols,getCellContent=_useMockDataGenerator8.getCellContent;return react__WEBPACK_IMPORTED_MODULE_25__.createElement(BeautifulWrapper,{title:"One Hundred Thousand Columns",description:react__WEBPACK_IMPORTED_MODULE_25__.createElement(Description,null,"Data grid supports way more columns than you will ever need. Also this is rendering 10 million cells but that's not important.")},react__WEBPACK_IMPORTED_MODULE_25__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_27__.a,_extends({},defaultProps,{getCellContent:getCellContent,columns:cols,rows:1e3})))};OneHundredThousandCols.parameters={options:{showPanel:!1}};var TenMillionCells=function TenMillionCells(){var _useMockDataGenerator9=useMockDataGenerator(100),cols=_useMockDataGenerator9.cols,getCellContent=_useMockDataGenerator9.getCellContent;return react__WEBPACK_IMPORTED_MODULE_25__.createElement(BeautifulWrapper,{title:"Ten Million Cells",description:react__WEBPACK_IMPORTED_MODULE_25__.createElement(Description,null,"Data grid supports over 10 million cells. Go nuts with it.")},react__WEBPACK_IMPORTED_MODULE_25__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_27__.a,_extends({},defaultProps,{rowMarkers:"number",getCellContent:getCellContent,columns:cols,rows:1e5})))};TenMillionCells.parameters={options:{showPanel:!1}};var SmoothScrollingGrid=function SmoothScrollingGrid(p){var _useMockDataGenerator10=useMockDataGenerator(30),cols=_useMockDataGenerator10.cols,getCellContent=_useMockDataGenerator10.getCellContent;return react__WEBPACK_IMPORTED_MODULE_25__.createElement(BeautifulWrapper,{title:"Smooth scrolling",description:react__WEBPACK_IMPORTED_MODULE_25__.createElement(Description,null,"You can enable smooth scrolling with the ",react__WEBPACK_IMPORTED_MODULE_25__.createElement(PropName,null,"smoothScrollX")," and"," ",react__WEBPACK_IMPORTED_MODULE_25__.createElement(PropName,null,"smoothScrollY")," props. Disabling smooth scrolling can dramatically increase performance and improve visual stability during rapid scrolling.")},react__WEBPACK_IMPORTED_MODULE_25__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_27__.a,_extends({},defaultProps,{smoothScrollX:p.smoothScrollX,smoothScrollY:p.smoothScrollY,getCellContent:getCellContent,columns:cols,rows:1e4})))};SmoothScrollingGrid.args={smoothScrollX:!1,smoothScrollY:!1},SmoothScrollingGrid.parameters={options:{showPanel:!0}};var AddColumns=function AddColumns(p){var _useMockDataGenerator11=useMockDataGenerator(p.columnsCount),cols=_useMockDataGenerator11.cols,getCellContent=_useMockDataGenerator11.getCellContent;return react__WEBPACK_IMPORTED_MODULE_25__.createElement(BeautifulWrapper,{title:"Add and remove columns",description:react__WEBPACK_IMPORTED_MODULE_25__.createElement(react__WEBPACK_IMPORTED_MODULE_25__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_25__.createElement(Description,null,"You can add and remove columns at your disposal"),react__WEBPACK_IMPORTED_MODULE_25__.createElement(MoreInfo,null,"Use the story's controls to change the number of columns"))},react__WEBPACK_IMPORTED_MODULE_25__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_27__.a,_extends({},defaultProps,{getCellContent:getCellContent,columns:cols,rows:1e4})))};AddColumns.args={columnsCount:10},AddColumns.argTypes={columnsCount:{control:{type:"range",min:6,max:200}}},AddColumns.parameters={options:{showPanel:!0}};var AutomaticRowMarkers=function AutomaticRowMarkers(){var _useMockDataGenerator12=useMockDataGenerator(6),cols=_useMockDataGenerator12.cols,getCellContent=_useMockDataGenerator12.getCellContent,_React$useState10=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_25__.useState(_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.a.empty()),2),selectedRows=_React$useState10[0],setSelectedRows=_React$useState10[1];return react__WEBPACK_IMPORTED_MODULE_25__.createElement(BeautifulWrapper,{title:"Automatic Row Markers",description:react__WEBPACK_IMPORTED_MODULE_25__.createElement(react__WEBPACK_IMPORTED_MODULE_25__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_25__.createElement(Description,null,"You can enable row markers with rich selection behavior using the"," ",react__WEBPACK_IMPORTED_MODULE_25__.createElement(PropName,null,"rowMarkers")," prop."),react__WEBPACK_IMPORTED_MODULE_25__.createElement(MoreInfo,null,"Use ",react__WEBPACK_IMPORTED_MODULE_25__.createElement(KeyName,null,"")," + click to make range selections, and ",react__WEBPACK_IMPORTED_MODULE_25__.createElement(KeyName,null,"Ctrl")," (",react__WEBPACK_IMPORTED_MODULE_25__.createElement(KeyName,null,"")," on Mac) + click to add/remove individual rows."))},react__WEBPACK_IMPORTED_MODULE_25__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_27__.a,_extends({},defaultProps,{selectedRows:selectedRows,onSelectedRowsChange:setSelectedRows,rowMarkers:"both",getCellContent:getCellContent,columns:cols,rows:1e3})))};AutomaticRowMarkers.parameters={options:{showPanel:!1}};var UnevenRows=function UnevenRows(){var _useMockDataGenerator13=useMockDataGenerator(6),cols=_useMockDataGenerator13.cols,getCellContent=_useMockDataGenerator13.getCellContent;return react__WEBPACK_IMPORTED_MODULE_25__.createElement(BeautifulWrapper,{title:"Uneven Rows",description:react__WEBPACK_IMPORTED_MODULE_25__.createElement(Description,null,"Rows can be made uneven by passing a callback to the ",react__WEBPACK_IMPORTED_MODULE_25__.createElement(PropName,null,"rowHeight")," prop")},react__WEBPACK_IMPORTED_MODULE_25__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_27__.a,_extends({},defaultProps,{rowHeight:function rowHeight(r){return r%3==0?30:r%2?50:60},getCellContent:getCellContent,columns:cols,rows:1e3})))};AutomaticRowMarkers.parameters={options:{showPanel:!1}};var DrawCustomCells=function DrawCustomCells(){var _useMockDataGenerator14=useMockDataGenerator(6),cols=_useMockDataGenerator14.cols,getCellContent=_useMockDataGenerator14.getCellContent;return react__WEBPACK_IMPORTED_MODULE_25__.createElement(BeautifulWrapper,{title:"Draw custom cells",description:react__WEBPACK_IMPORTED_MODULE_25__.createElement(Description,null,"You can draw custom cell contents however you want using the ",react__WEBPACK_IMPORTED_MODULE_25__.createElement(PropName,null,"drawCustomCell")," ","prop")},react__WEBPACK_IMPORTED_MODULE_25__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_27__.a,_extends({},defaultProps,{getCellContent:getCellContent,columns:cols,drawCustomCell:function drawCustomCell(ctx,cell,_theme,rect){if(cell.kind!==_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.b.Text)return!1;var hasX=cell.displayData.toLowerCase().includes("x");ctx.save();var x=rect.x,y=rect.y,width=rect.width,height=rect.height,data=cell.displayData;return ctx.fillStyle=hasX?"#bfffcd":"#ffe6e6",ctx.fillRect(x+1,y+1,width-1,height-1),ctx.fillStyle=hasX?"#0fc035":"#e01e1e",ctx.font="bold 14px sans-serif",ctx.fillText(data,x+8+.5,y+height/2+4.5),ctx.restore(),!0},rows:1e3})))};DrawCustomCells.parameters={options:{showPanel:!1}};var RearrangeColumns=function RearrangeColumns(){var _useMockDataGenerator15=useMockDataGenerator(6),cols=_useMockDataGenerator15.cols,getCellContent=_useMockDataGenerator15.getCellContent,_React$useState12=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_25__.useState(cols),2),sortableCols=_React$useState12[0],setSortableCols=_React$useState12[1],onColMoved=react__WEBPACK_IMPORTED_MODULE_25__.useCallback((function(startIndex,endIndex){setSortableCols((function(old){var newCols=_toConsumableArray(old),toMove=_slicedToArray(newCols.splice(startIndex,1),1)[0];return newCols.splice(endIndex,0,toMove),newCols}))}),[]),getCellContentMangled=react__WEBPACK_IMPORTED_MODULE_25__.useCallback((function(_ref4){var _ref12=_slicedToArray(_ref4,2),col=_ref12[0],row=_ref12[1],remappedCol=cols.findIndex((function(c){return c.title===sortableCols[col].title}));return getCellContent([remappedCol,row])}),[cols,getCellContent,sortableCols]);return react__WEBPACK_IMPORTED_MODULE_25__.createElement(BeautifulWrapper,{title:"Rearrange Columns",description:react__WEBPACK_IMPORTED_MODULE_25__.createElement(Description,null,"Columns can be rearranged by drag and dropping, as long as you respond to the"," ",react__WEBPACK_IMPORTED_MODULE_25__.createElement(PropName,null,"onColumnMoved")," callback.")},react__WEBPACK_IMPORTED_MODULE_25__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_27__.a,_extends({},defaultProps,{getCellContent:getCellContentMangled,columns:sortableCols,onColumnMoved:onColMoved,rows:1e3})))};RearrangeColumns.parameters={options:{showPanel:!1}};var RowAndHeaderSizes=function RowAndHeaderSizes(p){var _useMockDataGenerator16=useMockDataGenerator(6),cols=_useMockDataGenerator16.cols,getCellContent=_useMockDataGenerator16.getCellContent,_React$useState14=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_25__.useState(),2),selectedRows=_React$useState14[0],setSelectedRows=_React$useState14[1];return react__WEBPACK_IMPORTED_MODULE_25__.createElement(BeautifulWrapper,{title:"Row and Header sizes",description:react__WEBPACK_IMPORTED_MODULE_25__.createElement(react__WEBPACK_IMPORTED_MODULE_25__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_25__.createElement(Description,null,"The row size can be controlled with ",react__WEBPACK_IMPORTED_MODULE_25__.createElement(PropName,null,"rowHeight")," and the header size with"," ",react__WEBPACK_IMPORTED_MODULE_25__.createElement(PropName,null,"headerHeight"),"."),react__WEBPACK_IMPORTED_MODULE_25__.createElement(MoreInfo,null,"Use the story's controls to resize them"))},react__WEBPACK_IMPORTED_MODULE_25__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_27__.a,_extends({},defaultProps,{rowHeight:p.rowHeight,headerHeight:p.headerHeight,selectedRows:selectedRows,onSelectedRowsChange:setSelectedRows,rowMarkers:"number",getCellContent:getCellContent,columns:cols,rows:1e3})))};RowAndHeaderSizes.args={rowHeight:34,headerHeight:34},RowAndHeaderSizes.argTypes={rowHeight:{control:{type:"range",min:20,max:200}},headerHeight:{control:{type:"range",min:20,max:200}}},RowAndHeaderSizes.parameters={options:{showPanel:!0}};var KeyName=styled_components__WEBPACK_IMPORTED_MODULE_30__.c.kbd(_templateObject5||(_templateObject5=_taggedTemplateLiteralLoose(["\n    background-color: #f4f4f4;\n    color: #2b2b2b;\n    padding: 2px 6px;\n    font-family: monospace;\n    font-size: 14px;\n    border-radius: 4px;\n    box-shadow: 0px 1px 2px #00000040;\n    margin: 0 0.1em;\n"]))),MultiSelectColumns=function MultiSelectColumns(){var _useMockDataGenerator17=useMockDataGenerator(100),cols=_useMockDataGenerator17.cols,getCellContent=_useMockDataGenerator17.getCellContent,_React$useState16=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_25__.useState(_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.a.empty()),2),sel=_React$useState16[0],setSel=_React$useState16[1];return react__WEBPACK_IMPORTED_MODULE_25__.createElement(BeautifulWrapper,{title:"Multi select columns",description:react__WEBPACK_IMPORTED_MODULE_25__.createElement(react__WEBPACK_IMPORTED_MODULE_25__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_25__.createElement(Description,null,"You can select multiple columns by using the ",react__WEBPACK_IMPORTED_MODULE_25__.createElement(PropName,null,"selectedColumns")," and"," ",react__WEBPACK_IMPORTED_MODULE_25__.createElement(PropName,null,"onSelectedColumnsChange")," props"),react__WEBPACK_IMPORTED_MODULE_25__.createElement(MoreInfo,null,"Here you can multi select columns by using ",react__WEBPACK_IMPORTED_MODULE_25__.createElement(KeyName,null,"Ctrl")," (on Windows) or"," ",react__WEBPACK_IMPORTED_MODULE_25__.createElement(KeyName,null,"")," (on Mac)"))},react__WEBPACK_IMPORTED_MODULE_25__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_27__.a,_extends({},defaultProps,{getCellContent:getCellContent,rowMarkers:"both",columns:cols,rows:1e5,selectedColumns:sel,onSelectedColumnsChange:setSel})))};function getColumnsForCellTypes(){return[{title:"Row ID",width:120,icon:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.c.HeaderRowID,hasMenu:!1,getContent:function getContent(){return{kind:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.b.RowID,data:faker__WEBPACK_IMPORTED_MODULE_29___default.a.datatype.uuid(),allowOverlay:!1}}},{title:"Protected",width:120,icon:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.c.HeaderCode,hasMenu:!1,getContent:function getContent(){return{kind:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.b.Protected,data:faker__WEBPACK_IMPORTED_MODULE_29___default.a.finance.bitcoinAddress(),allowOverlay:!1}}},{title:"Loading",width:120,icon:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.c.HeaderString,hasMenu:!1,getContent:function getContent(){return{kind:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.b.Loading,allowOverlay:!1}}},{title:"Text",width:120,icon:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.c.HeaderCode,hasMenu:!1,getContent:function getContent(){var name=faker__WEBPACK_IMPORTED_MODULE_29___default.a.name.firstName();return{kind:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.b.Text,data:name,displayData:name,allowOverlay:!0}}},{title:"Number",width:120,icon:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.c.HeaderNumber,hasMenu:!1,getContent:function getContent(){var age=faker__WEBPACK_IMPORTED_MODULE_29___default.a.datatype.number(100);return{kind:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.b.Number,data:age,displayData:""+age,allowOverlay:!0}}},{title:"Boolean",width:120,icon:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.c.HeaderBoolean,hasMenu:!1,getContent:function getContent(){var checked=Math.random()>.5;return{kind:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.b.Boolean,data:checked,allowOverlay:!1,showUnchecked:!0,allowEdit:!0}}},{title:"Image",width:120,icon:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.c.HeaderImage,hasMenu:!1,getContent:function getContent(){return{kind:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.b.Image,data:[faker__WEBPACK_IMPORTED_MODULE_29___default.a.image.animals(40,40)+"?random="+faker__WEBPACK_IMPORTED_MODULE_29___default.a.datatype.number(1e5)],allowOverlay:!0,allowAdd:!1,readonly:!0}}},{title:"Uri",width:120,icon:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.c.HeaderUri,hasMenu:!1,getContent:function getContent(){var url=faker__WEBPACK_IMPORTED_MODULE_29___default.a.internet.url();return{kind:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.b.Uri,data:url,allowOverlay:!0}}},{title:"Markdown",width:120,icon:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.c.HeaderMarkdown,hasMenu:!1,getContent:function getContent(){var markdown="# Title\nHello my name is *"+faker__WEBPACK_IMPORTED_MODULE_29___default.a.name.firstName()+"*\n\n## TODO:\nTry out [Glide](https://www.glideapps.com/)\n";return{kind:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.b.Markdown,data:markdown,allowOverlay:!0}}},{title:"Bubble",width:120,icon:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.c.HeaderArray,hasMenu:!1,getContent:function getContent(){return{kind:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.b.Bubble,data:[faker__WEBPACK_IMPORTED_MODULE_29___default.a.lorem.word(),faker__WEBPACK_IMPORTED_MODULE_29___default.a.lorem.word(),faker__WEBPACK_IMPORTED_MODULE_29___default.a.lorem.word()],allowOverlay:!0}}},{title:"Drilldown",width:120,icon:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.c.HeaderArray,hasMenu:!1,getContent:function getContent(){return{kind:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.b.Drilldown,data:[{text:faker__WEBPACK_IMPORTED_MODULE_29___default.a.address.cityName(),img:faker__WEBPACK_IMPORTED_MODULE_29___default.a.image.nature(40,40)+"?random="+faker__WEBPACK_IMPORTED_MODULE_29___default.a.datatype.number(1e5)},{text:faker__WEBPACK_IMPORTED_MODULE_29___default.a.address.cityName(),img:faker__WEBPACK_IMPORTED_MODULE_29___default.a.image.nature(40,40)+"?random="+faker__WEBPACK_IMPORTED_MODULE_29___default.a.datatype.number(1e5)}],allowOverlay:!0}}}]}function useAllMockedKinds(){var cache=react__WEBPACK_IMPORTED_MODULE_25__.useRef(new ContentCache),_React$useState18=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_25__.useState(getColumnsForCellTypes),2),colsMap=_React$useState18[0],setColsMap=_React$useState18[1],onColumnResized=react__WEBPACK_IMPORTED_MODULE_25__.useCallback((function(column,newSize){setColsMap((function(prevColsMap){var index=prevColsMap.findIndex((function(ci){return ci.title===column.title})),newArray=_toConsumableArray(prevColsMap);return newArray.splice(index,1,Object.assign({},prevColsMap[index],{width:newSize})),newArray}))}),[]);return{cols:react__WEBPACK_IMPORTED_MODULE_25__.useMemo((function(){return colsMap.map(getGridColumn)}),[colsMap]),getCellContent:react__WEBPACK_IMPORTED_MODULE_25__.useCallback((function(_ref5){var _ref13=_slicedToArray(_ref5,2),col=_ref13[0],row=_ref13[1],val=cache.current.get(col,row);return void 0===val&&(val=colsMap[col].getContent(),cache.current.set(col,row,val)),val}),[colsMap]),onColumnResized:onColumnResized,setCellValue:react__WEBPACK_IMPORTED_MODULE_25__.useCallback((function(_ref6,val){var _ref14=_slicedToArray(_ref6,2),col=_ref14[0],row=_ref14[1],current=cache.current.get(col,row);if(void 0===current&&(current=colsMap[col].getContent()),Object(_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.e)(val)&&Object(_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.e)(current)){var _copied$data$toString,_copied$data,copied=Object(_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.i)(val,current);cache.current.set(col,row,Object.assign({},copied,{displayData:null!==(_copied$data$toString=null===(_copied$data=copied.data)||void 0===_copied$data?void 0:_copied$data.toString())&&void 0!==_copied$data$toString?_copied$data$toString:""}))}}),[colsMap])}}MultiSelectColumns.parameters={options:{showPanel:!1}};var AllCellKinds=function AllCellKinds(){var _useAllMockedKinds=useAllMockedKinds(),cols=_useAllMockedKinds.cols,getCellContent=_useAllMockedKinds.getCellContent,onColumnResized=_useAllMockedKinds.onColumnResized,setCellValue=_useAllMockedKinds.setCellValue;return react__WEBPACK_IMPORTED_MODULE_25__.createElement(BeautifulWrapper,{title:"Lotsa cell kinds",description:react__WEBPACK_IMPORTED_MODULE_25__.createElement(Description,null,"Data grid supports plenty cell kinds. Anything under ",react__WEBPACK_IMPORTED_MODULE_25__.createElement(PropName,null,"GridCellKind"),".")},react__WEBPACK_IMPORTED_MODULE_25__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_27__.a,_extends({},defaultProps,{getCellContent:getCellContent,columns:cols,onCellEdited:setCellValue,onColumnResized:onColumnResized,rows:1e3})))};AllCellKinds.parameters={options:{showPanel:!1}};var darkTheme={accentColor:"#8c96ff",accentLight:"rgba(202, 206, 255, 0.253)",textDark:"#ffffff",textMedium:"#b8b8b8",textLight:"#a0a0a0",textBubble:"#ffffff",bgIconHeader:"#b8b8b8",fgIconHeader:"#000000",textHeader:"#a1a1a1",textHeaderSelected:"#000000",bgCell:"#16161b",bgCellMedium:"#202027",bgHeader:"#212121",bgHeaderHasFocus:"#474747",bgHeaderHovered:"#404040",bgBubble:"#212121",bgBubbleSelected:"#000000",bgSearchResult:"#423c24",borderColor:"rgba(225,225,225,0.2)",drilldownBorder:"rgba(225,225,225,0.4)",linkColor:"#4F5DFF",headerFontStyle:"bold 14px",baseFontStyle:"13px",fontFamily:"Inter, Roboto, -apple-system, BlinkMacSystemFont, avenir next, avenir, segoe ui, helvetica neue, helvetica, Ubuntu, noto, arial, sans-serif"},hotdogStand={accentColor:"#8c96ff",accentLight:"rgba(202, 206, 255, 0.253)",textDark:"#ffffff",textMedium:"rgba(255, 255, 255, 0.9)",textLight:"rgba(255, 255, 255, 0.7)",textBubble:"#000000",bgIconHeader:"#880000",fgIconHeader:"#ff5555",textHeader:"rgba(0, 0, 0, 0.9)",textHeaderSelected:"#000000",bgCell:"#ff0000",bgCellMedium:"#ff4d4d",bgHeader:"#f3f300",bgHeaderHasFocus:"#eeee00",bgHeaderHovered:"#e0e000",bgBubble:"#ffff00",bgBubbleSelected:"#ffff00",bgSearchResult:"#423c24",borderColor:"#ffff00",drilldownBorder:"#ffff00",linkColor:"#4F5DFF",headerFontStyle:"bold 14px",baseFontStyle:"13px",fontFamily:"Inter, Roboto, -apple-system, BlinkMacSystemFont, avenir next, avenir, segoe ui, helvetica neue, helvetica, Ubuntu, noto, arial, sans-serif"},ThemeSupport=function ThemeSupport(){var _useAllMockedKinds2=useAllMockedKinds(),cols=_useAllMockedKinds2.cols,getCellContent=_useAllMockedKinds2.getCellContent,onColumnResized=_useAllMockedKinds2.onColumnResized,setCellValue=_useAllMockedKinds2.setCellValue,_React$useState20=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_25__.useState({}),2),theme=_React$useState20[0],setTheme=_React$useState20[1],_React$useState22=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_25__.useState(1e3),2),numRows=_React$useState22[0],setNumRows=_React$useState22[1],onRowAppended=react__WEBPACK_IMPORTED_MODULE_25__.useCallback((function(){var newRow=numRows;setNumRows((function(cv){return cv+1}));for(var c=0;c<6;c++)setCellValue([c,newRow],{displayData:"",data:""})}),[numRows,setCellValue]);return react__WEBPACK_IMPORTED_MODULE_25__.createElement(styled_components__WEBPACK_IMPORTED_MODULE_30__.a,{theme:theme},react__WEBPACK_IMPORTED_MODULE_25__.createElement(BeautifulWrapper,{title:"Theme support",description:react__WEBPACK_IMPORTED_MODULE_25__.createElement(react__WEBPACK_IMPORTED_MODULE_25__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_25__.createElement(Description,null,"DataGrid respects the theme provided by styled-components theme provider."),react__WEBPACK_IMPORTED_MODULE_25__.createElement(MoreInfo,null,react__WEBPACK_IMPORTED_MODULE_25__.createElement("button",{onClick:function onClick(){return setTheme({})}},"Light")," or"," ",react__WEBPACK_IMPORTED_MODULE_25__.createElement("button",{onClick:function onClick(){return setTheme(darkTheme)}},"Dark")," even"," ",react__WEBPACK_IMPORTED_MODULE_25__.createElement("button",{onClick:function onClick(){return setTheme(hotdogStand)}},"Hotdog Stand")))},react__WEBPACK_IMPORTED_MODULE_25__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_27__.a,_extends({},defaultProps,{getCellContent:getCellContent,columns:cols,onRowAppended:onRowAppended,trailingRowOptions:{tint:!0,sticky:!0},onCellEdited:setCellValue,onColumnResized:onColumnResized,rows:numRows}))))};ThemeSupport.parameters={options:{showPanel:!1}};var ThemePerColumn=function ThemePerColumn(){var _useAllMockedKinds3=useAllMockedKinds(),cols=_useAllMockedKinds3.cols,getCellContent=_useAllMockedKinds3.getCellContent,onColumnResized=_useAllMockedKinds3.onColumnResized,setCellValue=_useAllMockedKinds3.setCellValue,realCols=react__WEBPACK_IMPORTED_MODULE_25__.useMemo((function(){var c=_toConsumableArray(cols);return c[3]=Object.assign({},c[3],{themeOverride:{textDark:"#009CA6",bgIconHeader:"#009CA6",accentColor:"#009CA6",accentLight:"#009CA620",fgIconHeader:"#FFFFFF"}}),c[9]=Object.assign({},c[9],{themeOverride:{textDark:"#009CA6",bgIconHeader:"#009CA6",accentColor:"#009CA6",accentLight:"#009CA620",fgIconHeader:"#FFFFFF"}}),c[10]=Object.assign({},c[10],{themeOverride:{textDark:"#009CA6",bgIconHeader:"#009CA6",accentColor:"#009CA6",accentLight:"#009CA620",fgIconHeader:"#FFFFFF"}}),c}),[cols]);return react__WEBPACK_IMPORTED_MODULE_25__.createElement(BeautifulWrapper,{title:"Theme per column",description:react__WEBPACK_IMPORTED_MODULE_25__.createElement(react__WEBPACK_IMPORTED_MODULE_25__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_25__.createElement(Description,null,"Each column can provide theme overrides for rendering that column."))},react__WEBPACK_IMPORTED_MODULE_25__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_27__.a,_extends({},defaultProps,{getCellContent:getCellContent,columns:realCols,onCellEdited:setCellValue,onColumnResized:onColumnResized,rows:1e3})))};ThemePerColumn.parameters={options:{showPanel:!1}};var BuiltInSearch=function BuiltInSearch(){var _useAllMockedKinds4=useAllMockedKinds(),cols=_useAllMockedKinds4.cols,getCellContent=_useAllMockedKinds4.getCellContent,onColumnResized=_useAllMockedKinds4.onColumnResized,setCellValue=_useAllMockedKinds4.setCellValue,_React$useState24=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_25__.useState(!1),2),showSearch=_React$useState24[0],setShowSearch=_React$useState24[1];return Object(_common_utils__WEBPACK_IMPORTED_MODULE_33__.g)("keydown",react__WEBPACK_IMPORTED_MODULE_25__.useCallback((function(event){(event.ctrlKey||event.metaKey)&&"f"===event.key&&(setShowSearch((function(cv){return!cv})),event.stopPropagation(),event.preventDefault())}),[]),window,!1,!0),react__WEBPACK_IMPORTED_MODULE_25__.createElement(BeautifulWrapper,{title:"Search is easy",description:react__WEBPACK_IMPORTED_MODULE_25__.createElement(react__WEBPACK_IMPORTED_MODULE_25__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_25__.createElement(Description,null,"Search for any data in your grid by setting ",react__WEBPACK_IMPORTED_MODULE_25__.createElement(PropName,null,"showSearch"),"."),react__WEBPACK_IMPORTED_MODULE_25__.createElement(MoreInfo,null,"In this story, ",react__WEBPACK_IMPORTED_MODULE_25__.createElement(KeyName,null,"Ctrl")," (",react__WEBPACK_IMPORTED_MODULE_25__.createElement(KeyName,null,"")," on Mac) + ",react__WEBPACK_IMPORTED_MODULE_25__.createElement(KeyName,null,"f")," ","toggles the search bar. Make sure you're focused on the Data Grid!"))},react__WEBPACK_IMPORTED_MODULE_25__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_27__.a,_extends({},defaultProps,{getCellContent:getCellContent,columns:cols,onCellEdited:setCellValue,onColumnResized:onColumnResized,showSearch:showSearch,onSearchClose:function onSearchClose(){return setShowSearch(!1)},rows:1e4})))};BuiltInSearch.parameters={options:{showPanel:!1}};var SimpleMenu=styled_components__WEBPACK_IMPORTED_MODULE_30__.c.div(_templateObject6||(_templateObject6=_taggedTemplateLiteralLoose(['\n    width: 175px;\n    padding: 8px 0;\n    border-radius: 6px;\n    box-shadow: 0px 0px 1px rgba(62, 65, 86, 0.7), 0px 6px 12px rgba(62, 65, 86, 0.35);\n\n    display: flex;\n    flex-direction: column;\n\n    background-color: white;\n    font-size: 13px;\n    font-weight: 600;\n    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans",\n        "Helvetica Neue", sans-serif;\n\n    .danger {\n        color: rgba(255, 40, 40, 0.8);\n        :hover {\n            color: rgba(255, 40, 40, 1);\n        }\n    }\n\n    > div {\n        padding: 6px 8px;\n        color: rgba(0, 0, 0, 0.7);\n        :hover {\n            background-color: rgba(0, 0, 0, 0.05);\n            color: rgba(0, 0, 0, 0.9);\n        }\n        transition: background-color 100ms;\n        cursor: pointer;\n    }\n']))),HeaderMenus=function HeaderMenus(){var _useAllMockedKinds5=useAllMockedKinds(),cols=_useAllMockedKinds5.cols,getCellContent=_useAllMockedKinds5.getCellContent,onColumnResized=_useAllMockedKinds5.onColumnResized,setCellValue=_useAllMockedKinds5.setCellValue,realCols=react__WEBPACK_IMPORTED_MODULE_25__.useMemo((function(){return cols.map((function(c){return Object.assign({},c,{hasMenu:!0})}))}),[cols]),_React$useState26=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_25__.useState(),2),menu=_React$useState26[0],setMenu=_React$useState26[1],isOpen=void 0!==menu,_useLayer=Object(react_laag__WEBPACK_IMPORTED_MODULE_34__.a)({isOpen:isOpen,auto:!0,placement:"bottom-end",triggerOffset:2,onOutsideClick:function onOutsideClick(){return setMenu(void 0)},trigger:{getBounds:function getBounds(){var _menu$bounds$x,_menu$bounds$y,_menu$bounds$width,_menu$bounds$height,_menu$bounds$x2,_menu$bounds$width2,_menu$bounds$y2,_menu$bounds$height2;return{left:null!==(_menu$bounds$x=null==menu?void 0:menu.bounds.x)&&void 0!==_menu$bounds$x?_menu$bounds$x:0,top:null!==(_menu$bounds$y=null==menu?void 0:menu.bounds.y)&&void 0!==_menu$bounds$y?_menu$bounds$y:0,width:null!==(_menu$bounds$width=null==menu?void 0:menu.bounds.width)&&void 0!==_menu$bounds$width?_menu$bounds$width:0,height:null!==(_menu$bounds$height=null==menu?void 0:menu.bounds.height)&&void 0!==_menu$bounds$height?_menu$bounds$height:0,right:(null!==(_menu$bounds$x2=null==menu?void 0:menu.bounds.x)&&void 0!==_menu$bounds$x2?_menu$bounds$x2:0)+(null!==(_menu$bounds$width2=null==menu?void 0:menu.bounds.width)&&void 0!==_menu$bounds$width2?_menu$bounds$width2:0),bottom:(null!==(_menu$bounds$y2=null==menu?void 0:menu.bounds.y)&&void 0!==_menu$bounds$y2?_menu$bounds$y2:0)+(null!==(_menu$bounds$height2=null==menu?void 0:menu.bounds.height)&&void 0!==_menu$bounds$height2?_menu$bounds$height2:0)}}}}),layerProps=_useLayer.layerProps,renderLayer=_useLayer.renderLayer,onHeaderMenuClick=react__WEBPACK_IMPORTED_MODULE_25__.useCallback((function(col,bounds){setMenu({col:col,bounds:bounds})}),[]),onHeaderClicked=react__WEBPACK_IMPORTED_MODULE_25__.useCallback((function(){console.log("Header clicked")}),[]);return react__WEBPACK_IMPORTED_MODULE_25__.createElement(BeautifulWrapper,{title:"Header menus",description:react__WEBPACK_IMPORTED_MODULE_25__.createElement(react__WEBPACK_IMPORTED_MODULE_25__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_25__.createElement(Description,null,"Headers on the data grid can be configured to support menus. We provide the events and the triangle, you provide the menu."))},react__WEBPACK_IMPORTED_MODULE_25__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_27__.a,_extends({},defaultProps,{getCellContent:getCellContent,onHeaderMenuClick:onHeaderMenuClick,onHeaderClicked:onHeaderClicked,columns:realCols,onCellEdited:setCellValue,onColumnResized:onColumnResized,rows:1e3})),isOpen&&renderLayer(react__WEBPACK_IMPORTED_MODULE_25__.createElement(SimpleMenu,layerProps,react__WEBPACK_IMPORTED_MODULE_25__.createElement("div",{onClick:function onClick(){return setMenu(void 0)}},"These do nothing"),react__WEBPACK_IMPORTED_MODULE_25__.createElement("div",{onClick:function onClick(){return setMenu(void 0)}},"Add column right"),react__WEBPACK_IMPORTED_MODULE_25__.createElement("div",{onClick:function onClick(){return setMenu(void 0)}},"Add column left"),react__WEBPACK_IMPORTED_MODULE_25__.createElement("div",{className:"danger",onClick:function onClick(){return setMenu(void 0)}},"Delete"))))};HeaderMenus.parameters={options:{showPanel:!1}};var CustomHeaderIcons=function CustomHeaderIcons(){var _useAllMockedKinds6=useAllMockedKinds(),cols=_useAllMockedKinds6.cols,getCellContent=_useAllMockedKinds6.getCellContent,onColumnResized=_useAllMockedKinds6.onColumnResized,setCellValue=_useAllMockedKinds6.setCellValue,realCols=react__WEBPACK_IMPORTED_MODULE_25__.useMemo((function(){var c=_toConsumableArray(cols);return c[3]=Object.assign({},c[3],{title:"CUSTOM ICON",icon:"custom",width:200}),c}),[cols]),headerIcons=react__WEBPACK_IMPORTED_MODULE_25__.useMemo((function(){return{custom:function custom(p){return'<svg width="20" height="20" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <rect x="2.00015" y="2" width="16" height="16" rx="4" fill="'+p.bgColor+'"/>\n                <path fill-rule="evenodd" clip-rule="evenodd" d="M4.69759 6.00977C4.23735 6.00977 3.86426 6.38286 3.86426 6.8431C3.86426 7.30334 4.23735 7.67643 4.69759 7.67643H8.86426C9.3245 7.67643 9.69759 7.30334 9.69759 6.8431C9.69759 6.38286 9.32449 6.00977 8.86426 6.00977H4.69759Z" fill="'+p.fgColor+'"/>\n                <path fill-rule="evenodd" clip-rule="evenodd" d="M7.61426 4.76009C7.61426 4.29985 7.24116 3.92676 6.78092 3.92676C6.32069 3.92676 5.94759 4.29985 5.94759 4.76009L5.94759 8.92676C5.94759 9.387 6.32069 9.76009 6.78092 9.76009C7.24116 9.76009 7.61426 9.38699 7.61426 8.92676L7.61426 4.76009Z" fill="'+p.fgColor+'"/>\n                <path fill-rule="evenodd" clip-rule="evenodd" d="M11.0336 6.00977C10.5734 6.00977 10.2003 6.38286 10.2003 6.8431C10.2003 7.30334 10.5734 7.67643 11.0336 7.67643H15.2003C15.6605 7.67643 16.0336 7.30334 16.0336 6.8431C16.0336 6.38286 15.6605 6.00977 15.2003 6.00977H11.0336Z" fill="'+p.fgColor+'"/>\n                <path fill-rule="evenodd" clip-rule="evenodd" d="M5.89704 10.9916C5.5716 10.6662 5.04397 10.6662 4.71853 10.9916C4.39309 11.317 4.39309 11.8447 4.71853 12.1701L7.66481 15.1164C7.99024 15.4418 8.51788 15.4418 8.84332 15.1164C9.16876 14.791 9.16876 14.2633 8.84332 13.9379L5.89704 10.9916Z" fill="'+p.fgColor+'"/>\n                <path fill-rule="evenodd" clip-rule="evenodd" d="M8.84332 12.1703C9.16875 11.8449 9.16875 11.3172 8.84332 10.9918C8.51788 10.6664 7.99024 10.6664 7.6648 10.9918L4.71853 13.9381C4.39309 14.2635 4.39309 14.7912 4.71853 15.1166C5.04396 15.442 5.5716 15.442 5.89704 15.1166L8.84332 12.1703Z" fill="'+p.fgColor+'"/>\n                <path d="M10.2003 11.804C10.2003 11.3438 10.5734 10.9707 11.0336 10.9707H15.2003C15.6605 10.9707 16.0336 11.3438 16.0336 11.804C16.0336 12.2643 15.6605 12.6374 15.2003 12.6374H11.0336C10.5734 12.6374 10.2003 12.2643 10.2003 11.804Z" fill="'+p.fgColor+'"/>\n                <path d="M10.2003 14.304C10.2003 13.8438 10.5734 13.4707 11.0336 13.4707H15.2003C15.6605 13.4707 16.0336 13.8438 16.0336 14.304C16.0336 14.7643 15.6605 15.1374 15.2003 15.1374H11.0336C10.5734 15.1374 10.2003 14.7643 10.2003 14.304Z" fill="'+p.fgColor+'"/>\n            </svg>'}}}),[]);return react__WEBPACK_IMPORTED_MODULE_25__.createElement(BeautifulWrapper,{title:"Custom header icons",description:react__WEBPACK_IMPORTED_MODULE_25__.createElement(react__WEBPACK_IMPORTED_MODULE_25__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_25__.createElement(Description,null,"You can provide overrides for the default icons by passing the ",react__WEBPACK_IMPORTED_MODULE_25__.createElement(PropName,null,"headerIcons")," ","prop."))},react__WEBPACK_IMPORTED_MODULE_25__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_27__.a,_extends({},defaultProps,{getCellContent:getCellContent,columns:realCols,onCellEdited:setCellValue,onColumnResized:onColumnResized,headerIcons:headerIcons,rows:1e3})))};ThemePerColumn.parameters={options:{showPanel:!1}};var RightElement=function RightElement(){var _useMockDataGenerator18=useMockDataGenerator(12,!1),cols=_useMockDataGenerator18.cols,getCellContent=_useMockDataGenerator18.getCellContent,setCellValue=_useMockDataGenerator18.setCellValue,_React$useState28=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_25__.useState(30),2),numRows=_React$useState28[0],setNumRows=_React$useState28[1],onRowAppended=react__WEBPACK_IMPORTED_MODULE_25__.useCallback((function(){var newRow=numRows;setNumRows((function(cv){return cv+1}));for(var c=0;c<6;c++)setCellValue([c,newRow],{displayData:"",data:""})}),[numRows,setCellValue]);return react__WEBPACK_IMPORTED_MODULE_25__.createElement(BeautifulWrapper,{title:"Right Element",description:react__WEBPACK_IMPORTED_MODULE_25__.createElement(Description,null,"A DOM element may be added as a trailer to the grid by using the ",react__WEBPACK_IMPORTED_MODULE_25__.createElement(PropName,null,"rightElement")," ","prop.")},react__WEBPACK_IMPORTED_MODULE_25__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_27__.a,_extends({},defaultProps,{getCellContent:getCellContent,columns:cols,rowMarkers:"both",onCellEdited:setCellValue,trailingRowOptions:{hint:"New row...",sticky:!0,tint:!0},rows:numRows,onRowAppended:onRowAppended,rightElementSticky:!0,rightElement:react__WEBPACK_IMPORTED_MODULE_25__.createElement("div",{style:{height:"100%",padding:"20px 20px 40px 20px",width:200,color:"black",whiteSpace:"pre-wrap",backgroundColor:"rgba(240, 240, 250, 0.2)",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0 0 10px rgba(0, 0, 0, 0.15)",backdropFilter:"blur(12px)"}},"This is a real DOM element. You can put whatever you want here. You can also size it as big as you want. ","\n\n","It also does not have to be sticky.")})))};RightElement.parameters={options:{showPanel:!1}};var num=1;function rand(){return num=16807*num%2147483647}var RapidUpdates=function RapidUpdates(){var _useMockDataGenerator19=useMockDataGenerator(100),cols=_useMockDataGenerator19.cols,getCellContent=_useMockDataGenerator19.getCellContent,setCellValueRaw=_useMockDataGenerator19.setCellValueRaw,ref=react__WEBPACK_IMPORTED_MODULE_25__.useRef(null),countRef=react__WEBPACK_IMPORTED_MODULE_25__.useRef(0),displayCountRef=react__WEBPACK_IMPORTED_MODULE_25__.useRef(null);return react__WEBPACK_IMPORTED_MODULE_25__.useEffect((function(){var rafID=0;return function sendUpdate(){for(var _ref$current,cells=[],x=0;x<5e3;x++){var col=Math.max(10,rand()%100),row=rand()%1e4;setCellValueRaw([col,row],{kind:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.b.Text,data:x.toString(),displayData:x+"k",themeOverride:x%5!=0?{bgCell:"#f2fff4",textDark:"#00d41c"}:{bgCell:"#fff6f6",textDark:"#d40000"},allowOverlay:!0}),cells.push({cell:[col,row]})}countRef.current+=5e3,null!==displayCountRef.current&&(displayCountRef.current.textContent=""+countRef.current),null===(_ref$current=ref.current)||void 0===_ref$current||_ref$current.updateCells(cells),rafID=window.requestAnimationFrame(sendUpdate)}(),function(){cancelAnimationFrame(rafID)}}),[setCellValueRaw]),react__WEBPACK_IMPORTED_MODULE_25__.createElement(BeautifulWrapper,{title:"Rapid updating",description:react__WEBPACK_IMPORTED_MODULE_25__.createElement(react__WEBPACK_IMPORTED_MODULE_25__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_25__.createElement(Description,null,"Data grid can support many thousands of updates per seconds. The data grid can easily update data faster than a human can read it, more importantly the faster the data grid can update, the more time your code can spend doing more valuable work."),react__WEBPACK_IMPORTED_MODULE_25__.createElement(MoreInfo,null,"Updates processed: ",react__WEBPACK_IMPORTED_MODULE_25__.createElement(KeyName,{ref:displayCountRef})," We could do this faster but we wrote a really crappy data store for this demo which is actually slowing down the data grid."))},react__WEBPACK_IMPORTED_MODULE_25__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_27__.a,_extends({},defaultProps,{ref:ref,getCellContent:getCellContent,columns:cols,rows:1e4})))};RapidUpdates.parameters={options:{showPanel:!1}};var CopySupport=function CopySupport(){var _useMockDataGenerator20=useMockDataGenerator(10,!1),cols=_useMockDataGenerator20.cols,getCellContent=_useMockDataGenerator20.getCellContent,onColumnResized=_useMockDataGenerator20.onColumnResized,setCellValue=_useMockDataGenerator20.setCellValue,getCellsForSelection=_useMockDataGenerator20.getCellsForSelection;return react__WEBPACK_IMPORTED_MODULE_25__.createElement(BeautifulWrapper,{title:"Copy support",description:react__WEBPACK_IMPORTED_MODULE_25__.createElement(react__WEBPACK_IMPORTED_MODULE_25__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_25__.createElement(Description,null,"Large amounts of data can be copied and customized using"," ",react__WEBPACK_IMPORTED_MODULE_25__.createElement(PropName,null,"getCellsForSelection"),"."),react__WEBPACK_IMPORTED_MODULE_25__.createElement(MoreInfo,null,"The data is copied into a format ready to be pasted into Excel or Google Sheets"),react__WEBPACK_IMPORTED_MODULE_25__.createElement("textarea",{placeholder:"Copy something below and paste it here...",style:{width:"100%",marginBottom:20,borderRadius:9,minHeight:200,padding:10}}))},react__WEBPACK_IMPORTED_MODULE_25__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_27__.a,_extends({},defaultProps,{getCellContent:getCellContent,rowMarkers:"both",getCellsForSelection:getCellsForSelection,columns:cols,onCellEdited:setCellValue,onColumnResized:onColumnResized,rows:400})))};CopySupport.parameters={options:{showPanel:!1}};var PasteSupport=function PasteSupport(){var _useMockDataGenerator21=useMockDataGenerator(50,!1),cols=_useMockDataGenerator21.cols,getCellContent=_useMockDataGenerator21.getCellContent,onColumnResized=_useMockDataGenerator21.onColumnResized,setCellValue=_useMockDataGenerator21.setCellValue,getCellsForSelection=_useMockDataGenerator21.getCellsForSelection;return react__WEBPACK_IMPORTED_MODULE_25__.createElement(BeautifulWrapper,{title:"Paste support",description:react__WEBPACK_IMPORTED_MODULE_25__.createElement(react__WEBPACK_IMPORTED_MODULE_25__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_25__.createElement(Description,null,"The data grid can handle paste automatically by returning true from ",react__WEBPACK_IMPORTED_MODULE_25__.createElement(PropName,null,"onPaste"),". You can also return false and handle paste yourself. If paste is undefined the DataEditor will do its best to paste to the current cell."),react__WEBPACK_IMPORTED_MODULE_25__.createElement(MoreInfo,null,"Paste supports the copy format of Google Sheets and Excel. Below is an example of data copied from excel with some escaped text."),react__WEBPACK_IMPORTED_MODULE_25__.createElement("textarea",{value:'Sunday\tDogs\thttps://google.com\nMonday\tCats\thttps://google.com\nTuesday\tTurtles\thttps://google.com\nWednesday\tBears\thttps://google.com\nThursday\t"L  ions"\thttps://google.com\nFriday\tPigs\thttps://google.com\nSaturday\t"Turkeys and some ""quotes"" and\na new line char ""more quotes"" plus a tab  ."\thttps://google.com',style:{width:"100%",marginBottom:20,borderRadius:9,minHeight:200,padding:10}}))},react__WEBPACK_IMPORTED_MODULE_25__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_27__.a,_extends({},defaultProps,{getCellContent:getCellContent,rowMarkers:"both",getCellsForSelection:getCellsForSelection,columns:cols,onCellEdited:setCellValue,onColumnResized:onColumnResized,onPaste:!0,rows:400})))};PasteSupport.parameters={options:{showPanel:!1}};var FreezeColumns=function FreezeColumns(){var _useMockDataGenerator22=useMockDataGenerator(100),cols=_useMockDataGenerator22.cols,getCellContent=_useMockDataGenerator22.getCellContent;return react__WEBPACK_IMPORTED_MODULE_25__.createElement(BeautifulWrapper,{title:"Freeze columns",description:react__WEBPACK_IMPORTED_MODULE_25__.createElement(Description,null,"Columns at the start of your grid can be frozen in place by settings"," ",react__WEBPACK_IMPORTED_MODULE_25__.createElement(PropName,null,"freezeColumns")," to a number greater than 0.")},react__WEBPACK_IMPORTED_MODULE_25__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_27__.a,_extends({},defaultProps,{rowMarkers:"both",freezeColumns:1,getCellContent:getCellContent,columns:cols,verticalBorder:function verticalBorder(c){return c>0},rows:1e3})))};FreezeColumns.parameters={options:{showPanel:!1}};var ReorderRows=function ReorderRows(){var cols=react__WEBPACK_IMPORTED_MODULE_25__.useMemo((function(){return[{title:"Col A",width:150},{title:"Col B",width:150}]}),[]),_React$useState30=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_25__.useState((function(){return lodash_range__WEBPACK_IMPORTED_MODULE_35___default()(0,50).map((function(x){return["A: "+x,"B: "+x]}))})),2),rowData=_React$useState30[0],setRowData=_React$useState30[1],getCellContent=react__WEBPACK_IMPORTED_MODULE_25__.useCallback((function(_ref7){var _ref15=_slicedToArray(_ref7,2),col=_ref15[0],row=_ref15[1];return{kind:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_26__.b.Text,allowOverlay:!1,data:rowData[row][col],displayData:rowData[row][col]}}),[rowData]),reorderRows=react__WEBPACK_IMPORTED_MODULE_25__.useCallback((function(from,to){setRowData((function(cv){var d=_toConsumableArray(cv),removed=d.splice(from,1);return d.splice.apply(d,[to,0].concat(_toConsumableArray(removed))),d}))}),[]);return react__WEBPACK_IMPORTED_MODULE_25__.createElement(BeautifulWrapper,{title:"Reorder Rows",description:react__WEBPACK_IMPORTED_MODULE_25__.createElement(react__WEBPACK_IMPORTED_MODULE_25__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_25__.createElement(Description,null,"Rows can be re-arranged by using the ",react__WEBPACK_IMPORTED_MODULE_25__.createElement(PropName,null,"onRowMoved")," callback. When set the first row can be used to drag and drop."))},react__WEBPACK_IMPORTED_MODULE_25__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_27__.a,_extends({},defaultProps,{rowMarkers:"number",onRowMoved:reorderRows,getCellContent:getCellContent,columns:cols,rows:50})))};ReorderRows.parameters={options:{showPanel:!1}};var ColumnGroups=function ColumnGroups(){var _useMockDataGenerator23=useMockDataGenerator(1e5,!0,!0),cols=_useMockDataGenerator23.cols,getCellContent=_useMockDataGenerator23.getCellContent;return react__WEBPACK_IMPORTED_MODULE_25__.createElement(BeautifulWrapper,{title:"Column Grouping",description:react__WEBPACK_IMPORTED_MODULE_25__.createElement(Description,null,"Columns in the data grid may be grouped by setting their ",react__WEBPACK_IMPORTED_MODULE_25__.createElement(PropName,null,"group")," property.")},react__WEBPACK_IMPORTED_MODULE_25__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_27__.a,_extends({},defaultProps,{getCellContent:getCellContent,columns:cols,rows:1e3,rowMarkers:"both"})))};ColumnGroups.parameters={options:{showPanel:!1}};try{ResizableColumns.displayName="ResizableColumns",ResizableColumns.__docgenInfo={description:"",displayName:"ResizableColumns",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-editor/data-editor-beautiful.stories.tsx#ResizableColumns"]={docgenInfo:ResizableColumns.__docgenInfo,name:"ResizableColumns",path:"core/src/data-editor/data-editor-beautiful.stories.tsx#ResizableColumns"})}catch(__react_docgen_typescript_loader_error){}try{AddData.displayName="AddData",AddData.__docgenInfo={description:"",displayName:"AddData",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-editor/data-editor-beautiful.stories.tsx#AddData"]={docgenInfo:AddData.__docgenInfo,name:"AddData",path:"core/src/data-editor/data-editor-beautiful.stories.tsx#AddData"})}catch(__react_docgen_typescript_loader_error){}try{AddDataToTop.displayName="AddDataToTop",AddDataToTop.__docgenInfo={description:"",displayName:"AddDataToTop",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-editor/data-editor-beautiful.stories.tsx#AddDataToTop"]={docgenInfo:AddDataToTop.__docgenInfo,name:"AddDataToTop",path:"core/src/data-editor/data-editor-beautiful.stories.tsx#AddDataToTop"})}catch(__react_docgen_typescript_loader_error){}try{OneMillionRows.displayName="OneMillionRows",OneMillionRows.__docgenInfo={description:"",displayName:"OneMillionRows",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-editor/data-editor-beautiful.stories.tsx#OneMillionRows"]={docgenInfo:OneMillionRows.__docgenInfo,name:"OneMillionRows",path:"core/src/data-editor/data-editor-beautiful.stories.tsx#OneMillionRows"})}catch(__react_docgen_typescript_loader_error){}try{SillyNumbers.displayName="SillyNumbers",SillyNumbers.__docgenInfo={description:"",displayName:"SillyNumbers",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-editor/data-editor-beautiful.stories.tsx#SillyNumbers"]={docgenInfo:SillyNumbers.__docgenInfo,name:"SillyNumbers",path:"core/src/data-editor/data-editor-beautiful.stories.tsx#SillyNumbers"})}catch(__react_docgen_typescript_loader_error){}try{ObserveVisibleRegion.displayName="ObserveVisibleRegion",ObserveVisibleRegion.__docgenInfo={description:"",displayName:"ObserveVisibleRegion",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-editor/data-editor-beautiful.stories.tsx#ObserveVisibleRegion"]={docgenInfo:ObserveVisibleRegion.__docgenInfo,name:"ObserveVisibleRegion",path:"core/src/data-editor/data-editor-beautiful.stories.tsx#ObserveVisibleRegion"})}catch(__react_docgen_typescript_loader_error){}try{OneHundredThousandCols.displayName="OneHundredThousandCols",OneHundredThousandCols.__docgenInfo={description:"",displayName:"OneHundredThousandCols",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-editor/data-editor-beautiful.stories.tsx#OneHundredThousandCols"]={docgenInfo:OneHundredThousandCols.__docgenInfo,name:"OneHundredThousandCols",path:"core/src/data-editor/data-editor-beautiful.stories.tsx#OneHundredThousandCols"})}catch(__react_docgen_typescript_loader_error){}try{TenMillionCells.displayName="TenMillionCells",TenMillionCells.__docgenInfo={description:"",displayName:"TenMillionCells",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-editor/data-editor-beautiful.stories.tsx#TenMillionCells"]={docgenInfo:TenMillionCells.__docgenInfo,name:"TenMillionCells",path:"core/src/data-editor/data-editor-beautiful.stories.tsx#TenMillionCells"})}catch(__react_docgen_typescript_loader_error){}try{SmoothScrollingGrid.displayName="SmoothScrollingGrid",SmoothScrollingGrid.__docgenInfo={description:"",displayName:"SmoothScrollingGrid",props:{smoothScrollX:{defaultValue:null,description:"",name:"smoothScrollX",required:!0,type:{name:"boolean"}},smoothScrollY:{defaultValue:null,description:"",name:"smoothScrollY",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-editor/data-editor-beautiful.stories.tsx#SmoothScrollingGrid"]={docgenInfo:SmoothScrollingGrid.__docgenInfo,name:"SmoothScrollingGrid",path:"core/src/data-editor/data-editor-beautiful.stories.tsx#SmoothScrollingGrid"})}catch(__react_docgen_typescript_loader_error){}try{AddColumns.displayName="AddColumns",AddColumns.__docgenInfo={description:"",displayName:"AddColumns",props:{columnsCount:{defaultValue:null,description:"",name:"columnsCount",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-editor/data-editor-beautiful.stories.tsx#AddColumns"]={docgenInfo:AddColumns.__docgenInfo,name:"AddColumns",path:"core/src/data-editor/data-editor-beautiful.stories.tsx#AddColumns"})}catch(__react_docgen_typescript_loader_error){}try{AutomaticRowMarkers.displayName="AutomaticRowMarkers",AutomaticRowMarkers.__docgenInfo={description:"",displayName:"AutomaticRowMarkers",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-editor/data-editor-beautiful.stories.tsx#AutomaticRowMarkers"]={docgenInfo:AutomaticRowMarkers.__docgenInfo,name:"AutomaticRowMarkers",path:"core/src/data-editor/data-editor-beautiful.stories.tsx#AutomaticRowMarkers"})}catch(__react_docgen_typescript_loader_error){}try{UnevenRows.displayName="UnevenRows",UnevenRows.__docgenInfo={description:"",displayName:"UnevenRows",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-editor/data-editor-beautiful.stories.tsx#UnevenRows"]={docgenInfo:UnevenRows.__docgenInfo,name:"UnevenRows",path:"core/src/data-editor/data-editor-beautiful.stories.tsx#UnevenRows"})}catch(__react_docgen_typescript_loader_error){}try{DrawCustomCells.displayName="DrawCustomCells",DrawCustomCells.__docgenInfo={description:"",displayName:"DrawCustomCells",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-editor/data-editor-beautiful.stories.tsx#DrawCustomCells"]={docgenInfo:DrawCustomCells.__docgenInfo,name:"DrawCustomCells",path:"core/src/data-editor/data-editor-beautiful.stories.tsx#DrawCustomCells"})}catch(__react_docgen_typescript_loader_error){}try{RearrangeColumns.displayName="RearrangeColumns",RearrangeColumns.__docgenInfo={description:"",displayName:"RearrangeColumns",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-editor/data-editor-beautiful.stories.tsx#RearrangeColumns"]={docgenInfo:RearrangeColumns.__docgenInfo,name:"RearrangeColumns",path:"core/src/data-editor/data-editor-beautiful.stories.tsx#RearrangeColumns"})}catch(__react_docgen_typescript_loader_error){}try{RowAndHeaderSizes.displayName="RowAndHeaderSizes",RowAndHeaderSizes.__docgenInfo={description:"",displayName:"RowAndHeaderSizes",props:{rowHeight:{defaultValue:null,description:"",name:"rowHeight",required:!0,type:{name:"number"}},headerHeight:{defaultValue:null,description:"",name:"headerHeight",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-editor/data-editor-beautiful.stories.tsx#RowAndHeaderSizes"]={docgenInfo:RowAndHeaderSizes.__docgenInfo,name:"RowAndHeaderSizes",path:"core/src/data-editor/data-editor-beautiful.stories.tsx#RowAndHeaderSizes"})}catch(__react_docgen_typescript_loader_error){}try{MultiSelectColumns.displayName="MultiSelectColumns",MultiSelectColumns.__docgenInfo={description:"",displayName:"MultiSelectColumns",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-editor/data-editor-beautiful.stories.tsx#MultiSelectColumns"]={docgenInfo:MultiSelectColumns.__docgenInfo,name:"MultiSelectColumns",path:"core/src/data-editor/data-editor-beautiful.stories.tsx#MultiSelectColumns"})}catch(__react_docgen_typescript_loader_error){}try{AllCellKinds.displayName="AllCellKinds",AllCellKinds.__docgenInfo={description:"",displayName:"AllCellKinds",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-editor/data-editor-beautiful.stories.tsx#AllCellKinds"]={docgenInfo:AllCellKinds.__docgenInfo,name:"AllCellKinds",path:"core/src/data-editor/data-editor-beautiful.stories.tsx#AllCellKinds"})}catch(__react_docgen_typescript_loader_error){}try{ThemeSupport.displayName="ThemeSupport",ThemeSupport.__docgenInfo={description:"",displayName:"ThemeSupport",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-editor/data-editor-beautiful.stories.tsx#ThemeSupport"]={docgenInfo:ThemeSupport.__docgenInfo,name:"ThemeSupport",path:"core/src/data-editor/data-editor-beautiful.stories.tsx#ThemeSupport"})}catch(__react_docgen_typescript_loader_error){}try{ThemePerColumn.displayName="ThemePerColumn",ThemePerColumn.__docgenInfo={description:"",displayName:"ThemePerColumn",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-editor/data-editor-beautiful.stories.tsx#ThemePerColumn"]={docgenInfo:ThemePerColumn.__docgenInfo,name:"ThemePerColumn",path:"core/src/data-editor/data-editor-beautiful.stories.tsx#ThemePerColumn"})}catch(__react_docgen_typescript_loader_error){}try{BuiltInSearch.displayName="BuiltInSearch",BuiltInSearch.__docgenInfo={description:"",displayName:"BuiltInSearch",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-editor/data-editor-beautiful.stories.tsx#BuiltInSearch"]={docgenInfo:BuiltInSearch.__docgenInfo,name:"BuiltInSearch",path:"core/src/data-editor/data-editor-beautiful.stories.tsx#BuiltInSearch"})}catch(__react_docgen_typescript_loader_error){}try{HeaderMenus.displayName="HeaderMenus",HeaderMenus.__docgenInfo={description:"",displayName:"HeaderMenus",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-editor/data-editor-beautiful.stories.tsx#HeaderMenus"]={docgenInfo:HeaderMenus.__docgenInfo,name:"HeaderMenus",path:"core/src/data-editor/data-editor-beautiful.stories.tsx#HeaderMenus"})}catch(__react_docgen_typescript_loader_error){}try{CustomHeaderIcons.displayName="CustomHeaderIcons",CustomHeaderIcons.__docgenInfo={description:"",displayName:"CustomHeaderIcons",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-editor/data-editor-beautiful.stories.tsx#CustomHeaderIcons"]={docgenInfo:CustomHeaderIcons.__docgenInfo,name:"CustomHeaderIcons",path:"core/src/data-editor/data-editor-beautiful.stories.tsx#CustomHeaderIcons"})}catch(__react_docgen_typescript_loader_error){}try{RightElement.displayName="RightElement",RightElement.__docgenInfo={description:"",displayName:"RightElement",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-editor/data-editor-beautiful.stories.tsx#RightElement"]={docgenInfo:RightElement.__docgenInfo,name:"RightElement",path:"core/src/data-editor/data-editor-beautiful.stories.tsx#RightElement"})}catch(__react_docgen_typescript_loader_error){}try{RapidUpdates.displayName="RapidUpdates",RapidUpdates.__docgenInfo={description:"",displayName:"RapidUpdates",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-editor/data-editor-beautiful.stories.tsx#RapidUpdates"]={docgenInfo:RapidUpdates.__docgenInfo,name:"RapidUpdates",path:"core/src/data-editor/data-editor-beautiful.stories.tsx#RapidUpdates"})}catch(__react_docgen_typescript_loader_error){}try{CopySupport.displayName="CopySupport",CopySupport.__docgenInfo={description:"",displayName:"CopySupport",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-editor/data-editor-beautiful.stories.tsx#CopySupport"]={docgenInfo:CopySupport.__docgenInfo,name:"CopySupport",path:"core/src/data-editor/data-editor-beautiful.stories.tsx#CopySupport"})}catch(__react_docgen_typescript_loader_error){}try{PasteSupport.displayName="PasteSupport",PasteSupport.__docgenInfo={description:"",displayName:"PasteSupport",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-editor/data-editor-beautiful.stories.tsx#PasteSupport"]={docgenInfo:PasteSupport.__docgenInfo,name:"PasteSupport",path:"core/src/data-editor/data-editor-beautiful.stories.tsx#PasteSupport"})}catch(__react_docgen_typescript_loader_error){}try{FreezeColumns.displayName="FreezeColumns",FreezeColumns.__docgenInfo={description:"",displayName:"FreezeColumns",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-editor/data-editor-beautiful.stories.tsx#FreezeColumns"]={docgenInfo:FreezeColumns.__docgenInfo,name:"FreezeColumns",path:"core/src/data-editor/data-editor-beautiful.stories.tsx#FreezeColumns"})}catch(__react_docgen_typescript_loader_error){}try{ReorderRows.displayName="ReorderRows",ReorderRows.__docgenInfo={description:"",displayName:"ReorderRows",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-editor/data-editor-beautiful.stories.tsx#ReorderRows"]={docgenInfo:ReorderRows.__docgenInfo,name:"ReorderRows",path:"core/src/data-editor/data-editor-beautiful.stories.tsx#ReorderRows"})}catch(__react_docgen_typescript_loader_error){}try{ColumnGroups.displayName="ColumnGroups",ColumnGroups.__docgenInfo={description:"",displayName:"ColumnGroups",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-editor/data-editor-beautiful.stories.tsx#ColumnGroups"]={docgenInfo:ColumnGroups.__docgenInfo,name:"ColumnGroups",path:"core/src/data-editor/data-editor-beautiful.stories.tsx#ColumnGroups"})}catch(__react_docgen_typescript_loader_error){}},403:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Bug70",(function(){return Bug70})),__webpack_require__.d(__webpack_exports__,"FilterColumns",(function(){return FilterColumns}));__webpack_require__(6),__webpack_require__(16),__webpack_require__(17),__webpack_require__(12),__webpack_require__(10),__webpack_require__(11),__webpack_require__(2),__webpack_require__(9),__webpack_require__(19),__webpack_require__(3),__webpack_require__(26),__webpack_require__(34),__webpack_require__(43),__webpack_require__(70),__webpack_require__(71),__webpack_require__(23);var _templateObject,react__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(0),_storybook_addons__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(28),_stories_story_utils__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(73),_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(1),react_virtualized_auto_sizer__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(87),_data_editor__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(13),_data_editor_container_data_grid_container__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(80),styled_components__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(21);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"DataEditor/TestCases/Bugs",decorators:[function(fn,context){return react__WEBPACK_IMPORTED_MODULE_16__.createElement(react_virtualized_auto_sizer__WEBPACK_IMPORTED_MODULE_20__.a,null,(function(props){var _props$width,_props$height,_props$width2,_props$height2;return react__WEBPACK_IMPORTED_MODULE_16__.createElement(_stories_story_utils__WEBPACK_IMPORTED_MODULE_18__.a,{width:null!==(_props$width=props.width)&&void 0!==_props$width?_props$width:1e3,height:null!==(_props$height=props.height)&&void 0!==_props$height?_props$height:800,context:context},react__WEBPACK_IMPORTED_MODULE_16__.createElement(_data_editor_container_data_grid_container__WEBPACK_IMPORTED_MODULE_22__.a,{width:null!==(_props$width2=props.width)&&void 0!==_props$width2?_props$width2:1e3,height:null!==(_props$height2=props.height)&&void 0!==_props$height2?_props$height2:800},fn()))}))}]};var bug70Gen=function bug70Gen(_ref){var row=_slicedToArray(_ref,2)[1];return{allowOverlay:!0,kind:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_19__.b.Number,data:row,displayData:row.toString()}},ignore=function ignore(){},Bug70Style=styled_components__WEBPACK_IMPORTED_MODULE_23__.c.div(_templateObject||(_templateObject=function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n    display: flex;\n    flex-direction: column;\n\n    > a {\n        margin-bottom: 20px;\n    }\n"])));function Bug70(){return react__WEBPACK_IMPORTED_MODULE_16__.createElement(Bug70Style,{className:"App"},react__WEBPACK_IMPORTED_MODULE_16__.createElement("p",null,"To cause error: scroll down at least one row, edit a cell in Col2, and hit Tab"),react__WEBPACK_IMPORTED_MODULE_16__.createElement("a",{href:"https://github.com/glideapps/glide-data-grid/issues/70",target:"_blank",rel:"noreferrer"},"Original report"),react__WEBPACK_IMPORTED_MODULE_16__.createElement(_data_editor_container_data_grid_container__WEBPACK_IMPORTED_MODULE_22__.a,{width:500,height:500},react__WEBPACK_IMPORTED_MODULE_16__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_21__.a,{rows:100,columns:[{title:"Col1",width:100},{title:"Col2",width:100}],getCellContent:bug70Gen,onCellEdited:ignore})))}var filterColumnsGen=function filterColumnsGen(_ref2){var _ref4=_slicedToArray(_ref2,2),col=_ref4[0],row=_ref4[1];return{allowOverlay:!0,kind:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_19__.b.Text,data:col+" - "+row,displayData:col+" - "+row}},filteringColumns=[{title:"Col AAAA",width:120},{title:"Col AAA",width:120},{title:"Col AA",width:120},{title:"Col A",width:120},{title:"Col",width:120}];function FilterColumns(){var _useState2=_slicedToArray(Object(_storybook_addons__WEBPACK_IMPORTED_MODULE_17__.e)(""),2),searchText=_useState2[0],setSearchText=_useState2[1],cols=Object(_storybook_addons__WEBPACK_IMPORTED_MODULE_17__.d)((function(){return""===searchText?filteringColumns:filteringColumns.filter((function(c){return c.title.toLowerCase().includes(searchText.toLowerCase())}))}),[searchText]);return react__WEBPACK_IMPORTED_MODULE_16__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_16__.createElement("input",{value:searchText,onChange:function onInputChange(e){setSearchText(e.target.value)}}),react__WEBPACK_IMPORTED_MODULE_16__.createElement(_data_editor_container_data_grid_container__WEBPACK_IMPORTED_MODULE_22__.a,{width:1e3,height:500},react__WEBPACK_IMPORTED_MODULE_16__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_21__.a,{rows:100,columns:cols,getCellContent:filterColumnsGen,smoothScrollX:!0,smoothScrollY:!0})))}},404:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Simplenotest",(function(){return Simplenotest})),__webpack_require__.d(__webpack_exports__,"RelationColumn",(function(){return RelationColumn})),__webpack_require__.d(__webpack_exports__,"Minimal",(function(){return Minimal})),__webpack_require__.d(__webpack_exports__,"Smooth",(function(){return Smooth})),__webpack_require__.d(__webpack_exports__,"ManualControl",(function(){return ManualControl})),__webpack_require__.d(__webpack_exports__,"Draggable",(function(){return Draggable})),__webpack_require__.d(__webpack_exports__,"IdealSize",(function(){return IdealSize})),__webpack_require__.d(__webpack_exports__,"DynamicAddRemoveColumns",(function(){return DynamicAddRemoveColumns})),__webpack_require__.d(__webpack_exports__,"RowSelectionStateLivesOutside",(function(){return RowSelectionStateLivesOutside})),__webpack_require__.d(__webpack_exports__,"ColSelectionStateLivesOutside",(function(){return ColSelectionStateLivesOutside})),__webpack_require__.d(__webpack_exports__,"GridSelectionOutOfRangeNoColumns",(function(){return GridSelectionOutOfRangeNoColumns})),__webpack_require__.d(__webpack_exports__,"ResizableColumns",(function(){return ResizableColumns})),__webpack_require__.d(__webpack_exports__,"GridSelectionOutOfRangeLessColumnsThanSelection",(function(){return GridSelectionOutOfRangeLessColumnsThanSelection})),__webpack_require__.d(__webpack_exports__,"GridAddNewRows",(function(){return GridAddNewRows})),__webpack_require__.d(__webpack_exports__,"GridNoTrailingBlankRow",(function(){return GridNoTrailingBlankRow})),__webpack_require__.d(__webpack_exports__,"MarkdownEdits",(function(){return MarkdownEdits})),__webpack_require__.d(__webpack_exports__,"CanEditBoolean",(function(){return CanEditBoolean})),__webpack_require__.d(__webpack_exports__,"SimpleEditable",(function(){return SimpleEditable}));__webpack_require__(4),__webpack_require__(3),__webpack_require__(26),__webpack_require__(34),__webpack_require__(41),__webpack_require__(14),__webpack_require__(114),__webpack_require__(137),__webpack_require__(23),__webpack_require__(6),__webpack_require__(16),__webpack_require__(17),__webpack_require__(12),__webpack_require__(10),__webpack_require__(11),__webpack_require__(2),__webpack_require__(9),__webpack_require__(19);var react__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(0),_storybook_addons__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(28),_stories_story_utils__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(73),_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(1),react_virtualized_auto_sizer__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(87),_data_editor__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(13),_data_editor_container_data_grid_container__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(80);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function getDummyData(_ref){var _ref11=_slicedToArray(_ref,2),col=_ref11[0],row=_ref11[1];return 0===col?{kind:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_21__.b.RowID,data:"RowID "+col+", "+row,allowOverlay:!1}:1===col?{kind:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_21__.b.Bubble,data:["Bub "+col,"Bub "+row,"Bub "+col,"Bub "+row,"Bub "+col,"Bub "+row,"Bub "+col,"Bub "+row,"Bub "+col,"Bub "+row],allowOverlay:!0}:2===col?{kind:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_21__.b.Image,data:["https://i.imgur.com/5J0BftG.jpg","https://preview.redd.it/7jlqkp2cyap51.jpg?width=575&auto=webp&s=26fa9ed15b16fb450ee08ed1f2f0ccb5e0223581"],allowOverlay:!0,allowAdd:!0}:3===col?{kind:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_21__.b.Markdown,data:"## Markdown has titles\n\nAnd supports newline chars and automatic wrapping text that just needs to be long enough to trigger it.\n\n\n[Google](https://google.com)\n\n- with\n- lists\n- that\n- can\n- be\n- pretty\n- long\n                    ",allowOverlay:!0}:4===col?{kind:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_21__.b.Number,displayData:"$10,352",allowOverlay:!0,data:10352,readonly:!0}:5===col?{kind:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_21__.b.Uri,data:"https://www.google.com",allowOverlay:!0}:6===col?{kind:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_21__.b.Boolean,data:row%3==0||row%5==0,showUnchecked:!0,allowEdit:!1,allowOverlay:!1}:7===col?{kind:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_21__.b.Text,displayData:" ",data:" ",allowOverlay:!0,readonly:!0}:8===col?{kind:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_21__.b.Drilldown,data:[{text:"Test",img:"https://allthatsinteresting.com/wordpress/wp-content/uploads/2012/06/iconic-photos-1950-einstein.jpg"},{text:"No Image"}],allowOverlay:!0}:{kind:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_21__.b.Text,displayData:col+", "+row+" ",data:col+", "+row+" ",allowOverlay:!0}}function getDummyCols(){return[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20].map((function(i){return{title:i.toString()+" is the longest header in the world",width:120+i%4*10,icon:"headerString",hasMenu:!0}}))}function Simplenotest(){var _useState2=_slicedToArray(Object(_storybook_addons__WEBPACK_IMPORTED_MODULE_19__.e)(getDummyCols),2),cols=_useState2[0],setColumns=_useState2[1],onColumnResized=Object(_storybook_addons__WEBPACK_IMPORTED_MODULE_19__.c)((function(col,newSize){var index=cols.indexOf(col),newCols=_toConsumableArray(cols);newCols[index]=Object.assign({},newCols[index],{width:newSize}),setColumns(newCols)}),[cols]),getCellsForSelection=Object(_storybook_addons__WEBPACK_IMPORTED_MODULE_19__.c)((function(selection){for(var cells=[],yCoord=selection.y;yCoord<selection.y+selection.height;yCoord++){for(var rowCells=[],xCoord=selection.x;xCoord<selection.x+selection.width;xCoord++)rowCells.push(getDummyData([xCoord,yCoord]));cells.push(rowCells)}return cells}),[]);return react__WEBPACK_IMPORTED_MODULE_18__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_23__.a,{getCellContent:getDummyData,getCellsForSelection:getCellsForSelection,columns:cols,rows:1e3,onColumnResized:onColumnResized})}function getDummyRelationColumn(){return[{title:"Relation",width:360,icon:"headerString",hasMenu:!0}]}function getDummyRelationData(_ref2){var _ref12=_slicedToArray(_ref2,2),col=_ref12[0],row=_ref12[1];return{kind:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_21__.b.Drilldown,data:[{text:"Image "+col+"-"+row,img:"https://allthatsinteresting.com/wordpress/wp-content/uploads/2012/06/iconic-photos-1950-einstein.jpg"},{text:"Text "+col+"-"+row},{text:"More text "+col+"-"+row}],allowOverlay:!0}}function RelationColumn(){var _useState4=_slicedToArray(Object(_storybook_addons__WEBPACK_IMPORTED_MODULE_19__.e)(getDummyRelationColumn),2),cols=_useState4[0],setColumns=_useState4[1],onColumnResized=Object(_storybook_addons__WEBPACK_IMPORTED_MODULE_19__.c)((function(col,newSize){var index=cols.indexOf(col),newCols=_toConsumableArray(cols);newCols[index]=Object.assign({},newCols[index],{width:newSize}),setColumns(newCols)}),[cols]);return react__WEBPACK_IMPORTED_MODULE_18__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_23__.a,{getCellContent:getDummyRelationData,columns:cols,rows:1e3,onColumnResized:onColumnResized,smoothScrollX:!0,smoothScrollY:!0})}__webpack_exports__.default={title:"DataEditor/TestCases",decorators:[function(fn,context){return react__WEBPACK_IMPORTED_MODULE_18__.createElement(react_virtualized_auto_sizer__WEBPACK_IMPORTED_MODULE_22__.a,null,(function(props){var _props$width,_props$height,_props$width2,_props$height2;return react__WEBPACK_IMPORTED_MODULE_18__.createElement(_stories_story_utils__WEBPACK_IMPORTED_MODULE_20__.a,{width:null!==(_props$width=props.width)&&void 0!==_props$width?_props$width:1e3,height:null!==(_props$height=props.height)&&void 0!==_props$height?_props$height:800,context:context},react__WEBPACK_IMPORTED_MODULE_18__.createElement(_data_editor_container_data_grid_container__WEBPACK_IMPORTED_MODULE_24__.a,{width:null!==(_props$width2=props.width)&&void 0!==_props$width2?_props$width2:1e3,height:null!==(_props$height2=props.height)&&void 0!==_props$height2?_props$height2:800},fn()))}))}]};var columns=[{title:"Number",width:100,icon:"headerArray",overlayIcon:"rowOwnerOverlay"},{title:"Square",width:100}];function getData(_ref3){var _ref13=_slicedToArray(_ref3,2),col=_ref13[0],row=_ref13[1],n=Math.pow(row,col+1);return{kind:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_21__.b.Number,data:n,displayData:n.toString(),allowOverlay:!1}}function Minimal(){return react__WEBPACK_IMPORTED_MODULE_18__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_23__.a,{getCellContent:getData,columns:columns,rows:1e3})}function Smooth(){var _useState6=_slicedToArray(Object(_storybook_addons__WEBPACK_IMPORTED_MODULE_19__.e)(getDummyCols),2),cols=_useState6[0],setCols=_useState6[1],onColumnResized=Object(_storybook_addons__WEBPACK_IMPORTED_MODULE_19__.c)((function(column,newSize){var index=cols.indexOf(column);if(-1!==index){var newCol=Object.assign({},column,{width:newSize}),newCols=_toConsumableArray(cols);newCols.splice(index,1,newCol),setCols(newCols)}}),[cols]);return react__WEBPACK_IMPORTED_MODULE_18__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_23__.a,{getCellContent:getDummyData,onColumnResized:onColumnResized,columns:cols,rows:1e3,smoothScrollY:!0,smoothScrollX:!0})}function ManualControl(){var _useState8=_slicedToArray(Object(_storybook_addons__WEBPACK_IMPORTED_MODULE_19__.e)(void 0),2),gridSelection=_useState8[0],setGridSelection=_useState8[1];return react__WEBPACK_IMPORTED_MODULE_18__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_23__.a,{gridSelection:gridSelection,onGridSelectionChange:function cb(newVal){var _newVal$cell$;(null!==(_newVal$cell$=null==newVal?void 0:newVal.cell[0])&&void 0!==_newVal$cell$?_newVal$cell$:0)%2==0&&setGridSelection(newVal)},getCellContent:getData,columns:columns,rows:1e3})}function Draggable(){return react__WEBPACK_IMPORTED_MODULE_18__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_23__.a,{isDraggable:!0,onDragStart:function onDragStart(args){args.setData("text","testing")},getCellContent:getData,columns:columns,rows:1e3})}function IdealSize(){return react__WEBPACK_IMPORTED_MODULE_18__.createElement("div",{style:{width:500,height:500,position:"relative"}},react__WEBPACK_IMPORTED_MODULE_18__.createElement(_data_editor_container_data_grid_container__WEBPACK_IMPORTED_MODULE_24__.a,{width:500,height:500},react__WEBPACK_IMPORTED_MODULE_18__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_23__.a,{isDraggable:!0,onDragStart:function onDragStart(args){args.setData("text","testing")},getCellContent:getData,columns:[{title:"Number",width:250},{title:"Square",width:250}],smoothScrollX:!0,smoothScrollY:!0,rowHeight:50,headerHeight:50,rows:9})))}function DynamicAddRemoveColumns(_ref4){for(var columnCount=_ref4.columnCount,cols=[{title:"Number",width:250},{title:"Square",width:250}],i=2;i<columnCount;i++)cols.push({title:"Foo",width:250});return react__WEBPACK_IMPORTED_MODULE_18__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_23__.a,{isDraggable:!0,getCellContent:getData,columns:cols,smoothScrollX:!0,smoothScrollY:!0,rowHeight:50,headerHeight:50,rows:9})}function RowSelectionStateLivesOutside(){var _useState10=_slicedToArray(Object(_storybook_addons__WEBPACK_IMPORTED_MODULE_19__.e)(void 0),2),selected_rows=_useState10[0],setSelectedRows=_useState10[1];return react__WEBPACK_IMPORTED_MODULE_18__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_23__.a,{selectedRows:selected_rows,onSelectedRowsChange:function cb(newRows){null!=newRows&&setSelectedRows(newRows)},isDraggable:!0,onDragStart:function onDragStart(args){args.setData("text","testing")},getCellContent:getData,columns:columns,rows:1e3})}function ColSelectionStateLivesOutside(){var _useState12=_slicedToArray(Object(_storybook_addons__WEBPACK_IMPORTED_MODULE_19__.e)(_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_21__.a.empty()),2),selected_cols=_useState12[0],setSelectedCols=_useState12[1];return react__WEBPACK_IMPORTED_MODULE_18__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_23__.a,{selectedColumns:selected_cols,onSelectedColumnsChange:function cb(newRows){null!=newRows&&setSelectedCols(newRows)},isDraggable:!0,onDragStart:function onDragStart(args){args.setData("text","testing")},getCellContent:getData,columns:columns,rows:1e3})}function GridSelectionOutOfRangeNoColumns(){var dummyCols=Object(_storybook_addons__WEBPACK_IMPORTED_MODULE_19__.d)((function(){return getDummyCols().map((function(v){return Object.assign({},v,{width:300,title:"Making column smaller used to crash!"})}))}),[]),_useState14=_slicedToArray(Object(_storybook_addons__WEBPACK_IMPORTED_MODULE_19__.e)({cell:[2,8],range:{width:1,height:1,x:2,y:8}}),2),selected=_useState14[0],setSelected=_useState14[1],_useState16=_slicedToArray(Object(_storybook_addons__WEBPACK_IMPORTED_MODULE_19__.e)(dummyCols),2),cols=_useState16[0],setCols=_useState16[1],onSelected=Object(_storybook_addons__WEBPACK_IMPORTED_MODULE_19__.c)((function(newSel){setSelected(newSel)}),[]);return react__WEBPACK_IMPORTED_MODULE_18__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_23__.a,{getCellContent:getDummyData,columns:cols,rows:1e3,onGridSelectionChange:onSelected,gridSelection:selected,onColumnResized:function onColumnResized(_col,newSize){setCols(newSize>300?dummyCols:[])}})}function getResizableColumnsInitSize(){return{"resize me 0":120,"resize me 1":120,"resize me 2":120,"resize me 3":120,"resize me 4":120,"resize me 5":120,"resize me 6":120,"resize me 7":120}}function ResizableColumns(){var _useState18=_slicedToArray(Object(_storybook_addons__WEBPACK_IMPORTED_MODULE_19__.e)(getResizableColumnsInitSize),2),colSizes=_useState18[0],setColSizes=_useState18[1],cols=Object(_storybook_addons__WEBPACK_IMPORTED_MODULE_19__.d)((function(){return function getResizableColumns(sizeMap){return Object.entries(sizeMap).map((function(_ref5){var _ref14=_slicedToArray(_ref5,2);return{title:_ref14[0],width:_ref14[1],icon:"headerString",hasMenu:!0}}))}(colSizes)}),[colSizes]),onColumnResized=Object(_storybook_addons__WEBPACK_IMPORTED_MODULE_19__.c)((function(column,newSize){setColSizes((function(prevColSizes){var _Object$assign;return Object.assign({},prevColSizes,((_Object$assign={})[column.title]=newSize,_Object$assign))}))}),[]);return react__WEBPACK_IMPORTED_MODULE_18__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_23__.a,{getCellContent:getDummyData,columns:cols,rows:20,isDraggable:!1,smoothScrollX:!0,smoothScrollY:!0,onColumnResized:onColumnResized})}function GridSelectionOutOfRangeLessColumnsThanSelection(){var dummyCols=Object(_storybook_addons__WEBPACK_IMPORTED_MODULE_19__.d)((function(){return getDummyCols().map((function(v){return Object.assign({},v,{width:300,title:"Making column smaller used to crash!"})}))}),[]),_useState20=_slicedToArray(Object(_storybook_addons__WEBPACK_IMPORTED_MODULE_19__.e)({cell:[2,8],range:{width:1,height:1,x:2,y:8}}),2),selected=_useState20[0],setSelected=_useState20[1],_useState22=_slicedToArray(Object(_storybook_addons__WEBPACK_IMPORTED_MODULE_19__.e)(dummyCols),2),cols=_useState22[0],setCols=_useState22[1],onSelected=Object(_storybook_addons__WEBPACK_IMPORTED_MODULE_19__.c)((function(newSel){setSelected(newSel)}),[]);return react__WEBPACK_IMPORTED_MODULE_18__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_23__.a,{getCellContent:getDummyData,columns:cols,rows:1e3,onGridSelectionChange:onSelected,gridSelection:selected,onColumnResized:function onColumnResized(_col,newSize){setCols(newSize>300?dummyCols:[dummyCols[0]])}})}function GridAddNewRows(){var cols=Object(_storybook_addons__WEBPACK_IMPORTED_MODULE_19__.d)(getDummyCols,[]),_useState24=_slicedToArray(Object(_storybook_addons__WEBPACK_IMPORTED_MODULE_19__.e)(10),2),rowsCount=_useState24[0],setRowsCount=_useState24[1],onRowAppended=Object(_storybook_addons__WEBPACK_IMPORTED_MODULE_19__.c)((function(){setRowsCount((function(r){return r+1}))}),[]),_useState26=_slicedToArray(Object(_storybook_addons__WEBPACK_IMPORTED_MODULE_19__.e)(void 0),2),selected=_useState26[0],setSelected=_useState26[1],onSelected=Object(_storybook_addons__WEBPACK_IMPORTED_MODULE_19__.c)((function(newSel){setSelected(newSel)}),[]);return react__WEBPACK_IMPORTED_MODULE_18__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_23__.a,{getCellContent:getDummyData,columns:cols,rows:rowsCount,onRowAppended:onRowAppended,onGridSelectionChange:onSelected,gridSelection:selected})}function GridNoTrailingBlankRow(){var cols=Object(_storybook_addons__WEBPACK_IMPORTED_MODULE_19__.d)(getDummyCols,[]),_useState28=_slicedToArray(Object(_storybook_addons__WEBPACK_IMPORTED_MODULE_19__.e)(void 0),2),selected=_useState28[0],setSelected=_useState28[1],onSelected=Object(_storybook_addons__WEBPACK_IMPORTED_MODULE_19__.c)((function(newSel){setSelected(newSel)}),[]);return react__WEBPACK_IMPORTED_MODULE_18__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_23__.a,{getCellContent:getDummyData,columns:cols,rows:100,onGridSelectionChange:onSelected,gridSelection:selected})}function MarkdownEdits(){var dummyCols=Object(_storybook_addons__WEBPACK_IMPORTED_MODULE_19__.d)((function(){return[{title:"MD short",width:50},{title:"MD long",width:50}]}),[]),dummyCells=Object(_storybook_addons__WEBPACK_IMPORTED_MODULE_19__.c)((function(_ref6){var _ref15=_slicedToArray(_ref6,2),col=_ref15[0];_ref15[1];return 0===col?{data:"text",allowOverlay:!0,kind:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_21__.b.Markdown}:1===col?{data:"text really really really long\n## H1\n\n- this\n- is\n- a\n- longer\n- example\n- to\n- test\n- scroll\n- of\n- preview\n                ",allowOverlay:!0,kind:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_21__.b.Markdown}:{data:"text",allowOverlay:!0,kind:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_21__.b.Markdown}}),[]),_useState30=_slicedToArray(Object(_storybook_addons__WEBPACK_IMPORTED_MODULE_19__.e)({cell:[2,8],range:{width:1,height:1,x:2,y:8}}),2),selected=_useState30[0],setSelected=_useState30[1],onSelected=Object(_storybook_addons__WEBPACK_IMPORTED_MODULE_19__.c)((function(newSel){setSelected(newSel)}),[]);return react__WEBPACK_IMPORTED_MODULE_18__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_23__.a,{getCellContent:dummyCells,columns:dummyCols,rows:1e3,onGridSelectionChange:onSelected,gridSelection:selected})}DynamicAddRemoveColumns.args={columnCount:2};var CanEditBoolean=function CanEditBoolean(){var _useState32=_slicedToArray(Object(_storybook_addons__WEBPACK_IMPORTED_MODULE_19__.e)([!1,!1]),2),vals=_useState32[0],setVals=_useState32[1];return react__WEBPACK_IMPORTED_MODULE_18__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_23__.a,{columns:[{title:"Editable",width:100},{title:"Readonly",width:100}],rows:1,getCellContent:function getCellContent(_ref7){var col=_slicedToArray(_ref7,1)[0];return{kind:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_21__.b.Boolean,allowEdit:0===col,allowOverlay:!1,data:vals[col],showUnchecked:!0}},onCellEdited:function onCellEdited(_ref8,newVal){var col=_slicedToArray(_ref8,1)[0];newVal.kind===_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_21__.b.Boolean&&setVals((function(cv){var f=_toConsumableArray(cv);return f.splice(col,1,newVal.data),f}))}})},SimpleEditable=function SimpleEditable(){var _useState34=_slicedToArray(Object(_storybook_addons__WEBPACK_IMPORTED_MODULE_19__.e)((function(){for(var result=[],i=0;i<2e3;i++)result.push(["Edit","Me"]);return result})),2),vals=_useState34[0],setVals=_useState34[1];return react__WEBPACK_IMPORTED_MODULE_18__.createElement(_data_editor__WEBPACK_IMPORTED_MODULE_23__.a,{columns:[{title:"Column A",width:250},{title:"Column B",width:250}],rows:vals.length,getCellContent:function getCellContent(_ref9){var _ref18=_slicedToArray(_ref9,2),col=_ref18[0],row=_ref18[1];return{kind:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_21__.b.Text,allowOverlay:!0,data:vals[row][col],displayData:vals[row][col]}},onCellEdited:function onCellEdited(_ref10,newVal){var _ref19=_slicedToArray(_ref10,2),col=_ref19[0],row=_ref19[1],newVals=_toConsumableArray(vals),newRow=_toConsumableArray(newVals[row]);"string"==typeof newVal.data&&(newRow[col]=newVal.data),newVals[row]=newRow,setVals(newVals)}})};try{DynamicAddRemoveColumns.displayName="DynamicAddRemoveColumns",DynamicAddRemoveColumns.__docgenInfo={description:"",displayName:"DynamicAddRemoveColumns",props:{columnCount:{defaultValue:null,description:"",name:"columnCount",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-editor/data-editor.stories.tsx#DynamicAddRemoveColumns"]={docgenInfo:DynamicAddRemoveColumns.__docgenInfo,name:"DynamicAddRemoveColumns",path:"core/src/data-editor/data-editor.stories.tsx#DynamicAddRemoveColumns"})}catch(__react_docgen_typescript_loader_error){}},405:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Simplenotest",(function(){return Simplenotest})),__webpack_require__.d(__webpack_exports__,"SelectedCellnotest",(function(){return SelectedCellnotest})),__webpack_require__.d(__webpack_exports__,"SelectedRownotest",(function(){return SelectedRownotest})),__webpack_require__.d(__webpack_exports__,"SelectedColumnnotest",(function(){return SelectedColumnnotest}));__webpack_require__(4),__webpack_require__(23),__webpack_require__(6),__webpack_require__(16),__webpack_require__(3),__webpack_require__(17),__webpack_require__(12),__webpack_require__(10),__webpack_require__(11),__webpack_require__(2),__webpack_require__(9),__webpack_require__(19);var react__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(0),_stories_story_utils__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(73),_data_grid__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(126),_data_grid_types__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(1);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function Simplenotest(){var x=0;return react__WEBPACK_IMPORTED_MODULE_12__.createElement(_data_grid__WEBPACK_IMPORTED_MODULE_14__.a,{width:600,height:500,cellXOffset:0,cellYOffset:0,enableGroups:!1,rows:1e3,headerHeight:44,rowHeight:34,columns:["One","Two","Three","Four","Five","Six","Seven"].map((function(t){return{title:t,width:122+(x+=10)}})),getCellContent:function getCellContent(_ref){var _ref5=_slicedToArray(_ref,2),col=_ref5[0],row=_ref5[1];return{kind:_data_grid_types__WEBPACK_IMPORTED_MODULE_15__.b.Text,displayData:col+","+row+" Testing things that are way too long",data:col+","+row+" Testing things that are way too long",allowOverlay:!1,owned:!0}},freezeColumns:0,verticalBorder:function verticalBorder(){return!0},lastRowSticky:!1,isResizing:!1,isDragging:!1})}function SelectedCellnotest(){var x=0;return react__WEBPACK_IMPORTED_MODULE_12__.createElement(_data_grid__WEBPACK_IMPORTED_MODULE_14__.a,{width:600,height:500,cellXOffset:0,cellYOffset:0,enableGroups:!1,rows:1e3,headerHeight:44,rowHeight:34,columns:["One","Two","Three","Four","Five","Six","Seven"].map((function(t){return{title:t,width:122+(x+=10)}})),getCellContent:function getCellContent(_ref2){var _ref6=_slicedToArray(_ref2,2),col=_ref6[0],row=_ref6[1];return{kind:_data_grid_types__WEBPACK_IMPORTED_MODULE_15__.b.Text,displayData:col+","+row+" Testing things that are way too long",data:col+","+row+" Testing things that are way too long",allowOverlay:!1,owned:!0}},selectedCell:{cell:[2,2],range:{x:2,y:2,width:1,height:1}},freezeColumns:0,verticalBorder:function verticalBorder(){return!0},lastRowSticky:!1,isResizing:!1,isDragging:!1})}function SelectedRownotest(){var x=0;return react__WEBPACK_IMPORTED_MODULE_12__.createElement(_data_grid__WEBPACK_IMPORTED_MODULE_14__.a,{width:600,height:500,cellXOffset:0,cellYOffset:0,enableGroups:!1,rows:1e3,headerHeight:44,rowHeight:34,columns:["One","Two","Three","Four","Five","Six","Seven"].map((function(t){return{title:t,width:122+(x+=10)}})),getCellContent:function getCellContent(_ref3){var _ref7=_slicedToArray(_ref3,2),col=_ref7[0],row=_ref7[1];return{kind:_data_grid_types__WEBPACK_IMPORTED_MODULE_15__.b.Text,displayData:col+","+row+" Testing things that are way too long",data:col+","+row+" Testing things that are way too long",allowOverlay:!1,owned:!0}},selectedRows:_data_grid_types__WEBPACK_IMPORTED_MODULE_15__.a.fromSingleSelection([2,4]),freezeColumns:0,verticalBorder:function verticalBorder(){return!0},lastRowSticky:!1,isResizing:!1,isDragging:!1})}__webpack_exports__.default={title:"Subcomponents/DataGrid",decorators:[function(fn,context){return react__WEBPACK_IMPORTED_MODULE_12__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_12__.createElement(_stories_story_utils__WEBPACK_IMPORTED_MODULE_13__.a,{width:600,height:0,context:context},fn()))}]};var SelectedColumnnotest=function SelectedColumnnotest(){var x=0;return react__WEBPACK_IMPORTED_MODULE_12__.createElement(_data_grid__WEBPACK_IMPORTED_MODULE_14__.a,{width:600,height:500,cellXOffset:0,cellYOffset:0,enableGroups:!1,rows:1e3,headerHeight:44,rowHeight:34,columns:["One","Two","Three","Four","Five","Six","Seven"].map((function(t){return{title:t,width:122+(x+=10)}})),getCellContent:function getCellContent(_ref4){var _ref8=_slicedToArray(_ref4,2),col=_ref8[0],row=_ref8[1];return{kind:_data_grid_types__WEBPACK_IMPORTED_MODULE_15__.b.Text,displayData:col+","+row+" Testing things that are way too long",data:col+","+row+" Testing things that are way too long",allowOverlay:!1,owned:!0}},selectedColumns:_data_grid_types__WEBPACK_IMPORTED_MODULE_15__.a.fromSingleSelection([2,4]),freezeColumns:0,verticalBorder:function verticalBorder(){return!0},lastRowSticky:!1,isResizing:!1,isDragging:!1})}},407:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Simplenotest",(function(){return Simplenotest}));__webpack_require__(2),__webpack_require__(23),__webpack_require__(6),__webpack_require__(16),__webpack_require__(3),__webpack_require__(17),__webpack_require__(12),__webpack_require__(10),__webpack_require__(11),__webpack_require__(9),__webpack_require__(19),__webpack_require__(4);var _templateObject,react__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(0),_stories_story_utils__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(73),_scrolling_data_grid__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(211),_common_styles__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(27),_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(1);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var InnerContainer=_common_styles__WEBPACK_IMPORTED_MODULE_15__.b.div(_templateObject||(_templateObject=function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n    width: 100%;\n    height: 100px;\n\n    > * {\n        position: absolute;\n        width: 100%;\n        height: 100%;\n    }\n"])));function Simplenotest(){var _React$useState2=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_12__.useState(0),2),x=_React$useState2[0],setX=_React$useState2[1],_React$useState4=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_12__.useState(0),2),y=_React$useState4[0],setY=_React$useState4[1],_React$useState6=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_12__.useState(0),2),translateX=_React$useState6[0],setTx=_React$useState6[1],_React$useState8=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_12__.useState(0),2),translateY=_React$useState8[0],setTy=_React$useState8[1],onVisibleRegionChanged=react__WEBPACK_IMPORTED_MODULE_12__.useCallback((function(range,tx,ty){setX(range.x),setY(range.y),setTx(tx),setTy(ty)}),[]),columns=react__WEBPACK_IMPORTED_MODULE_12__.useMemo((function(){var j=0;return["One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten"].map((function(t){return{title:t,width:122+(j+=50)}}))}),[]),getCellContent=react__WEBPACK_IMPORTED_MODULE_12__.useCallback((function(_ref){var _ref2=_slicedToArray(_ref,2),col=_ref2[0],row=_ref2[1];return{kind:_data_grid_data_grid_types__WEBPACK_IMPORTED_MODULE_16__.b.Text,displayData:col+","+row+" Testing things that are way too long",data:col+","+row+" Testing things that are way too long",allowOverlay:!0}}),[]);return react__WEBPACK_IMPORTED_MODULE_12__.createElement(_scrolling_data_grid__WEBPACK_IMPORTED_MODULE_14__.a,{rows:1e4,enableGroups:!1,cellXOffset:x,cellYOffset:y,translateX:translateX,translateY:translateY,headerHeight:44,lastRowSticky:!1,rowHeight:34,onVisibleRegionChanged:onVisibleRegionChanged,columns:columns,getCellContent:getCellContent,freezeColumns:0,verticalBorder:function verticalBorder(){return!0},smoothScrollX:!0,smoothScrollY:!0})}__webpack_exports__.default={title:"Subcomponents/ScrollingDataGrid",decorators:[function(fn,context){return react__WEBPACK_IMPORTED_MODULE_12__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_12__.createElement(_stories_story_utils__WEBPACK_IMPORTED_MODULE_13__.a,{width:1500,height:1e3,context:context},react__WEBPACK_IMPORTED_MODULE_12__.createElement(InnerContainer,null,fn())))}]}},409:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"GridColumns",(function(){return grid_column_stories_GridColumns}));__webpack_require__(3),__webpack_require__(26),__webpack_require__(34);var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,react=__webpack_require__(0),react_default=__webpack_require__.n(react),data_grid_types=__webpack_require__(1),data_editor=__webpack_require__(13),story_utils=__webpack_require__(73),styles=(__webpack_require__(2),__webpack_require__(112),__webpack_require__(27)),marked=__webpack_require__(143),marked_default=__webpack_require__.n(marked),default_highlight=__webpack_require__(2467),monokai_sublime=__webpack_require__(425);function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}var Wrapper=styles.b.div(_templateObject||(_templateObject=_taggedTemplateLiteralLoose(["\n    overflow: hidden;\n    position: relative;\n\n    border-radius: 12px;\n\n    width: 100%;\n    height: ","px;\n\n    margin: 24px 0;\n\n    > :first-child {\n        position: absolute;\n        left: 0;\n        top: 0;\n        width: 100%;\n        height: 100%;\n    }\n"])),(function(p){return p.height})),doc_wrapper_Highlight=function Highlight(p){return react_default.a.createElement(default_highlight.a,{style:monokai_sublime.a,showLineNumbers:!0,lineNumberStyle:{opacity:.5},language:"typescript"},p.children.trim())},doc_wrapper_Marked=function Marked(p){return react_default.a.createElement("div",{className:"marked",dangerouslySetInnerHTML:{__html:marked_default()(p.children)}})},BeautifulStyle=styles.b.div(_templateObject2||(_templateObject2=_taggedTemplateLiteralLoose(["\n    background-color: #2790b9;\n    background: linear-gradient(90deg, #2790b9, #2070a9);\n    color: white;\n\n    padding: 32px 48px;\n\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n    min-height: 100vh;\n\n    font-family: sans-serif;\n\n    & .inner {\n        position: relative;\n        max-width: 900px;\n\n        > pre {\n            font-size: 18px;\n            border-radius: 9px;\n            background: rgba(25, 26, 23, 0.8) !important;\n        }\n    }\n\n    .marked {\n        font-size: 16px;\n        blockquote {\n            margin: 0;\n            padding: 1px 16px;\n\n            border-radius: 9px;\n            background-color: rgba(0, 0, 0, 0.15);\n            border: 1px solid rgba(0, 0, 0, 0.5);\n        }\n\n        code {\n            color: #ffcc80;\n        }\n\n        h1 {\n            font-size: 32px;\n            font-weight: 600;\n            padding-bottom: 12px;\n            margin-top: 40px;\n            border-bottom: 1px solid rgba(255, 255, 255, 0.3);\n        }\n    }\n"]))),PropName=styles.b.span(_templateObject3||(_templateObject3=_taggedTemplateLiteralLoose(["\n    font-family: monospace;\n    font-weight: 500;\n    color: #ffe394;\n"]))),Description=styles.b.p(_templateObject4||(_templateObject4=_taggedTemplateLiteralLoose(["\n    font-size: 18px;\n    flex-shrink: 0;\n    margin: 0 0 20px 0;\n"]))),MoreInfo=styles.b.p(_templateObject5||(_templateObject5=_taggedTemplateLiteralLoose(["\n    font-size: 14px;\n    flex-shrink: 0;\n    margin: 0 0 20px 0;\n\n    button {\n        background-color: #f4f4f4;\n        color: #2b2b2b;\n        padding: 2px 6px;\n        font-family: monospace;\n        font-size: 14px;\n        border-radius: 4px;\n        box-shadow: 0px 1px 2px #00000040;\n        margin: 0 0.1em;\n        border: none;\n        cursor: pointer;\n    }\n"]))),doc_wrapper_DocWrapper=function DocWrapper(p){var children=p.children;return react_default.a.createElement(BeautifulStyle,null,react_default.a.createElement("div",{className:"inner"},children))};try{Wrapper.displayName="Wrapper",Wrapper.__docgenInfo={description:"",displayName:"Wrapper",props:{height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<HTMLDivElement>"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/docs/doc-wrapper.tsx#Wrapper"]={docgenInfo:Wrapper.__docgenInfo,name:"Wrapper",path:"core/src/docs/doc-wrapper.tsx#Wrapper"})}catch(__react_docgen_typescript_loader_error){}try{PropName.displayName="PropName",PropName.__docgenInfo={description:"",displayName:"PropName",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<HTMLSpanElement>"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/docs/doc-wrapper.tsx#PropName"]={docgenInfo:PropName.__docgenInfo,name:"PropName",path:"core/src/docs/doc-wrapper.tsx#PropName"})}catch(__react_docgen_typescript_loader_error){}try{Description.displayName="Description",Description.__docgenInfo={description:"",displayName:"Description",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<HTMLParagraphElement>"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/docs/doc-wrapper.tsx#Description"]={docgenInfo:Description.__docgenInfo,name:"Description",path:"core/src/docs/doc-wrapper.tsx#Description"})}catch(__react_docgen_typescript_loader_error){}try{MoreInfo.displayName="MoreInfo",MoreInfo.__docgenInfo={description:"",displayName:"MoreInfo",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<HTMLParagraphElement>"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/docs/doc-wrapper.tsx#MoreInfo"]={docgenInfo:MoreInfo.__docgenInfo,name:"MoreInfo",path:"core/src/docs/doc-wrapper.tsx#MoreInfo"})}catch(__react_docgen_typescript_loader_error){}__webpack_exports__.default={title:"Docs",decorators:[function(Story){return react.createElement(story_utils.b,null,react.createElement(Story,null))}]};var grid_column_stories_GridColumns=function GridColumns(){var basicGetCellContent=react.useCallback((function(cell){return{kind:data_grid_types.b.Text,allowOverlay:!1,displayData:cell.toString(),data:cell.toString()}}),[]),cols=react.useMemo((function(){return[{title:"First",width:150},{title:"Second",width:150}]}),[]);return react.createElement(doc_wrapper_DocWrapper,null,react.createElement(doc_wrapper_Marked,null,"\n# Basic usage\n\n> The `GridColumn[]` passed to the `DataEditor` in the `columns` property should be memoized to avoid excessive re-rendering. These samples may not do this for the sake of brevity.\n\nThere are only two mandatory properties for each `GridColumn`: `title` and `width`. The width is a number which represents the width of the column in pixels."),react.createElement(doc_wrapper_Highlight,null,'\nconst columns: GridColumn[] = [\n    { title: "First", width: 150 },\n    { title: "Second", width: 150 }\n];\n\n<DataEditor {...rest} columns={columns} />\n'),react.createElement(Wrapper,{height:200},react.createElement(data_editor.a,{getCellContent:basicGetCellContent,columns:cols,rows:50})),react.createElement(doc_wrapper_Marked,null,"\n# Header icons\n\nDefault header icons are available. They can also be reaplced by passing a new map to the `headerIcons` property."),react.createElement(doc_wrapper_Highlight,null,'\nconst columns: GridColumn[] = [\n    { title: "Name", width: 250, icon: GridColumnIcon.HeaderString, \n      overlayIcon: GridColumnIcon.RowOwnerOverlay \n    },\n    { title: "Age", width: 100, icon: GridColumnIcon.HeaderNumber },\n    { title: "Avatar", width: 80, icon: GridColumnIcon.HeaderImage },\n];\n\n<DataEditor {...rest} columns={columns} />\n'),react.createElement(Wrapper,{height:200},react.createElement(data_editor.a,{getCellContent:basicGetCellContent,columns:[{title:"Name",width:250,icon:data_grid_types.c.HeaderString,overlayIcon:data_grid_types.c.RowOwnerOverlay},{title:"Age",width:120,icon:data_grid_types.c.HeaderNumber},{title:"Avatar",width:100,icon:data_grid_types.c.HeaderImage}],rows:50})),react.createElement(doc_wrapper_Marked,null,"\n# Header theming\n\nHeaders can be provided with individual theme overrides which themes both the header and its column cells."),react.createElement(doc_wrapper_Highlight,null,'\nconst columns: GridColumn[] = [\n    { title: "Name", width: 250, icon: GridColumnIcon.HeaderString },\n    { title: "Age", width: 100, icon: GridColumnIcon.HeaderNumber, themeOverride: {\n        bgIconHeader: "#00967d",\n        textDark: "#00c5a4",\n        textHeader: "#00c5a4",\n    } },\n    { title: "Avatar", width: 80, icon: GridColumnIcon.HeaderImage },\n];\n\n<DataEditor {...rest} columns={columns} />\n'),react.createElement(Wrapper,{height:200},react.createElement(data_editor.a,{getCellContent:basicGetCellContent,columns:[{title:"Name",width:250,icon:data_grid_types.c.HeaderString},{title:"Age",width:100,icon:data_grid_types.c.HeaderNumber,themeOverride:{bgIconHeader:"#00967d",textDark:"#00c5a4",textHeader:"#00c5a4"}},{title:"Avatar",width:80,icon:data_grid_types.c.HeaderImage}],rows:50})))};grid_column_stories_GridColumns.parameters={options:{showPanel:!1}};try{grid_column_stories_GridColumns.displayName="GridColumns",grid_column_stories_GridColumns.__docgenInfo={description:"",displayName:"GridColumns",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/docs/grid-column.stories.tsx#GridColumns"]={docgenInfo:grid_column_stories_GridColumns.__docgenInfo,name:"GridColumns",path:"core/src/docs/grid-column.stories.tsx#GridColumns"})}catch(__react_docgen_typescript_loader_error){}},429:function(module,exports,__webpack_require__){__webpack_require__(430),__webpack_require__(585),__webpack_require__(586),__webpack_require__(2463),__webpack_require__(2464),module.exports=__webpack_require__(727)},496:function(module,exports){},586:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(204)},60:function(module,__webpack_exports__,__webpack_require__){"use strict";function proveType(_val){}function panic(){var message=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"This should not happen";throw new Error(message)}function assert(fact){var message=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Assertion failed";if(!fact)return panic(message)}function assertNever(_never){return panic("Hell froze over")}function maybe(fn,defaultValue){try{return fn()}catch(_unused){return defaultValue}}__webpack_require__.d(__webpack_exports__,"d",(function(){return proveType})),__webpack_require__.d(__webpack_exports__,"a",(function(){return assert})),__webpack_require__.d(__webpack_exports__,"b",(function(){return assertNever})),__webpack_require__.d(__webpack_exports__,"c",(function(){return maybe}))},727:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(204).configure)([__webpack_require__(728)],module,!1)}).call(this,__webpack_require__(199)(module))},728:function(module,exports,__webpack_require__){var map={"./cells/node_modules/@glideapps/glide-data-grid/src/data-editor/data-editor-beautiful.stories.tsx":379,"./cells/node_modules/@glideapps/glide-data-grid/src/data-editor/data-editor-repros.stories.tsx":403,"./cells/node_modules/@glideapps/glide-data-grid/src/data-editor/data-editor.stories.tsx":404,"./cells/node_modules/@glideapps/glide-data-grid/src/data-grid/data-grid.stories.tsx":405,"./cells/node_modules/@glideapps/glide-data-grid/src/docs/grid-column.stories.tsx":409,"./cells/node_modules/@glideapps/glide-data-grid/src/scrolling-data-grid/scrolling-data-grid.stories.tsx":407,"./cells/src/cell.stories.tsx":2462,"./core/src/data-editor/data-editor-beautiful.stories.tsx":379,"./core/src/data-editor/data-editor-repros.stories.tsx":403,"./core/src/data-editor/data-editor.stories.tsx":404,"./core/src/data-grid/data-grid.stories.tsx":405,"./core/src/docs/grid-column.stories.tsx":409,"./core/src/scrolling-data-grid/scrolling-data-grid.stories.tsx":407};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=728},73:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return BuilderThemeWrapper})),__webpack_require__.d(__webpack_exports__,"b",(function(){return SimpleThemeWrapper}));__webpack_require__(2),__webpack_require__(140),__webpack_require__(113),__webpack_require__(123),__webpack_require__(141),__webpack_require__(54),__webpack_require__(33),__webpack_require__(41),__webpack_require__(6),__webpack_require__(23),__webpack_require__(16),__webpack_require__(3),__webpack_require__(17),__webpack_require__(12),__webpack_require__(10),__webpack_require__(11),__webpack_require__(9),__webpack_require__(19);var _templateObject,_templateObject2,react__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(0),styled_components__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(21),_common_styles__WEBPACK_IMPORTED_MODULE_21__=(__webpack_require__(2244),__webpack_require__(27)),_excluded=["context"];function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}var BuilderWrapper=styled_components__WEBPACK_IMPORTED_MODULE_19__.c.div(_templateObject||(_templateObject=_taggedTemplateLiteralLoose(["\n    display: flex;\n    height: 100vh;\n\n    & > .content {\n        display: block;\n\n        width: ","px;\n        min-height: ","px;\n        align-self: center;\n\n        position: relative;\n\n        text-rendering: optimizeLegibility;\n        -webkit-font-smoothing: antialiased;\n\n        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n\n        user-select: none;\n\n        box-sizing: border-box;\n\n        *,\n        *::before,\n        *::after {\n            box-sizing: inherit;\n        }\n    }\n"])),(function(p){return p.width}),(function(p){return p.height})),SimpleWrapper=styled_components__WEBPACK_IMPORTED_MODULE_19__.c.div(_templateObject2||(_templateObject2=_taggedTemplateLiteralLoose(["\n    text-rendering: optimizeLegibility;\n    -webkit-font-smoothing: antialiased;\n\n    box-sizing: border-box;\n\n    *,\n    *::before,\n    *::after {\n        box-sizing: inherit;\n    }\n"]))),BuilderThemeWrapper=function(_React$PureComponent){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(BuilderThemeWrapper,_React$PureComponent);var _super=_createSuper(BuilderThemeWrapper);function BuilderThemeWrapper(){var _this;return _classCallCheck(this,BuilderThemeWrapper),(_this=_super.apply(this,arguments)).builderTheme=Object(_common_styles__WEBPACK_IMPORTED_MODULE_21__.a)(),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(BuilderThemeWrapper,[{key:"render",value:function render(){var _this$props=this.props,rest=(_this$props.context,_objectWithoutProperties(_this$props,_excluded));return react__WEBPACK_IMPORTED_MODULE_18__.createElement(styled_components__WEBPACK_IMPORTED_MODULE_19__.a,{theme:this.builderTheme},react__WEBPACK_IMPORTED_MODULE_18__.createElement(BuilderWrapper,rest,react__WEBPACK_IMPORTED_MODULE_18__.createElement("div",{className:"content"},this.props.children)),react__WEBPACK_IMPORTED_MODULE_18__.createElement("div",{id:"portal"}))}}]),BuilderThemeWrapper}(react__WEBPACK_IMPORTED_MODULE_18__.PureComponent),SimpleThemeWrapper=function SimpleThemeWrapper(p){var builderTheme=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_18__.useState(_common_styles__WEBPACK_IMPORTED_MODULE_21__.a),1)[0];return react__WEBPACK_IMPORTED_MODULE_18__.createElement(styled_components__WEBPACK_IMPORTED_MODULE_19__.a,{theme:builderTheme},react__WEBPACK_IMPORTED_MODULE_18__.createElement(SimpleWrapper,null,react__WEBPACK_IMPORTED_MODULE_18__.createElement("div",{className:"content"},p.children)))};try{BuilderThemeWrapper.displayName="BuilderThemeWrapper",BuilderThemeWrapper.__docgenInfo={description:"",displayName:"BuilderThemeWrapper",props:{width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},useMoreTopPadding:{defaultValue:null,description:"",name:"useMoreTopPadding",required:!1,type:{name:"boolean"}},figmaDoc:{defaultValue:null,description:"",name:"figmaDoc",required:!1,type:{name:"string"}},context:{defaultValue:null,description:"",name:"context",required:!1,type:{name:"StoryContext"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/stories/story-utils.tsx#BuilderThemeWrapper"]={docgenInfo:BuilderThemeWrapper.__docgenInfo,name:"BuilderThemeWrapper",path:"core/src/stories/story-utils.tsx#BuilderThemeWrapper"})}catch(__react_docgen_typescript_loader_error){}try{SimpleThemeWrapper.displayName="SimpleThemeWrapper",SimpleThemeWrapper.__docgenInfo={description:"",displayName:"SimpleThemeWrapper",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/stories/story-utils.tsx#SimpleThemeWrapper"]={docgenInfo:SimpleThemeWrapper.__docgenInfo,name:"SimpleThemeWrapper",path:"core/src/stories/story-utils.tsx#SimpleThemeWrapper"})}catch(__react_docgen_typescript_loader_error){}},80:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(2),__webpack_require__(33),__webpack_require__(41),__webpack_require__(6),__webpack_require__(14);var _templateObject,_common_styles__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(27),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(0),_excluded=["width","height","children"];function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}var Wrapper=_common_styles__WEBPACK_IMPORTED_MODULE_5__.b.div(_templateObject||(_templateObject=function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n    overflow: hidden;\n    position: relative;\n\n    width: ","px;\n    height: ","px;\n\n    > :first-child {\n        position: absolute;\n        left: 0;\n        top: 0;\n        width: 100%;\n        height: 100%;\n    }\n"])),(function(p){return p.width}),(function(p){return p.height}));__webpack_exports__.a=function DataEditorContainer(p){var width=p.width,height=p.height,children=p.children,rest=_objectWithoutProperties(p,_excluded);return react__WEBPACK_IMPORTED_MODULE_6__.createElement(Wrapper,_extends({width:width,height:height},rest),children)};try{datagridcontainer.displayName="datagridcontainer",datagridcontainer.__docgenInfo={description:"",displayName:"datagridcontainer",props:{width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-editor-container/data-grid-container.tsx#datagridcontainer"]={docgenInfo:datagridcontainer.__docgenInfo,name:"datagridcontainer",path:"core/src/data-editor-container/data-grid-container.tsx#datagridcontainer"})}catch(__react_docgen_typescript_loader_error){}},81:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return CellRenderers}));var _templateObject,data_grid_types=__webpack_require__(1),data_grid_lib=(__webpack_require__(3),__webpack_require__(26),__webpack_require__(34),__webpack_require__(14),__webpack_require__(25)),booleanCellRenderer={getAccessibilityString:function getAccessibilityString(c){var _c$data$toString,_c$data;return null!==(_c$data$toString=null===(_c$data=c.data)||void 0===_c$data?void 0:_c$data.toString())&&void 0!==_c$data$toString?_c$data$toString:"false"},kind:data_grid_types.b.Boolean,needsHover:!0,needsHoverPosition:!0,render:function render(a){return Object(data_grid_lib.a)(a,a.cell.data,a.cell.allowEdit)},onDelete:function onDelete(c){return Object.assign({},c,{data:!1})},onClick:function onClick(cell,x,y,bounds){if(Math.abs(x-bounds.width/2)<=10&&Math.abs(y-bounds.height/2)<=10)return Object.assign({},cell,{data:!cell.data})}},react=__webpack_require__(0),react_default=__webpack_require__.n(react),styles=(__webpack_require__(4),__webpack_require__(2),__webpack_require__(27));var BubblesOverlayEditorStyle=styles.b.div(_templateObject||(_templateObject=function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n    display: flex;\n    flex-wrap: wrap;\n\n    .boe-bubble {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n\n        border-radius: 100px;\n\n        padding: 0 8px;\n        height: 20px;\n\n        background-color: ",";\n        color: ",";\n        margin: 2px;\n    }\n\n    textarea {\n        position: absolute;\n        top: 0px;\n        left: 0px;\n        width: 0px;\n        height: 0px;\n\n        opacity: 0;\n    }\n"])),(function(p){return p.theme.bgBubble}),(function(p){return p.theme.textDark}));try{BubblesOverlayEditorStyle.displayName="BubblesOverlayEditorStyle",BubblesOverlayEditorStyle.__docgenInfo={description:"",displayName:"BubblesOverlayEditorStyle",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<HTMLDivElement>"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-grid-overlay-editor/private/bubbles-overlay-editor-style.tsx#BubblesOverlayEditorStyle"]={docgenInfo:BubblesOverlayEditorStyle.__docgenInfo,name:"BubblesOverlayEditorStyle",path:"core/src/data-grid-overlay-editor/private/bubbles-overlay-editor-style.tsx#BubblesOverlayEditorStyle"})}catch(__react_docgen_typescript_loader_error){}var bubbles_overlay_editor=function BubblesOverlayEditor(p){var bubbles=p.bubbles,onKeyDown=p.onKeyDown;return react.createElement(BubblesOverlayEditorStyle,null,bubbles.map((function(b,i){return react.createElement("div",{key:i,className:"boe-bubble"},b)})),react.createElement("textarea",{autoFocus:!0,onKeyDown:onKeyDown}))};try{bubblesoverlayeditor.displayName="bubblesoverlayeditor",bubblesoverlayeditor.__docgenInfo={description:"",displayName:"bubblesoverlayeditor",props:{bubbles:{defaultValue:null,description:"",name:"bubbles",required:!0,type:{name:"readonly string[]"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!0,type:{name:"(event: KeyboardEvent<Element>) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-grid-overlay-editor/private/bubbles-overlay-editor.tsx#bubblesoverlayeditor"]={docgenInfo:bubblesoverlayeditor.__docgenInfo,name:"bubblesoverlayeditor",path:"core/src/data-grid-overlay-editor/private/bubbles-overlay-editor.tsx#bubblesoverlayeditor"})}catch(__react_docgen_typescript_loader_error){}var drilldown_overlay_editor_templateObject,bubbleCellRenderer={getAccessibilityString:function getAccessibilityString(c){var _c$data$toString,_c$data;return null!==(_c$data$toString=null===(_c$data=c.data)||void 0===_c$data?void 0:_c$data.toString())&&void 0!==_c$data$toString?_c$data$toString:""},kind:data_grid_types.b.Bubble,needsHover:!1,needsHoverPosition:!1,render:function render(a){return Object(data_grid_lib.b)(a,a.cell.data)},getEditor:function getEditor(){return function(p){var onKeyDown=p.onKeyDown,value=p.value;return react.createElement(bubbles_overlay_editor,{bubbles:value.data,onKeyDown:onKeyDown})}}};__webpack_require__(8);var DrilldownOverlayEditorStyle=styles.b.div(drilldown_overlay_editor_templateObject||(drilldown_overlay_editor_templateObject=function drilldown_overlay_editor_taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n    display: flex;\n    flex-wrap: wrap;\n\n    .doe-bubble {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n\n        border-radius: 100px;\n\n        padding: 0 8px;\n        height: 24px;\n\n        background-color: ",";\n        color: ",";\n        margin: 2px;\n\n        border-radius: 6px;\n\n        box-shadow: 0 0 1px rgba(62, 65, 86, 0.4), 0 1px 3px rgba(62, 65, 86, 0.4);\n\n        img {\n            height: 16px;\n            object-fit: contain;\n\n            margin-right: 4px;\n        }\n    }\n\n    textarea {\n        position: absolute;\n        top: 0px;\n        left: 0px;\n        width: 0px;\n        height: 0px;\n\n        opacity: 0;\n    }\n"])),(function(p){return p.theme.bgCell}),(function(p){return p.theme.textDark})),drilldown_overlay_editor=function DrilldownOverlayEditor(p){var drilldowns=p.drilldowns,onKeyDown=p.onKeyDown;return react.createElement(DrilldownOverlayEditorStyle,null,drilldowns.map((function(d,i){return react.createElement("div",{key:i,className:"doe-bubble"},void 0!==d.img&&react.createElement("img",{src:d.img}),react.createElement("div",null,d.text))})),react.createElement("textarea",{autoFocus:!0,onKeyDown:onKeyDown}))};try{drilldownoverlayeditor.displayName="drilldownoverlayeditor",drilldownoverlayeditor.__docgenInfo={description:"",displayName:"drilldownoverlayeditor",props:{drilldowns:{defaultValue:null,description:"",name:"drilldowns",required:!0,type:{name:"readonly DrilldownCellData[]"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!0,type:{name:"(event: KeyboardEvent<Element>) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-grid-overlay-editor/private/drilldown-overlay-editor.tsx#drilldownoverlayeditor"]={docgenInfo:drilldownoverlayeditor.__docgenInfo,name:"drilldownoverlayeditor",path:"core/src/data-grid-overlay-editor/private/drilldown-overlay-editor.tsx#drilldownoverlayeditor"})}catch(__react_docgen_typescript_loader_error){}var image_overlay_editor_style_templateObject,drilldownCellRenderer={getAccessibilityString:function getAccessibilityString(c){return c.data.map((function(d){return d.text})).join(", ")},kind:data_grid_types.b.Drilldown,needsHover:!1,needsHoverPosition:!1,render:function render(a){return Object(data_grid_lib.c)(a,a.cell.data)},getEditor:function getEditor(){return function(p){var onKeyDown=p.onKeyDown,value=p.value;return react.createElement(drilldown_overlay_editor,{drilldowns:value.data,onKeyDown:onKeyDown})}}},data_editor=__webpack_require__(13);__webpack_require__(43);var ImageOverlayEditorStyle=styles.b.div(image_overlay_editor_style_templateObject||(image_overlay_editor_style_templateObject=function image_overlay_editor_style_taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n    display: flex;\n\n    height: 100%;\n\n    .centering-container {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n\n        height: 100%;\n\n        img,\n        canvas {\n            max-height: calc(100vh - var(--overlay-top) - 20px);\n            object-fit: contain;\n            user-select: none;\n        }\n\n        canvas {\n            max-width: 380px;\n        }\n    }\n\n    .edit-icon {\n        position: absolute;\n        top: 12px;\n        right: 0;\n        width: 48px;\n        height: 48px;\n        color: ",";\n\n        cursor: pointer;\n\n        display: flex;\n        justify-content: center;\n        align-items: center;\n\n        > * {\n            width: 24px;\n            height: 24px;\n        }\n    }\n\n    textarea {\n        position: absolute;\n        top: 0px;\n        left: 0px;\n        width: 0px;\n        height: 0px;\n\n        opacity: 0;\n    }\n"])),(function(p){return p.theme.accentColor}));try{ImageOverlayEditorStyle.displayName="ImageOverlayEditorStyle",ImageOverlayEditorStyle.__docgenInfo={description:"",displayName:"ImageOverlayEditorStyle",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<HTMLDivElement>"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-grid-overlay-editor/private/image-overlay-editor-style.tsx#ImageOverlayEditorStyle"]={docgenInfo:ImageOverlayEditorStyle.__docgenInfo,name:"ImageOverlayEditorStyle",path:"core/src/data-grid-overlay-editor/private/image-overlay-editor-style.tsx#ImageOverlayEditorStyle"})}catch(__react_docgen_typescript_loader_error){}var js=__webpack_require__(209),utils=__webpack_require__(36),image_overlay_editor=function ImageOverlayEditor(p){var urls=p.urls,canWrite=p.canWrite,onKeyDown=p.onKeyDown,onEditClick=p.onEditClick,renderImage=p.renderImage,filtered=urls.filter((function(u){return""!==u}));if(0===filtered.length)return null;var allowMove=filtered.length>1;return react.createElement(ImageOverlayEditorStyle,{onKeyDown:onKeyDown},react.createElement(js.Carousel,{showArrows:allowMove,showThumbs:!1,swipeable:allowMove,emulateTouch:allowMove,infiniteLoop:allowMove},filtered.map((function(url){var _renderImage,innerContent=null!==(_renderImage=null==renderImage?void 0:renderImage(url))&&void 0!==_renderImage?_renderImage:react.createElement("img",{draggable:!1,src:url});return react.createElement("div",{className:"centering-container",key:url},innerContent)}))),canWrite&&onEditClick&&react.createElement("button",{className:"edit-icon",onClick:onEditClick},react.createElement(utils.b,null)),react.createElement("textarea",{autoFocus:!0,onKeyDown:onKeyDown}))};try{imageoverlayeditor.displayName="imageoverlayeditor",imageoverlayeditor.__docgenInfo={description:"",displayName:"imageoverlayeditor",props:{urls:{defaultValue:null,description:"",name:"urls",required:!0,type:{name:"readonly string[]"}},canWrite:{defaultValue:null,description:"",name:"canWrite",required:!0,type:{name:"boolean"}},onCancel:{defaultValue:null,description:"",name:"onCancel",required:!0,type:{name:"() => void"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(newImage: string) => void"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!0,type:{name:"(event: KeyboardEvent<Element>) => void"}},onEditClick:{defaultValue:null,description:"",name:"onEditClick",required:!1,type:{name:"() => void"}},renderImage:{defaultValue:null,description:"",name:"renderImage",required:!1,type:{name:"(url: string) => ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-grid-overlay-editor/private/image-overlay-editor.tsx#imageoverlayeditor"]={docgenInfo:imageoverlayeditor.__docgenInfo,name:"imageoverlayeditor",path:"core/src/data-grid-overlay-editor/private/image-overlay-editor.tsx#imageoverlayeditor"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__(140),__webpack_require__(113),__webpack_require__(123),__webpack_require__(141),__webpack_require__(54);var markdown_container_templateObject,marked=__webpack_require__(143),marked_default=__webpack_require__.n(marked);var MarkdownContainer=__webpack_require__(21).c.div(markdown_container_templateObject||(markdown_container_templateObject=function markdown_container_taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n    word-break: break-word;\n    -webkit-touch-callout: default;\n    padding-top: 6px;\n\n    > * {\n        margin: 0;\n    }\n\n    & *:last-child {\n        margin-bottom: 0;\n    }\n\n    & p img {\n        width: 100%;\n    }\n"])));try{MarkdownContainer.displayName="MarkdownContainer",MarkdownContainer.__docgenInfo={description:"",displayName:"MarkdownContainer",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<HTMLDivElement>"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/markdown-div/private/markdown-container.tsx#MarkdownContainer"]={docgenInfo:MarkdownContainer.__docgenInfo,name:"MarkdownContainer",path:"core/src/markdown-div/private/markdown-container.tsx#MarkdownContainer"})}catch(__react_docgen_typescript_loader_error){}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var markdown_div_MarkdownDiv=function(_React$PureComponent){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(MarkdownDiv,_React$PureComponent);var _super=_createSuper(MarkdownDiv);function MarkdownDiv(){var _this;return _classCallCheck(this,MarkdownDiv),(_this=_super.apply(this,arguments)).targetElement=null,_this.containerRefHook=function(element){_this.targetElement=element,_this.renderMarkdownIntoDiv()},_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(MarkdownDiv,[{key:"renderMarkdownIntoDiv",value:function renderMarkdownIntoDiv(){var targetElement=this.targetElement;if(null!==targetElement){var _this$props=this.props,contents=_this$props.contents,createNode=_this$props.createNode,innerHTML=marked_default()(contents),childRange=document.createRange();childRange.selectNodeContents(targetElement),childRange.deleteContents();var newChild=null==createNode?void 0:createNode(innerHTML);if(void 0===newChild){var childDoc=document.createElement("template");childDoc.innerHTML=innerHTML,newChild=childDoc.content}targetElement.appendChild(newChild);for(var tags=targetElement.getElementsByTagName("a"),i=0;i<tags.length;i++){var tag=tags[i];tag.target="_blank",tag.rel="noreferrer noopener"}}}},{key:"render",value:function render(){return this.renderMarkdownIntoDiv(),react_default.a.createElement(MarkdownContainer,{ref:this.containerRefHook})}}]),MarkdownDiv}(react_default.a.PureComponent),imageCellRenderer=(__webpack_require__(80),__webpack_require__(206),data_editor.a,{getAccessibilityString:function getAccessibilityString(c){return c.data.join(", ")},kind:data_grid_types.b.Image,needsHover:!1,needsHoverPosition:!1,render:function render(a){var _a$cell$displayData;return Object(data_grid_lib.d)(a,null!==(_a$cell$displayData=a.cell.displayData)&&void 0!==_a$cell$displayData?_a$cell$displayData:a.cell.data)},onDelete:function onDelete(c){return Object.assign({},c,{data:[]})},getEditor:function getEditor(){return function(p){var onKeyDown=p.onKeyDown,value=p.value,onFinishedEditing=p.onFinishedEditing,imageEditorOverride=p.imageEditorOverride,ImageEditor=null!=imageEditorOverride?imageEditorOverride:image_overlay_editor;return react.createElement(ImageEditor,{urls:value.data,canWrite:value.allowAdd,onCancel:onFinishedEditing,onChange:function onChange(newImage){onFinishedEditing(Object.assign({},value,{data:[newImage]}))},onKeyDown:onKeyDown})}}}),loadingCellRenderer={getAccessibilityString:function getAccessibilityString(){return""},kind:data_grid_types.b.Loading,needsHover:!1,needsHoverPosition:!1,render:function render(){}},growing_entry_style=(__webpack_require__(23),__webpack_require__(6),__webpack_require__(16),__webpack_require__(17),__webpack_require__(12),__webpack_require__(10),__webpack_require__(11),__webpack_require__(9),__webpack_require__(19),__webpack_require__(33),__webpack_require__(41),__webpack_require__(115)),support=__webpack_require__(60),_excluded=["placeholder","value","onKeyDown","highlight"];function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}var markdown_overlay_editor_style_templateObject,growing_entry=function GrowingEntry(props){var placeholder=props.placeholder,value=props.value,onKeyDown=props.onKeyDown,highlight=props.highlight,rest=_objectWithoutProperties(props,_excluded),onChange=rest.onChange,className=rest.className,inputRef=react.useRef(null),useText=null!=value?value:"";return Object(support.a)(void 0!==onChange,"GrowingEntry must be a controlled input area"),react.useEffect((function(){var ta=inputRef.current;if(null!==ta&&!ta.disabled){var length=useText.toString().length;ta.focus(),ta.setSelectionRange(highlight?0:length,length)}}),[]),react.createElement(growing_entry_style.a,null,react.createElement(growing_entry_style.c,{className:className},useText+"\n"),react.createElement(growing_entry_style.b,_extends({},rest,{ref:inputRef,onKeyDown:onKeyDown,value:useText,placeholder:placeholder,dir:"auto"})))};try{growingentry.displayName="growingentry",growingentry.__docgenInfo={description:"",displayName:"growingentry",props:{placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},highlight:{defaultValue:null,description:"",name:"highlight",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/growing-entry/growing-entry.tsx#growingentry"]={docgenInfo:growingentry.__docgenInfo,name:"growingentry",path:"core/src/growing-entry/growing-entry.tsx#growingentry"})}catch(__react_docgen_typescript_loader_error){}var MarkdownOverlayEditorStyle=styles.b.div(markdown_overlay_editor_style_templateObject||(markdown_overlay_editor_style_templateObject=function markdown_overlay_editor_style_taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n    min-width: ","px;\n    width: 100%;\n    display: flex;\n    align-items: flex-start;\n    justify-content: space-between;\n    position: relative;\n    color: ",";\n\n    "," {\n        flex-shrink: 1;\n        min-width: 0;\n    }\n\n    .spacer {\n        flex: 1;\n    }\n\n    .edit-icon {\n        position: relative;\n        cursor: pointer;\n\n        display: flex;\n        justify-content: center;\n        align-items: center;\n\n        color: ",';\n\n        padding: 0;\n\n        height: 24px;\n        width: 24px;\n        flex-shrink: 0;\n\n        transition: all "0.125s ease";\n\n        border-radius: 6px;\n\n        > * {\n            width: 16px;\n            height: 16px;\n        }\n    }\n\n    .edit-hover {\n        :hover {\n            background-color: ',";\n            transition: background-color 150ms;\n        }\n    }\n\n    .checkmark-hover {\n        :hover {\n            color: #ffffff;\n            background-color: ",";\n        }\n    }\n\n    .md-edit-textarea {\n        position: relative;\n        top: 0px;\n        left: 0px;\n        width: 0px;\n        height: 0px;\n        margin-top: 25px;\n        opacity: 0;\n        padding: 0;\n    }\n\n    .ml-6 {\n        margin-left: 6px;\n    }\n"])),(function(p){return p.targetRect.width}),(function(p){return p.theme.textDark}),growing_entry_style.a,(function(p){return p.theme.accentColor}),(function(p){return p.theme.accentLight}),(function(p){return p.theme.accentColor}));try{MarkdownOverlayEditorStyle.displayName="MarkdownOverlayEditorStyle",MarkdownOverlayEditorStyle.__docgenInfo={description:"",displayName:"MarkdownOverlayEditorStyle",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<HTMLDivElement>"}},targetRect:{defaultValue:null,description:"",name:"targetRect",required:!0,type:{name:"Rectangle"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-grid-overlay-editor/private/markdown-overlay-editor-style.tsx#MarkdownOverlayEditorStyle"]={docgenInfo:MarkdownOverlayEditorStyle.__docgenInfo,name:"MarkdownOverlayEditorStyle",path:"core/src/data-grid-overlay-editor/private/markdown-overlay-editor-style.tsx#MarkdownOverlayEditorStyle"})}catch(__react_docgen_typescript_loader_error){}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var markdown_overlay_editor_MarkdownOverlayEditor=function MarkdownOverlayEditor(p){var markdown=p.markdown,onChange=p.onChange,onKeyDown=p.onKeyDown,forceEditMode=p.forceEditMode,createNode=p.createNode,targetRect=p.targetRect,readonly=p.readonly,onFinish=p.onFinish,_React$useState2=_slicedToArray(react.useState(""===markdown||forceEditMode),2),editMode=_React$useState2[0],setEditMode=_React$useState2[1],onEditClick=react.useCallback((function(){setEditMode((function(e){return!e}))}),[]),addLeftPad=markdown?"ml-6":"";return editMode?react.createElement(MarkdownOverlayEditorStyle,{targetRect:targetRect},react.createElement(growing_entry,{autoFocus:!0,highlight:!1,onKeyDown:onKeyDown,value:markdown,onChange:onChange}),react.createElement("div",{className:"edit-icon checkmark-hover "+addLeftPad,onClick:onFinish},react.createElement(utils.a,null))):react.createElement(MarkdownOverlayEditorStyle,{targetRect:targetRect},react.createElement(markdown_div_MarkdownDiv,{contents:markdown,createNode:createNode}),!readonly&&react.createElement(react.Fragment,null,react.createElement("div",{className:"spacer"}),react.createElement("div",{className:"edit-icon edit-hover "+addLeftPad,onClick:onEditClick},react.createElement(utils.b,null))),react.createElement("textarea",{className:"md-edit-textarea",autoFocus:!0,onKeyDown:onKeyDown}))};try{markdown_overlay_editor_MarkdownOverlayEditor.displayName="MarkdownOverlayEditor",markdown_overlay_editor_MarkdownOverlayEditor.__docgenInfo={description:"",displayName:"MarkdownOverlayEditor",props:{targetRect:{defaultValue:null,description:"",name:"targetRect",required:!0,type:{name:"Rectangle"}},markdown:{defaultValue:null,description:"",name:"markdown",required:!0,type:{name:"string"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!0,type:{name:"(event: KeyboardEvent<HTMLTextAreaElement>) => void"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(ev: ChangeEvent<HTMLTextAreaElement>) => void"}},forceEditMode:{defaultValue:null,description:"",name:"forceEditMode",required:!0,type:{name:"boolean"}},onFinish:{defaultValue:null,description:"",name:"onFinish",required:!0,type:{name:"() => void"}},readonly:{defaultValue:null,description:"",name:"readonly",required:!0,type:{name:"boolean"}},createNode:{defaultValue:null,description:"",name:"createNode",required:!1,type:{name:"(content: string) => DocumentFragment"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-grid-overlay-editor/private/markdown-overlay-editor.tsx#MarkdownOverlayEditor"]={docgenInfo:markdown_overlay_editor_MarkdownOverlayEditor.__docgenInfo,name:"MarkdownOverlayEditor",path:"core/src/data-grid-overlay-editor/private/markdown-overlay-editor.tsx#MarkdownOverlayEditor"})}catch(__react_docgen_typescript_loader_error){}var number_overlay_editor_style_templateObject,markdownCellRenderer={getAccessibilityString:function getAccessibilityString(c){var _c$data$toString,_c$data;return null!==(_c$data$toString=null===(_c$data=c.data)||void 0===_c$data?void 0:_c$data.toString())&&void 0!==_c$data$toString?_c$data$toString:""},kind:data_grid_types.b.Markdown,needsHover:!1,needsHoverPosition:!1,render:function render(a){return Object(data_grid_lib.h)(a,a.cell.data)},onDelete:function onDelete(c){return Object.assign({},c,{data:""})},getEditor:function getEditor(){return function(p){var _onChange=p.onChange,onKeyDown=p.onKeyDown,value=p.value,target=p.target,onFinishedEditing=p.onFinishedEditing,markdownDivCreateNode=p.markdownDivCreateNode,forceEditMode=p.forceEditMode;return react.createElement(markdown_overlay_editor_MarkdownOverlayEditor,{onFinish:onFinishedEditing,targetRect:target,readonly:!0===value.readonly,markdown:value.data,onKeyDown:onKeyDown,onChange:function onChange(e){return _onChange(Object.assign({},value,{data:e.target.value}))},forceEditMode:forceEditMode,createNode:markdownDivCreateNode})}}},markerCellRenderer={getAccessibilityString:function getAccessibilityString(c){return c.row.toString()},kind:data_grid_types.d.Marker,needsHover:!0,needsHoverPosition:!1,render:function render(a){return Object(data_grid_lib.e)(a,a.cell.row,a.cell.checked,a.cell.markerKind)}},newRowCellRenderer={getAccessibilityString:function getAccessibilityString(){return""},kind:data_grid_types.d.NewRow,needsHover:!0,needsHoverPosition:!1,render:function render(a){return Object(data_grid_lib.f)(a,a.cell.hint,a.cell.isFirst)}};__webpack_require__(63);var NumberOverlayEditorStyle=styles.b.div(number_overlay_editor_style_templateObject||(number_overlay_editor_style_templateObject=function number_overlay_editor_style_taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n    display: flex;\n    margin-top: 6px;\n    color: ",";\n\n    > input {\n        font-size: 13px;\n        padding: 0;\n        font-family: ",";\n        color: ",";\n    }\n"])),(function(p){return p.theme.textDark}),(function(p){return p.theme.fontFamily}),(function(p){return p.theme.textDark}));try{NumberOverlayEditorStyle.displayName="NumberOverlayEditorStyle",NumberOverlayEditorStyle.__docgenInfo={description:"",displayName:"NumberOverlayEditorStyle",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<HTMLDivElement>"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-grid-overlay-editor/private/number-overlay-editor-style.tsx#NumberOverlayEditorStyle"]={docgenInfo:NumberOverlayEditorStyle.__docgenInfo,name:"NumberOverlayEditorStyle",path:"core/src/data-grid-overlay-editor/private/number-overlay-editor-style.tsx#NumberOverlayEditorStyle"})}catch(__react_docgen_typescript_loader_error){}var react_number_format_es=__webpack_require__(210);function getDecimalSeparator(){var _Intl$NumberFormat,_Intl$NumberFormat$fo,_Intl$NumberFormat$fo2,result=null===(_Intl$NumberFormat=Intl.NumberFormat())||void 0===_Intl$NumberFormat||null===(_Intl$NumberFormat$fo=_Intl$NumberFormat.formatToParts(1.1))||void 0===_Intl$NumberFormat$fo||null===(_Intl$NumberFormat$fo2=_Intl$NumberFormat$fo.find((function(part){return"decimal"===part.type})))||void 0===_Intl$NumberFormat$fo2?void 0:_Intl$NumberFormat$fo2.value;return null!=result?result:"."}var number_overlay_editor=function NumberOverlayEditor(p){var value=p.value,onChange=p.onChange,onKeyDown=p.onKeyDown,disabled=p.disabled,highlight=p.highlight;return react.createElement(NumberOverlayEditorStyle,null,react.createElement(react_number_format_es.a,{autoFocus:!0,onFocus:function onFocus(e){return e.target.setSelectionRange(highlight?0:e.target.value.length,e.target.value.length)},disabled:!0===disabled,thousandSeparator:"."===getDecimalSeparator()?",":".",decimalSeparator:getDecimalSeparator(),value:null!=value?value:"",onValueChange:onChange,onKeyDown:onKeyDown}))};try{numberoverlayeditor.displayName="numberoverlayeditor",numberoverlayeditor.__docgenInfo={description:"",displayName:"numberoverlayeditor",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"number"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!0,type:{name:"(ev: KeyboardEvent<HTMLInputElement>) => void"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(values: NumberFormatValues) => void"}},highlight:{defaultValue:null,description:"",name:"highlight",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-grid-overlay-editor/private/number-overlay-editor.tsx#numberoverlayeditor"]={docgenInfo:numberoverlayeditor.__docgenInfo,name:"numberoverlayeditor",path:"core/src/data-grid-overlay-editor/private/number-overlay-editor.tsx#numberoverlayeditor"})}catch(__react_docgen_typescript_loader_error){}var uri_overlay_editor_style_templateObject,numberCellRenderer={getAccessibilityString:function getAccessibilityString(c){var _c$data$toString,_c$data;return null!==(_c$data$toString=null===(_c$data=c.data)||void 0===_c$data?void 0:_c$data.toString())&&void 0!==_c$data$toString?_c$data$toString:""},kind:data_grid_types.b.Number,needsHover:!1,needsHoverPosition:!1,render:function render(a){return Object(data_grid_lib.h)(a,a.cell.displayData)},onDelete:function onDelete(c){return Object.assign({},c,{data:void 0})},getEditor:function getEditor(){return function(p){var isHighlighted=p.isHighlighted,_onChange=p.onChange,onKeyDown=p.onKeyDown,value=p.value;return react.createElement(number_overlay_editor,{highlight:isHighlighted,disabled:!0===value.readonly,value:value.data,onKeyDown:onKeyDown,onChange:function onChange(x){return _onChange(Object.assign({},value,{data:x.floatValue}))}})}}},protectedCellRenderer={getAccessibilityString:function getAccessibilityString(){return""},kind:data_grid_types.b.Protected,needsHover:!1,needsHoverPosition:!1,render:data_grid_lib.g},rowIDCellRenderer={getAccessibilityString:function getAccessibilityString(c){var _c$data$toString,_c$data;return null!==(_c$data$toString=null===(_c$data=c.data)||void 0===_c$data?void 0:_c$data.toString())&&void 0!==_c$data$toString?_c$data$toString:""},kind:data_grid_types.b.RowID,needsHover:!1,needsHoverPosition:!1,render:function render(a){return Object(data_grid_lib.h)(a,a.cell.data,a.theme.textLight)}},textCellRenderer={getAccessibilityString:function getAccessibilityString(c){var _c$data$toString,_c$data;return null!==(_c$data$toString=null===(_c$data=c.data)||void 0===_c$data?void 0:_c$data.toString())&&void 0!==_c$data$toString?_c$data$toString:""},kind:data_grid_types.b.Text,needsHover:!1,needsHoverPosition:!1,render:function render(a){return Object(data_grid_lib.h)(a,a.cell.displayData)},onDelete:function onDelete(c){return Object.assign({},c,{data:""})},getEditor:function getEditor(){return function(p){var isHighlighted=p.isHighlighted,_onChange=p.onChange,onKeyDown=p.onKeyDown,value=p.value;return react.createElement(growing_entry,{highlight:isHighlighted,autoFocus:!0!==value.readonly,disabled:!0===value.readonly,onKeyDown:onKeyDown,value:value.data,onChange:function onChange(e){return _onChange(Object.assign({},value,{data:e.target.value}))}})}}};var UriOverlayEditorStyle=styles.b.div(uri_overlay_editor_style_templateObject||(uri_overlay_editor_style_templateObject=function uri_overlay_editor_style_taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n    display: flex;\n\n    flex-grow: 1;\n\n    align-items: center;\n    padding-top: 2px;\n\n    .link-area {\n        flex-grow: 1;\n        flex-shrink: 1;\n\n        margin-right: 8px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n\n        color: ",";\n        text-decoration: underline !important;\n    }\n\n    .edit-icon {\n        flex-shrink: 0;\n        width: 32px;\n        color: ",";\n\n        cursor: pointer;\n\n        display: flex;\n        justify-content: center;\n        align-items: center;\n\n        > * {\n            width: 24px;\n            height: 24px;\n        }\n    }\n\n    textarea {\n        position: absolute;\n        top: 0px;\n        left: 0px;\n        width: 0px;\n        height: 0px;\n\n        opacity: 0;\n    }\n"])),(function(p){return p.theme.linkColor}),(function(p){return p.theme.accentColor}));try{UriOverlayEditorStyle.displayName="UriOverlayEditorStyle",UriOverlayEditorStyle.__docgenInfo={description:"",displayName:"UriOverlayEditorStyle",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<HTMLDivElement>"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-grid-overlay-editor/private/uri-overlay-editor-style.tsx#UriOverlayEditorStyle"]={docgenInfo:UriOverlayEditorStyle.__docgenInfo,name:"UriOverlayEditorStyle",path:"core/src/data-grid-overlay-editor/private/uri-overlay-editor-style.tsx#UriOverlayEditorStyle"})}catch(__react_docgen_typescript_loader_error){}function uri_overlay_editor_slicedToArray(arr,i){return function uri_overlay_editor_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function uri_overlay_editor_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function uri_overlay_editor_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return uri_overlay_editor_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uri_overlay_editor_arrayLikeToArray(o,minLen)}(arr,i)||function uri_overlay_editor_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uri_overlay_editor_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var uri_overlay_editor=function UriOverlayEditor(p){var uri=p.uri,onChange=p.onChange,onKeyDown=p.onKeyDown,forceEditMode=p.forceEditMode,readonly=p.readonly,_React$useState2=uri_overlay_editor_slicedToArray(react.useState(""===uri||forceEditMode),2),editMode=_React$useState2[0],setEditMode=_React$useState2[1],onEditClick=react.useCallback((function(){setEditMode(!0)}),[]);return editMode?react.createElement(growing_entry,{highlight:!0,autoFocus:!0,onKeyDown:onKeyDown,value:uri,onChange:onChange}):react.createElement(UriOverlayEditorStyle,null,react.createElement("a",{className:"link-area",href:uri,target:"_blank",rel:"noopener noreferrer"},uri),!readonly&&react.createElement("div",{className:"edit-icon",onClick:onEditClick},react.createElement(utils.b,null)),react.createElement("textarea",{autoFocus:!0,onKeyDown:onKeyDown}))};try{urioverlayeditor.displayName="urioverlayeditor",urioverlayeditor.__docgenInfo={description:"",displayName:"urioverlayeditor",props:{uri:{defaultValue:null,description:"",name:"uri",required:!0,type:{name:"string"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!0,type:{name:"(event: KeyboardEvent<HTMLTextAreaElement>) => void"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(ev: ChangeEvent<HTMLTextAreaElement>) => void"}},forceEditMode:{defaultValue:null,description:"",name:"forceEditMode",required:!0,type:{name:"boolean"}},readonly:{defaultValue:null,description:"",name:"readonly",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["core/src/data-grid-overlay-editor/private/uri-overlay-editor.tsx#urioverlayeditor"]={docgenInfo:urioverlayeditor.__docgenInfo,name:"urioverlayeditor",path:"core/src/data-grid-overlay-editor/private/uri-overlay-editor.tsx#urioverlayeditor"})}catch(__react_docgen_typescript_loader_error){}var _CellRenderers,uriCellRenderer={getAccessibilityString:function getAccessibilityString(c){var _c$data$toString,_c$data;return null!==(_c$data$toString=null===(_c$data=c.data)||void 0===_c$data?void 0:_c$data.toString())&&void 0!==_c$data$toString?_c$data$toString:""},kind:data_grid_types.b.Uri,needsHover:!1,needsHoverPosition:!1,render:function render(a){return Object(data_grid_lib.h)(a,a.cell.data)},onDelete:function onDelete(c){return Object.assign({},c,{data:""})},getEditor:function getEditor(){return function(p){var _onChange=p.onChange,onKeyDown=p.onKeyDown,value=p.value,forceEditMode=p.forceEditMode;return react.createElement(uri_overlay_editor,{forceEditMode:forceEditMode,uri:value.data,readonly:!0===value.readonly,onKeyDown:onKeyDown,onChange:function onChange(e){return _onChange(Object.assign({},value,{data:e.target.value}))}})}}},CellRenderers=((_CellRenderers={})[data_grid_types.d.Marker]=markerCellRenderer,_CellRenderers[data_grid_types.d.NewRow]=newRowCellRenderer,_CellRenderers[data_grid_types.b.Boolean]=booleanCellRenderer,_CellRenderers[data_grid_types.b.Bubble]=bubbleCellRenderer,_CellRenderers[data_grid_types.b.Drilldown]=drilldownCellRenderer,_CellRenderers[data_grid_types.b.Image]=imageCellRenderer,_CellRenderers[data_grid_types.b.Loading]=loadingCellRenderer,_CellRenderers[data_grid_types.b.Markdown]=markdownCellRenderer,_CellRenderers[data_grid_types.b.Number]=numberCellRenderer,_CellRenderers[data_grid_types.b.Protected]=protectedCellRenderer,_CellRenderers[data_grid_types.b.RowID]=rowIDCellRenderer,_CellRenderers[data_grid_types.b.Text]=textCellRenderer,_CellRenderers[data_grid_types.b.Uri]=uriCellRenderer,_CellRenderers)}},[[429,1,2]]]);